<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Paediatrics Cardiology</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Paediatrics Cardiology</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                38 Questions | 128 Total Marks | 48 min Duration | ~75.79 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 38 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 48 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 38</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Paediatrics Cardiology - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 38</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 38 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Which congenital heart disease has the LEAST chance of heart failure in infants?", "options": [{"label": "A", "text": "TOF", "correct": true}, {"label": "B", "text": "VSD", "correct": false}, {"label": "C", "text": "TAPVC", "correct": false}, {"label": "D", "text": "ASD", "correct": false}], "correct_answer": "A. TOF", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/24338751699073587/24338751699073587.m3u8"}, {"text": "Prevalence of congenital heart disease is?", "options": [{"label": "A", "text": "0.8%", "correct": true}, {"label": "B", "text": "1-2%", "correct": false}, {"label": "C", "text": "2-6%", "correct": false}, {"label": "D", "text": "10-12%", "correct": false}], "correct_answer": "A. 0.8%", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/27938771699073603/27938771699073603.m3u8"}, {"text": "Most common cardiac lesion in downâ€™s syndrome is?", "options": [{"label": "A", "text": "Atrioventricular septal defect", "correct": true}, {"label": "B", "text": "VSD", "correct": false}, {"label": "C", "text": "Coarctation of aorta", "correct": false}, {"label": "D", "text": "Transposition of great vessels", "correct": false}], "correct_answer": "A. Atrioventricular septal defect", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50871081699073618/50871081699073618.m3u8"}, {"text": "Recurrent respiratory tract infection occur in all of the following except?", "options": [{"label": "A", "text": "VSD", "correct": false}, {"label": "B", "text": "TOF", "correct": true}, {"label": "C", "text": "TGA", "correct": false}, {"label": "D", "text": "TAPVC", "correct": false}], "correct_answer": "B. TOF", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/20981391699073630/20981391699073630.m3u8"}, {"text": "Six week old Rajesh is brought for 1st immunization with c/o feeding difficulty, forehead sweating & fast breathing. On examination he is irritable, has tachycardia, tachypnea and hepatomegaly and has not gained weight. CXR shows cardiomegaly. His mother has been told the baby has some cardiac problem at birth and was advised follow up, but she did not turn up. The most likely diagnosis is?", "options": [{"label": "A", "text": "Bacterial endocarditis", "correct": false}, {"label": "B", "text": "CCF", "correct": true}, {"label": "C", "text": "Cyanotic spell", "correct": false}, {"label": "D", "text": "Cor pulmonale", "correct": false}], "correct_answer": "B. CCF", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/16829631699073642/16829631699073642.m3u8"}, {"text": "Most common congenital heart disease is?", "options": [{"label": "A", "text": "ASD", "correct": false}, {"label": "B", "text": "VSD", "correct": true}, {"label": "C", "text": "PDA", "correct": false}, {"label": "D", "text": "TOF", "correct": false}], "correct_answer": "B. VSD", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/70807681699073652/70807681699073652.m3u8"}, {"text": "The congenital heart disease most commonly associated with pre-excitation syndrome is?", "options": [{"label": "A", "text": "Double outlet RV", "correct": false}, {"label": "B", "text": "Taussig- Bing anomaly", "correct": false}, {"label": "C", "text": "Ebsteinâ€™s anomaly", "correct": true}, {"label": "D", "text": "Truncus arteriosus", "correct": false}], "correct_answer": "C. Ebsteinâ€™s anomaly", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/5087381699073663/5087381699073663.m3u8"}, {"text": "The most common congenital heart disease associated with thymic hypoplasia is?", "options": [{"label": "A", "text": "PS", "correct": false}, {"label": "B", "text": "Truncus arteriosus", "correct": true}, {"label": "C", "text": "PDA", "correct": false}, {"label": "D", "text": "TOF", "correct": false}], "correct_answer": "B. Truncus arteriosus", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/54711461699073674/54711461699073674.m3u8"}, {"text": "Coarctation of the aorta is common in which syndrome?", "options": [{"label": "A", "text": "Downâ€™s syndrome", "correct": false}, {"label": "B", "text": "Noonanâ€™s syndrome", "correct": false}, {"label": "C", "text": "Turnerâ€™s syndrome", "correct": true}, {"label": "D", "text": "Klinefelterâ€™s syndrome", "correct": false}], "correct_answer": "C. Turnerâ€™s syndrome", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/18690221699073687/18690221699073687.m3u8"}, {"text": "The congenital heart disease associated with lithium intake during pregnancy?", "options": [{"label": "A", "text": "TOF", "correct": false}, {"label": "B", "text": "TGA", "correct": false}, {"label": "C", "text": "ECD", "correct": false}, {"label": "D", "text": "Ebsteinâ€™s anomaly", "correct": true}], "correct_answer": "D. Ebsteinâ€™s anomaly", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/30905181699073698/30905181699073698.m3u8"}, {"text": "NADAS criteria is useful for?", "options": [{"label": "A", "text": "Assessment of congenital heart disease in adults", "correct": false}, {"label": "B", "text": "Assessment of congenital heart disease in children", "correct": true}, {"label": "C", "text": "Assessment of dehydration in both children and adults", "correct": false}, {"label": "D", "text": "Assessment of congenital heart disease only in pregnancy", "correct": false}], "correct_answer": "B. Assessment of congenital heart disease in children", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/75526641699073709/75526641699073709.m3u8"}, {"text": "The congenital heart disease which is not ductal dependent?", "options": [{"label": "A", "text": "Truncus arteriosus", "correct": true}, {"label": "B", "text": "TGA with intact ventricular septum", "correct": false}, {"label": "C", "text": "Hypoplastic left heart syndrome", "correct": false}, {"label": "D", "text": "Critical pulmonary stenosis", "correct": false}], "correct_answer": "A. Truncus arteriosus", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the likely disease in the child show below:", "options": [{"label": "A", "text": "ASD", "correct": true}, {"label": "B", "text": "VSD", "correct": false}, {"label": "C", "text": "ECD", "correct": false}, {"label": "D", "text": "TGA", "correct": false}], "correct_answer": "A. ASD", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/course_file_meta/38635156.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/55565801699073737/55565801699073737.m3u8"}, {"text": "Which of the following features on x ray chest can differentiate an atrial septal defect (ASD) and a ventricular septal defect (VSD)?", "options": [{"label": "A", "text": "Enlarged left atrium", "correct": true}, {"label": "B", "text": "Pulmonary plethora", "correct": false}, {"label": "C", "text": "Enlarged pulmonary artery", "correct": false}, {"label": "D", "text": "Enlarged aorta", "correct": false}], "correct_answer": "A. Enlarged left atrium", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/29545061699073751/29545061699073751.m3u8"}, {"text": "A 2 year old child was diagnosed as a case of VSD with intermittent CCF and recurrent pneumonias. But the child was lost to follow-up and was seen 5 years later. The parents of the child reported spontaneous resolution of CCF in the child since past few weeks. What is your interpretation?", "options": [{"label": "A", "text": "Parents are lying", "correct": false}, {"label": "B", "text": "Spontaneous closure of a muscular VSD", "correct": false}, {"label": "C", "text": "Restriction of LÃ  R shunt by restrictive VSD", "correct": false}, {"label": "D", "text": "Impending eisenmenger syndrome", "correct": true}], "correct_answer": "D. Impending eisenmenger syndrome", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/42995231699073766/42995231699073766.m3u8"}, {"text": "All are true about tetralogy of fallot except?", "options": [{"label": "A", "text": "Right sided aortic arch seen in 85% cases", "correct": true}, {"label": "B", "text": "Associated with CATCH â€“ 22 syndrome", "correct": false}, {"label": "C", "text": "Persistence of a left superior vena cava is seen in", "correct": false}, {"label": "D", "text": "Multiple ventricular septal defects may be seen", "correct": false}], "correct_answer": "A. Right sided aortic arch seen in 85% cases", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/33562441699073778/33562441699073778.m3u8"}, {"text": "An infant had repeated episodes of bluish discoloration of lips, which were relieved by squatting position. Chest X-ray is shown below. What is the likely diagnosis?", "options": [{"label": "A", "text": "Ostium primum ASD", "correct": false}, {"label": "B", "text": "VSD with severe pneumonia", "correct": false}, {"label": "C", "text": "TGA", "correct": false}, {"label": "D", "text": "TOF", "correct": true}], "correct_answer": "D. TOF", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/Paeds%20q227.png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/74910261699073800/74910261699073800.m3u8"}, {"text": "All of the following are used for the treatment of cyanotic spells except â€“", "options": [{"label": "A", "text": "Phenylephrine", "correct": false}, {"label": "B", "text": "Calcium chloride", "correct": true}, {"label": "C", "text": "Sodium bicarbonate", "correct": false}, {"label": "D", "text": "Propranolol", "correct": false}], "correct_answer": "B. Calcium chloride", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/37656171699073811/37656171699073811.m3u8"}, {"text": "The most consistent feature suggestive of a child with TOF being in cyanotic spell is:", "options": [{"label": "A", "text": "SpO2 <85%", "correct": false}, {"label": "B", "text": "Disappearance of pulmonary ejection systolic murmur", "correct": true}, {"label": "C", "text": "Syncope in the child", "correct": false}, {"label": "D", "text": "Hyperventilation", "correct": false}], "correct_answer": "B. Disappearance of pulmonary ejection systolic murmur", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/30797421699073825/30797421699073825.m3u8"}, {"text": "Eisenmenger syndrome is characterized by all except:", "options": [{"label": "A", "text": "Return of left ventricle & right ventricle to normal size", "correct": true}, {"label": "B", "text": "Right ventricular hypertrophy", "correct": false}, {"label": "C", "text": "Pruning of peripheral pulmonary arteries", "correct": false}, {"label": "D", "text": "Dilatation of central pulmonary artery", "correct": false}], "correct_answer": "A. Return of left ventricle & right ventricle to normal size", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/73559371699073837/73559371699073837.m3u8"}, {"text": "A preterm baby with large PDA and CCF has associated renal failure. The platelet count is 50,000 & USG cranium shows IVH. The baby is also suffering form NNEC. The most appropriate modality of PDA closure would be?", "options": [{"label": "A", "text": "Indomethacin 0.2 mg/kg 3 doses at the 12th hourly intervals IV/PO", "correct": false}, {"label": "B", "text": "Brufen â€“ 10 mg/ Kg 3 doses at 24 hour interval", "correct": false}, {"label": "C", "text": "Bedside ligation of PDA", "correct": true}, {"label": "D", "text": "PGE, infusion", "correct": false}], "correct_answer": "C. Bedside ligation of PDA", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/76473311699073850/76473311699073850.m3u8"}, {"text": "True about 1 year old child with PDA is?", "options": [{"label": "A", "text": "Symptoms similar to aorto pulmonary window", "correct": true}, {"label": "B", "text": "Chances of spontaneous closure high", "correct": false}, {"label": "C", "text": "Indomethacin may help in closure", "correct": false}, {"label": "D", "text": "Endocarditis is rare", "correct": false}], "correct_answer": "A. Symptoms similar to aorto pulmonary window", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/9721861699073865/9721861699073865.m3u8"}, {"text": "Congestive heart failure in children Is first diagnosed by:", "options": [{"label": "A", "text": "Tachycardia and tender hepatomegaly", "correct": true}, {"label": "B", "text": "Increased JVP", "correct": false}, {"label": "C", "text": "Increased JVP+ pedal edema", "correct": false}, {"label": "D", "text": "Hypotension", "correct": false}], "correct_answer": "A. Tachycardia and tender hepatomegaly", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/23108961699073882/23108961699073882.m3u8"}, {"text": "The only cyanotic disease showing LV hypertrophy on CXR is:", "options": [{"label": "A", "text": "Tricuspid atresia", "correct": true}, {"label": "B", "text": "Ebsteinâ€™s anomaly", "correct": false}, {"label": "C", "text": "Truncus arteriosus", "correct": false}, {"label": "D", "text": "PDA with Eisenmenger", "correct": false}], "correct_answer": "A. Tricuspid atresia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/38099041699073895/38099041699073895.m3u8"}, {"text": "Identify the disease associated with this CXR:", "options": [{"label": "A", "text": "TOF", "correct": false}, {"label": "B", "text": "TGA", "correct": false}, {"label": "C", "text": "TAPVC", "correct": true}, {"label": "D", "text": "Truncus arteriosus", "correct": false}], "correct_answer": "C. TAPVC", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/course_file_meta/3874718.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/54935641699073907/54935641699073907.m3u8"}, {"text": "RIB notching of 4-9 th ribs is seen in?", "options": [{"label": "A", "text": "Aortic aneurysm", "correct": false}, {"label": "B", "text": "Aortic dissection", "correct": false}, {"label": "C", "text": "Coarctation of aorta", "correct": true}, {"label": "D", "text": "Diaphragmatic hernia", "correct": false}], "correct_answer": "C. Coarctation of aorta", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/16152261699073919/16152261699073919.m3u8"}, {"text": "A cyanotic newborn is suspected of having CHD. She has a left ventricular impulse, with holosystolic murmur, audible at left sternal border with single S2. CXR shows decreased pulmonary blood flow, oligemic lung fields. ECG shows left axis deviation. The most probable diagnosis is?", "options": [{"label": "A", "text": "TOF", "correct": false}, {"label": "B", "text": "TGA", "correct": false}, {"label": "C", "text": "Tricuspid atresia", "correct": true}, {"label": "D", "text": "TAPVC", "correct": false}], "correct_answer": "C. Tricuspid atresia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/74401221699073931/74401221699073931.m3u8"}, {"text": "A child with TOF presents with mild fever, vomiting and headache for the past 3 days and is rushed to the casualty early morning in altered sensorium. On examination he is cyanosed, has clubbing, ESM murmur is heard in pulmonary area. He throws convulsions in ER and neurological examination shows paucity of movements and Babinskiâ€™s on R side. The most probable diagnosis?", "options": [{"label": "A", "text": "Paradoxical emboli to CNS", "correct": false}, {"label": "B", "text": "Cyanotic spell", "correct": false}, {"label": "C", "text": "Brain abscess", "correct": true}, {"label": "D", "text": "Meningitis", "correct": false}], "correct_answer": "C. Brain abscess", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34027141699073944/34027141699073944.m3u8"}, {"text": "Potts shunt is anastomosis of:", "options": [{"label": "A", "text": "Right subclavian artery to right pulmonary artery", "correct": false}, {"label": "B", "text": "Descending aorta to left pulmonary artery", "correct": true}, {"label": "C", "text": "Left subclavian to left pulmonary artery", "correct": false}, {"label": "D", "text": "Ascending aorta to right pulmonary", "correct": false}], "correct_answer": "B. Descending aorta to left pulmonary artery", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/51150141699073957/51150141699073957.m3u8"}, {"text": "Right sided aortic arch is commonly associated with?", "options": [{"label": "A", "text": "Truncus arteriosus", "correct": true}, {"label": "B", "text": "TAPVC", "correct": false}, {"label": "C", "text": "Endocardial cushion defect", "correct": false}, {"label": "D", "text": "PDA", "correct": false}], "correct_answer": "A. Truncus arteriosus", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/5471161699073973/5471161699073973.m3u8"}, {"text": "The following visualisation on angiography is seen in?", "options": [{"label": "A", "text": "ECD", "correct": true}, {"label": "B", "text": "VSD", "correct": false}, {"label": "C", "text": "Truncus arteriosus", "correct": false}, {"label": "D", "text": "Preductal CoA", "correct": false}], "correct_answer": "A. ECD", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/course_file_meta/51804149.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/8576371699073995/8576371699073995.m3u8"}, {"text": "Box-shaped heart is seen in?", "options": [{"label": "A", "text": "TOF", "correct": false}, {"label": "B", "text": "TGA", "correct": false}, {"label": "C", "text": "Ebsteinâ€™s anomaly", "correct": true}, {"label": "D", "text": "Tricuspid atresia", "correct": false}], "correct_answer": "C. Ebsteinâ€™s anomaly", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50911041699074010/50911041699074010.m3u8"}, {"text": "Drug used to keep DA open is?", "options": [{"label": "A", "text": "PGE1", "correct": true}, {"label": "B", "text": "PGE2", "correct": false}, {"label": "C", "text": "PGI2", "correct": false}, {"label": "D", "text": "TXA2", "correct": false}], "correct_answer": "A. PGE1", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/26478931699074023/26478931699074023.m3u8"}, {"text": "Which congenital heart disease worsens on starting PGE1 infusion?", "options": [{"label": "A", "text": "TGA with intact ventricular septum", "correct": false}, {"label": "B", "text": "Obstructive TAPVC", "correct": true}, {"label": "C", "text": "Ebsteinâ€™s anomaly", "correct": false}, {"label": "D", "text": "Pulmonary atresia", "correct": false}], "correct_answer": "B. Obstructive TAPVC", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/43708161699074034/43708161699074034.m3u8"}, {"text": "Mechanism of acute rheumatic fever is?", "options": [{"label": "A", "text": "Immune complex disease", "correct": false}, {"label": "B", "text": "Bacterial toxin mediated injury", "correct": false}, {"label": "C", "text": "Molecular mimicry", "correct": true}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "C. Molecular mimicry", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/49191041699074049/49191041699074049.m3u8"}, {"text": "Duration of prednisolone in carditis in acute rheumatic fever is?", "options": [{"label": "A", "text": "2 weeks", "correct": false}, {"label": "B", "text": "6 weeks", "correct": false}, {"label": "C", "text": "12 weeks", "correct": true}, {"label": "D", "text": "24 weeks", "correct": false}], "correct_answer": "C. 12 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/44362091699074062/44362091699074062.m3u8"}, {"text": "Not a major criteria for diagnosis of acute rheumatic fever in high-risk populations according to latest modified jones criteria?", "options": [{"label": "A", "text": "Monoarthritis", "correct": false}, {"label": "B", "text": "Polyarthralgia", "correct": false}, {"label": "C", "text": "Subcutaneous nodules", "correct": false}, {"label": "D", "text": "Elevated CRP >3 mg/dl", "correct": true}], "correct_answer": "D. Elevated CRP >3 mg/dl", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/72570941699074076/72570941699074076.m3u8"}, {"text": "Which class of drugs is used as initial empirical therapy of childhood CCF?", "options": [{"label": "A", "text": "Diuretics", "correct": true}, {"label": "B", "text": "CCBs", "correct": false}, {"label": "C", "text": "ACE inhibitors", "correct": false}, {"label": "D", "text": "ARBs", "correct": false}], "correct_answer": "A. Diuretics", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/16466221699074088/16466221699074088.m3u8"}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(