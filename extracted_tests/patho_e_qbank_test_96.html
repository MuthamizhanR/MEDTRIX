<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>RBCs &amp; Anemia  Basics</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`üß† Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">RBCs &amp; Anemia  Basics</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                20 Questions | 20 Total Marks | 30 min Duration | ~90.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 20 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 30 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 20</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">RBCs &amp; Anemia  Basics - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 20</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 20 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 26-year patient having RBC count 2 lakhs/mm3, PCV 30%, and hemoglobin 9.3, what is the type of anemia?", "options": [{"label": "A", "text": "Iron deficiency anemia", "correct": false}, {"label": "B", "text": "Folic acid deficiency anemia", "correct": true}, {"label": "C", "text": "Thalassemia", "correct": false}, {"label": "D", "text": "Sideroblastic anemia", "correct": false}], "correct_answer": "B. Folic acid deficiency anemia", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Folic acid deficiency anemia Hematocrit or Packed cell volume: Ratio of the volume of RBCs to Total volume of blood Hct or PCV = MCV √ó RBC concentration Now coming back to the question: MCV =PCV/RBC count (in millions) = 30/0.2 = 150 (Increased) MCH= Hb/RBC count = 9.3/ 0.2= 46 (Increased) MCHC= Hb/ PCV = 31 (Normal) Goes in favor of Macrocytic anemia , thus Option: B is correct.</p>\n<p><strong>Highyeild:</strong></p><p>Adult Reference Ranges for Red Cells* Measurement (Units) Men Women Hemoglobin (g/dL) 13.6-17.2 12.0-15.0 Hematocrit (%) 39-49 33-43 Red cell count (√ó10/¬µL) 4.3-5.9 3.5-5.0 Reticulocyte count (%) 0.5-1.5 Mean cell volume (fL) 82-96 Mean cell hemoglobin (pg) 27-33 Mean cell hemoglobin concentration (g/dL) 33-37 Red cell distribution width 11.5-14.5 *Reference ranges vary among laboratories. The reference ranges for the laboratory providing the result should always be used in interpreting test results.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Iron deficiency anemia. Example of Microcytic anemia . Option: C. Thalassemia. Example of Microcytic anemia . Option: D. Sideroblastic anemia. Example of Microcytic anemia .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the predominant abnormally shaped red cell type seen in the peripheral smear given below:", "options": [{"label": "A", "text": "Macrocyte", "correct": false}, {"label": "B", "text": "Acanthocyte", "correct": true}, {"label": "C", "text": "Dacrocyte", "correct": false}, {"label": "D", "text": "Elliptocyte", "correct": false}], "correct_answer": "B. Acanthocyte", "question_images": ["https://dbmi-data.s3.ap-south-1.amazonaws.com/photos-1686829031588-QTDP070002IMG1.JPG"], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Acanthocyte Acanthocytes ( Acanthos means spine ) are cells of approximately spherical shape bearing between 2 and 20 spicules that are of unequal length and distributed irregularly over the red cell surface . Some of the spicules have club-shaped rather than pointed ends.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Macrocyte. Large RBC , classically found in megaloblastic anemias , macrocytes are also present in some cases of aplastic anemia, myelodysplastic syndromes, and other dyserythropoietic states . Option: C. Dacrocyte. RBC that is shaped like a teardrop (a \" teardrop cell \"), seen in Iron deficiency anemia, Primary Myelofibrosis, Pernicious anemia, etc. Option: D. Elliptocyte. Elliptocytes are elongated oval-shaped red blood cells, seen in Iron deficiency anemia, Hereditary Elliptocytosis, and Hereditary Pyropoikilocytosis .</p>\n<p><strong>Extraedge:</strong></p><p>Acanthocytes are seen in: Post splenectomy Abetalipoproteinemia Hyposplenism Liver disease</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Spur cells are seen in", "options": [{"label": "A", "text": "Hereditary spherocytosis", "correct": false}, {"label": "B", "text": "G6PD deficiency", "correct": false}, {"label": "C", "text": "Liver disease", "correct": true}, {"label": "D", "text": "Sideroblastic anemia", "correct": false}], "correct_answer": "C. Liver disease", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Liver disease Acanthocytes ( Acanthos means spine ) aka Spur cells are cells of approximately spherical shape bearing between 2 and 20 spicules that are of unequal length and distributed irregularly over the red cell surface . Some of the spicules have club-shaped rather than pointed ends.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A: Hereditary spherocytosis. Spherocytes are seen. Option: B. G6PD deficiency. Routine staining may reveal polychromasia , representing increased RBC production . So-called bite cells caused by the splenic removal of denatured hemoglobin may be seen. Heinz bodies (denatured hemoglobin) can be seen. Option: D. Sideroblastic anemia. Type of anemia that results from abnormal utilization of iron during erythropoiesis . A hallmark of sideroblastic anemia is the presence of bone marrow ring sideroblasts , erythroblasts with coarse blue granules at Perls staining, due to pathologic iron deposits in mitochondria.</p>\n<p><strong>Extraedge:</strong></p><p>Acanthocytes are seen in: Post splenectomy Abetalipoproteinemia Hyposplenism Liver disease</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Spiculated RBCs with evenly spaced spikes are called:", "options": [{"label": "A", "text": "Acanthocytes", "correct": false}, {"label": "B", "text": "Stomatocytes", "correct": false}, {"label": "C", "text": "Echinocytes", "correct": true}, {"label": "D", "text": "Dacryocytes", "correct": false}], "correct_answer": "C. Echinocytes", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Echinocytes Echinocytes are erythrocytes that have lost their disc shape and are covered with 10‚Äì30 short blunt spicules of fairly regular form .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Acanthocytes ( Acanthos means spine ) aka Spur cells . Acanthocytes are seen in: Post splenectomy, Abetalipoproteinemia, Hyposplenism, and Liver disease . Option: B. Stomatocytes. RBCs with a slit-like or ‚Äúfish-mouth‚Äù central pallor . Stomatocytes may be seen in patients with alcoholic liver disease, hereditary stomatocytosis, or Rh null disease , among other conditions. Option: D. Dacryocytes. Dacrocyte. RBC that is shaped like a teardrop (a \" teardrop cell \"), seen in Iron deficiency anemia, Primary Myelofibrosis, Pernicious anemia etc.</p>\n<p><strong>Extraedge:</strong></p><p>Some causes of echinocytosis: Storage artifact Liver disease, particularly with coexisting renal failure Nutritional or other phosphate deficiency Pyruvate kinase deficiency Phosphoglycerate kinase deficiency Aldolase deficiency Decompression phase of diving Haemolytic uraemic syndrome Following burns Following cardiopulmonary bypass Post-transfusion (spheroechinocytes)</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Supravital staining is used for:", "options": [{"label": "A", "text": "Nucleated RBCs", "correct": false}, {"label": "B", "text": "Reticulocytes", "correct": true}, {"label": "C", "text": "Basophils", "correct": false}, {"label": "D", "text": "Myeloblasts", "correct": false}], "correct_answer": "B. Reticulocytes", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Reticulocytes Supravital staining is used for Reticulocytes Reticulocytes are juvenile red cells that contain remnants of ribosomal RNA that was present in larger amounts in the cytoplasm of the nucleated precursors from which they were derived. Cells staining shades of blue , ‚Äòblue polychromasia‚Äô, are unusually young reticulocytes . ‚ÄòBlue polychromasia‚Äô is most often seen when there is either an intense erythropoietic drive or when there is extramedullary erythropoiesis, as, for instance, in primary myelofibrosis or carcinomatosis . Supravital Stains for Reticulocytes : New methylene blue Brilliant cresyl blue Azure B</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Nucleated RBCs. Incorrect . Option: C. Basophils. Incorrect . Option: D. Myeloblasts. Incorrect .</p>\n<p><strong>Extraedge:</strong></p><p>The administration of recombinant erythropoietin can be suspected from a raised reticulocyte count. Erythropoietin causes increased production of erythroblasts and immature reticulocytes , and accelerates their release from the bone marrow into peripheral blood.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Howel-Jolly bodies may be seen after-", "options": [{"label": "A", "text": "Hepatectomy", "correct": false}, {"label": "B", "text": "Splenectomy", "correct": true}, {"label": "C", "text": "Pancreatectomy", "correct": false}, {"label": "D", "text": "Cholecystectomy", "correct": false}], "correct_answer": "B. Splenectomy", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Splenectomy Howell‚ÄìJolly Bodies Howell‚ÄìJolly bodies are nuclear remnants . They are small, round cytoplasmic inclusions that stain purple on a Romanowsky stain . They are regularly present after splenectomy and when there is splenic atrophy. They may be seen in a small percentage of red cells in pernicious anaemia . Usually, only a few such inclusions are present, but they may be numerous in cases of coeliac disease and in other conditions in which there is splenic atrophy and megaloblastosis . Photomicrograph of a blood film. Postsplenectomy Shows acanthocytes, a target cell and a Howell-Jolly body</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Hepatectomy. Incorrect . Option: C. Pancreatectomy. Incorrect . Option: D. Cholecystectomy. Incorrect .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Cabot‚Äôs ring is seen in:", "options": [{"label": "A", "text": "Megaloblastic anemia", "correct": true}, {"label": "B", "text": "Sickle cell disease", "correct": false}, {"label": "C", "text": "Iron deficiency anemia", "correct": false}, {"label": "D", "text": "Autoimmune anemia", "correct": false}], "correct_answer": "A. Megaloblastic anemia", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Megaloblastic anemia Cabot‚Äôs ring (Mitotic spindle remnants) is seen in Megaloblastic anemia Thalassemia Post splenectomy</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B. Sickle cell disease. Incorrect . Option: C. Iron deficiency anemia. Incorrect . Option: D. Autoimmune anemia. Incorrect .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "ESR is a very critical investigation in the diagnosis of TB. Which of the following is true about ESR in TB?", "options": [{"label": "A", "text": "No change in ESR", "correct": false}, {"label": "B", "text": "Confirms recovery from TB", "correct": false}, {"label": "C", "text": "ESR is raised because of increased RBC aggregate", "correct": true}, {"label": "D", "text": "ESR is raised due to decreased RBC size", "correct": false}], "correct_answer": "C. ESR is raised because of increased RBC aggregate", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>ESR is raised because of increased RBC aggregate Erythrocyte Sedimentation Rate In TB, ESR is raised because of increased RBC aggregates.</p>\n<p><strong>Highyeild:</strong></p><p>ESR is increased by any cause or focus of inflammation . The rouleaux formation and the red cell clumping that is associated with the increased ESR mainly reflect the concentrations of fibrinogen and other acute-phase proteins (e.g. haptoglobin, caeruloplasmin, Œ± 1 -acid glycoprotein, Œ± 1 -antitrypsin, and CRP).</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. No change in ESR. False . Option: B. Confirms recovery from TB. False . Option: D. ESR is raised due to decreased RBC size. False .</p>\n<p><strong>Extraedge:</strong></p><p>Although ESR is a nonspecific phenomenon , its measurement is clinically useful in disorders associated with increased production of acute-phase proteins. In rheumatoid arthritis or tuberculosis, it provides an index of the progress of the disease , and it is of considerable value in the diagnosis of temporal arteritis and polymyalgia rheumatica . An elevated ESR occurs as an early feature in myocardial infarction .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All are true about polycythemia vera except:", "options": [{"label": "A", "text": "Increased ESR", "correct": true}, {"label": "B", "text": "Decreased erythropoietin", "correct": false}, {"label": "C", "text": "Increased LAP score", "correct": false}, {"label": "D", "text": "Increased blood volume", "correct": false}], "correct_answer": "A. Increased ESR", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Increased ESR In polycythemia vera , ESR is decreased due to a decrease in rouleaux formation or an increase in the RBC surface area to volume ratio .</p>\n<p><strong>Highyeild:</strong></p><p>Polycythemia denotes an abnormally high number of circulating red cells , usually with a corresponding increase in the hemoglobin level. The most common cause of primary polycythemia is polycythemia vera , a myeloproliferative neoplasm associated with mutations that lead to erythropoietin-independent growth of red cell progenitors . Polycythemia presents with Aquagenic pruritus ie pruritus seen due to warm bath because of Basophil lysis . Secondary causes of Polycythemia include: Hypoxia COPD Smoking Cyanosis heart disease High altitude Tumors Renal Cell carcinoma Hemangioblastoma</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B. Decreased erythropoietin. True . Option: C. Increased LAP score. True . Option: D. Increased blood volume. True .</p>\n<p><strong>Extraedge:</strong></p><p>Criteria for diagnosis of Polycythemia Vera (PCV): Polycythemia vera (PCV) is characterized by increased marrow production of red cells, granulocytes, and platelets (panmyelosis), but it is the increase in red cells (polycythemia) that is responsible for most of the clinical symptoms. Diagnosis ‚Üí all 3 major or 2 major + 1 minor Major criteria ‚Üë RBC mass ‚ÜíHb> 16.5% (0¬∞)      or HCT > 48% ‚ÜíHb> 16% (9) or HCT > 48% Hypercellular BM with Panmyelosis JAK2 ‚ÜíV617F ‚Üí Exon 12 mutation Minor criteria Low EPO (to rule out 2¬∞ polycythemia)</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following indicates hemolysis?", "options": [{"label": "A", "text": "Target cells", "correct": false}, {"label": "B", "text": "Schistocytes", "correct": true}, {"label": "C", "text": "Acanthocytes", "correct": false}, {"label": "D", "text": "Basophilic stippling", "correct": false}], "correct_answer": "B. Schistocytes", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Schistocytes Schistocytes: Fragmentation syndromes including MicroAngiopathic Haemolytic Anaemia (MAHA) and mechanical hemolytic anemia (but note that schistocytes can be due to dyserythropoietic as well as hemolysis). Photomicrograph of a blood film. Microangiopathic haemolytic anaemia. Shows angular red cell fragments.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Target cells: Seen in Thalassemia, Liver disease, Abetalipoproteinemia, and severe Iron deficiency anemia . Option: C. Acanthocytes: Seen in Hyperlipidemia Option: D. Basophilic stippling: Seen in Abnormal hemoglobin deposition .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Echinocytes are types of:", "options": [{"label": "A", "text": "RBCs", "correct": true}, {"label": "B", "text": "Lymphocytes", "correct": false}, {"label": "C", "text": "Monocytes", "correct": false}, {"label": "D", "text": "Platelets", "correct": false}], "correct_answer": "A. RBCs", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>RBCs Echinocytes are types of RBCs Echinocytes : RBCs with numerous short, regular projections from their surface Echinocytes are seen in uremia, premature infants after exchange transfusion, or as artifacts .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B. Lymphocytes. False . Option: C. Monocytes. False . Option: D. Platelets. False .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Burr cell is seen in:", "options": [{"label": "A", "text": "Uremia", "correct": true}, {"label": "B", "text": "Hepatocellular carcinoma", "correct": false}, {"label": "C", "text": "Gastric carcinoma", "correct": false}, {"label": "D", "text": "Ovarian carcinoma", "correct": false}], "correct_answer": "A. Uremia", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Uremia Crenated cells in renal disease are called Burr cells .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B. Hepatocellular carcinoma. False . Option: C. Gastric carcinoma. False . Option: D. Ovarian carcinoma. False .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The largest number of bone marrow cells are -", "options": [{"label": "A", "text": "Promyelocytes", "correct": false}, {"label": "B", "text": "Metamyelocytes", "correct": false}, {"label": "C", "text": "Erythroid cells", "correct": true}, {"label": "D", "text": "Myelocytes", "correct": false}], "correct_answer": "C. Erythroid cells", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Erythroid cells Largest number of bone marrow cells are Erythroid cells . Normal ranges for differential counts on bone marrow aspirate Cell type Normal range Cell type Normal range Myeloblasts 0-3 Eosinophils 03-4 Promyelocytes 3-12 Basophils 0-0.5 Myelocytes (neutrophil) 2-13 Lymphocytes 5-20 Metamyelocytes 2-6 Monocytes 0-3 Neutrophils 22-46 Plasma cells 0-3.5 Myelocytes (eosinophil 0-3 Erythroblasts 5-35 Megakaryocytes 0-2</p>\n<p><strong>Highyeild:</strong></p><p>Indications of Bone marrow biopsy: Dry tap Aplastic anemia (Bone marrow cellularity < 25%) Myelofibrosis Hairy cell leukemia To assess Bone marrow cellularity To assess metastatic involvement of Bone marrow For Lymphoma staging Myeproloferatlibe neoplasms Storage disease such as Gaucher‚Äôs</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Promyelocytes. False . Option: B. Metamyelocytes. False . Option: D. Myelocytes. False .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following proteins binds with free hemoglobin in the plasma:", "options": [{"label": "A", "text": "Albumin", "correct": false}, {"label": "B", "text": "Haptoglobin", "correct": true}, {"label": "C", "text": "Pre-albumin", "correct": false}, {"label": "D", "text": "Ceruloplasmin", "correct": false}], "correct_answer": "B. Haptoglobin", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Haptoglobin Haptoglobin binds with free hemoglobin in the plasma Free hemoglobin released from lysed red cells is promptly bound by haptoglobin , producing a complex that is rapidly cleared by mononuclear phagocytes. As serum haptoglobin is depleted , free hemoglobin oxidizes to methemoglobin, which is brown in color.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Albumin binds to Bilirubin . Option: C. Pre-albumin. Pre-albumin binds to the Thyroid hormone . Option: D. Ceruloplasmin binds to Copper .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The best method for hemoglobin estimation is-", "options": [{"label": "A", "text": "Sahli‚Äôs hemoglobinometer", "correct": false}, {"label": "B", "text": "Cyanmethaemoglobin method", "correct": true}, {"label": "C", "text": "Calorimetric method", "correct": false}, {"label": "D", "text": "None of the above", "correct": false}], "correct_answer": "B. Cyanmethaemoglobin method", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Cyanmethaemoglobin method Best method for hemoglobin estimation is the Cyanmethaemoglobin method Cyanmethemoglobin method is the internationally recommended method for determining the hemoglobin concentration of blood. The basis of the method is the dilution of blood in a solution containing potassium cyanide and potassium ferricyanide, where Hemoglobin is converted to HiCN. The absorbance of the solution is then measured in a spectrometer at a wavelength of 540 nm or a photoelectric colorimeter with a yellow-green filter.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Sahli‚Äôs hemoglobinometer. Sahli‚Äôs acid haematin method is less accurate because the colour develops slowly, is unstable, and begins to fade almost immediately after it reaches its peak. Option: C. Calorimetric method. The calorimetric method of hemoglobin determination in the blood is described which combines the methods of Sahli and Palmer . The hemoglobin of whole blood is changed to acid hematin with HCl and compared with a standard in a calorimeter. Option: D. None of the above. False .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "ESR is decreased in all the following conditions except", "options": [{"label": "A", "text": "Polycythemia", "correct": false}, {"label": "B", "text": "Sickle cell anemia", "correct": false}, {"label": "C", "text": "Hyperviscosity", "correct": false}, {"label": "D", "text": "Multiple myeloma", "correct": true}], "correct_answer": "D. Multiple myeloma", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Multiple myeloma Lower ESR: Extreme leukocytosis Polycythemia Spherocytosis, microcytosis, Sickle cells Hyperviscosity Low Protein; fibrinogen, gamma globulins Technical factors; dilution, clotted sample Afibrinogenemia</p>\n<p><strong>Highyeild:</strong></p><p>Vacutainer tubes: Colours, anticoagulants and uses</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Polycythemia. Low ESR . Option: B. Sickle cell anemia. Low ESR . Option: C. Hyperviscosity. Low ESR .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "ESR is increased in:", "options": [{"label": "A", "text": "Sickle cell anemia", "correct": false}, {"label": "B", "text": "Multiple myeloma", "correct": true}, {"label": "C", "text": "Polycythemia vera", "correct": false}, {"label": "D", "text": "Thalassemia", "correct": false}], "correct_answer": "B. Multiple myeloma", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Multiple myeloma Increased ESR: Old age Female Pregnancy Anemia Paraprotein (Multiple Myeloma) Hypergammaglobulinemia Macrocytosis Elevated fibrinogen (infection, inflammation, malignancy)</p>\n<p><strong>Highyeild:</strong></p><p>Vacutainer tubes: Colours, anticoagulants and uses</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Sickle cell anemia. Low ESR . Option: C. Polycythemia vera. Low ESR . Option: D. Thalassemia. Low ESR .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "ESR depends on all of the following except:", "options": [{"label": "A", "text": "Viscosity", "correct": false}, {"label": "B", "text": "Fibrinogen", "correct": false}, {"label": "C", "text": "Verticality of tube", "correct": false}, {"label": "D", "text": "Body mass index", "correct": true}], "correct_answer": "D. Body mass index", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Body mass index ESR depends on Viscosity , Fibrinogen , Rouleaux formation & Verticality of the tube but not on whether the patient is obese (i.e. Body mass index or BMI).</p>\n<p><strong>Highyeild:</strong></p><p>ESR is increased by any cause or focus of inflammation . The rouleaux formation and the red cell clumping that is associated with the increased ESR mainly reflect the concentrations of fibrinogen and other acute-phase proteins (e.g. haptoglobin, caeruloplasmin, Œ± 1 -acid glycoprotein, Œ± 1 -antitrypsin, and CRP). Although ESR is a nonspecific phenomenon , its measurement is clinically useful in disorders associated with increased production of acute-phase proteins. In rheumatoid arthritis or tuberculosis, it provides an index of the progress of the disease , and it is of considerable value in the diagnosis of temporal arteritis and polymyalgia rheumatica . An elevated ESR occurs as an early feature in myocardial infarction .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Viscosity. Correct . Option: B. Fibrinogen. Correct . Option: C. Verticality of the tube. Correct .</p>\n<p><strong>Table:</strong></p><p>Vacutainer tubes: Colours, anticoagulants and uses</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Spherocytosis in blood smear seen in-", "options": [{"label": "A", "text": "Mechanical trauma", "correct": false}, {"label": "B", "text": "Hereditary spherocytosis", "correct": false}, {"label": "C", "text": "Hemolytic disease of newborn", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>All of the above Spherocytosis in blood smear seen in- Mechanical trauma, Hereditary spherocytosis & Hemolytic disease of newborn. Spherocytosis is seen in AIHA (Warm and cold) Acute and delayed hemolytic transfusion reactions ABO Rh hemolytic disease of newborn Hereditary spherocytosis Clostridium sepsis IV water infusion or drowning (fresh water) Hypophosphatemia Bartonellosis Snake bite Hyposplenism Rh-null phenotype Mechanical trauma Burns</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Mechanical trauma. Spherocytosis is seen . Option: B. Hereditary spherocytosis. Spherocytosis is seen . Option: C. Hemolytic disease of the newborn. Spherocytosis is seen .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Iron absorption is increased by:", "options": [{"label": "A", "text": "Phytates", "correct": false}, {"label": "B", "text": "Tannates", "correct": false}, {"label": "C", "text": "Plant food", "correct": false}, {"label": "D", "text": "Ascorbic acid", "correct": true}], "correct_answer": "D. Ascorbic acid", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Ascorbic acid The bioavailability of dietary iron is as important as the overall content. The absorption of inorganic iron is influenced by other dietary contents. It is enhanced by ascorbic acid, citric acid, amino acids, and sugars in the diet , and it is inhibited by tannates (found in tea), carbonates, oxalates, and phosphates . Iron Absorption Site of iron absorption: duodenum and upper jejunum (proximal small intestine) Q . Ferrous form (Fe 2 +) of Iron is absorbed. Transport of Fe2+ into enterocyte occurs via DMT1 Q . Increased by Decreased by Acids Ascorbic acid (Vitamin C) Q Amino acid containing SH-group Meat (these reduce Phytates Fe 3 + to Fe 2 +) Alkalies PhosphatesQ Phytates Q Tetracycline Presence of other food in stomach</p>\n<p><strong>Highyeild:</strong></p><p>Iron transport: Regulation of iron absorption. Duodenal epithelial cell uptake of heme and nonheme iron is described in the text. When the storage sites of the body are replete with iron and erythropoietic activity is normal, plasma hepcidin balances iron uptake and loss to and maintains iron homeostasis by downregulating ferroportin and limiting iron uptake (middle panel). Hepcidin rises in the setting of systemic inflammation or when liver iron levels are high, decreasing iron uptake and increasing iron loss during the shedding of duodenocytes (right panel). Conversely, hepcidin levels fall in the setting of low plasma iron, primary hemochromatosis, or ineffective hematopoiesis (left panel), leading to a rise in iron absorption. DMTI, Divalent metal transporter I. Hepcidin: Iron absorption in the duodenum is regulated by hepcidin, a small circulating peptide that is synthesized and released from the liver in response to increases in intrahepatic iron levels. Hepcidin inhibits iron transfer from the enterocyte to plasma by binding to ferroportin , causing ferroportin to be endocytosed and degraded . As a result, as hepcidin levels rise , iron becomes trapped within duodenal cells in the form of mucosal ferritin and is lost as these cells slough . Ferroportin: It is a transmembrane protein that transports iron from the inside of a cell to the outside of the cell . Ferroportin is the only known iron exporter . Ferritin: The ferritin blood test measures how much iron is stored in a person‚Äôs body. Elevated ferritin concentration is considered a marker for high body iron stores .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Phytates. Decrease absorption of iron . Option: B. Tannates. Decrease absorption of iron . Option: C. Plant food. Decrease absorption of iron .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(