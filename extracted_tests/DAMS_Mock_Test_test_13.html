<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Medicine Git  Class Test With Video Solution</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Medicine Git  Class Test With Video Solution</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                25 Questions | 100 Total Marks | 35 min Duration | ~84.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 25 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 35 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 25</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Medicine Git  Class Test With Video Solution - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 25</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 25 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 36-year-old woman with acquired immunodeficiency syndrome (AIDS) and a CD4 count of 35/ ?L presents with odynophagia and progressive dysphagia. The patient undergoes endoscopy, which reveals serpiginous ulcers in the distal esophagus without vesicles. Multiple biopsies are taken that show intranuclear and intracytoplasmic inclusions in large endothelial cells. What is the best treatment for this patientâ€™s esophagitis?", "options": [{"label": "A", "text": "Ganciclovir", "correct": true}, {"label": "B", "text": "Glucocorticoids", "correct": false}, {"label": "C", "text": "Fluconazole", "correct": false}, {"label": "D", "text": "Foscarnet", "correct": false}], "correct_answer": "A. Ganciclovir", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is the recommended therapy for H pylori induced peptic ulcer?", "options": [{"label": "A", "text": "Omeprazole, clarithromycin, and metronidazole for 14 days", "correct": false}, {"label": "B", "text": "Pantoprazole and amoxicillin for 21 days", "correct": false}, {"label": "C", "text": "Pantoprazole and clarithromycin for 14 days", "correct": false}, {"label": "D", "text": "Omeprazole, bismuth, tetracycline, and metronidazole for 14 days", "correct": true}], "correct_answer": "D. Omeprazole, bismuth, tetracycline, and metronidazole for 14 days", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 55 year old man presents with progressive anorexia, weight loss, diarrhoea, nausea and vomiting, and oedema. Blood tests show hypoalbuminaemia. Upper GI endoscopy shows enlarged, nodular and coarse gastric folds. What is the most likely diagnosis?", "options": [{"label": "A", "text": "Classic NSAID gastropathy", "correct": false}, {"label": "B", "text": "Crohnâ€™s disease of the stomach", "correct": false}, {"label": "C", "text": "Cronkhiteâ€“Canada syndrome", "correct": false}, {"label": "D", "text": "MÃ©nÃ©trierâ€™s disease", "correct": true}], "correct_answer": "D. MÃ©nÃ©trierâ€™s disease", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 54-year-old man is evaluated by a gastroenterologist for diarrhea that has been present for 3 months. He reports stools that float and are difficult to flush down the toilet; these can occur at any time of day or night but seem worsened by fatty meals. In addition, he reports pain in many joints lasting days to weeks.His wife notes that the patient has had difficulty with memory for the last few months. He has lost 10 kg and reports intermittent low-grade fevers. Which of the following is the most likely finding on small bowel biopsy?", "options": [{"label": "A", "text": "Dilated lymphatics", "correct": false}, {"label": "B", "text": "Flat villi with crypt hyperplasia", "correct": false}, {"label": "C", "text": "Mononuclear cell infiltrate in the lamina propria", "correct": false}, {"label": "D", "text": "Periodic acidâ€“Schiff (PAS)â€“positive macrophages containing small bacilli", "correct": true}], "correct_answer": "D. Periodic acidâ€“Schiff (PAS)â€“positive macrophages containing small bacilli", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 55?year?old man is brought to the emergency room by his wife for rapidly progressive difficulty standing upright, walking, and raising himself out of a chair followed by difficulty in raising arm. He had an episode of acute diarrhea 6 weeks earlier that lasted for 7 days and was accompanied by a fever of 39 Â°C. Which of the following infectious agents is most likely cause in the differential diagnoses?", "options": [{"label": "A", "text": "Escherichia coli O157H:7.", "correct": false}, {"label": "B", "text": "Yersinia Enterocolitica", "correct": false}, {"label": "C", "text": "Shigella", "correct": false}, {"label": "D", "text": "Campylobacter jejuni.", "correct": true}], "correct_answer": "D. Campylobacter jejuni.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 65?year?old man presents with fever and diarrhea of 3 days duration. He recently completed a course of ampicillin for otitis media. Laboratory tests show a white blood cell count of 18000 /mm3. Which of the following is the most likely cause of this patientâ€™s diarrhea?", "options": [{"label": "A", "text": "Escherichia coli O157H:7.", "correct": false}, {"label": "B", "text": "Clostridium difficile.", "correct": true}, {"label": "C", "text": "Salmonella", "correct": false}, {"label": "D", "text": "Entamoeba histolytica.", "correct": false}], "correct_answer": "B. Clostridium difficile.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "54-year-old male presents with 1 month of diarrhea. He states that he has 8â€“10 loose bowel movements a day. He has lost 4 kg during this time. Vital signs and physical examination are normal. Serum laboratory studies are normal. A 24-hour stool collection reveals 500 g of stool with stool osmolarity of 260. Based on these findings, what is the most likely cause of this patientâ€™s diarrhea?", "options": [{"label": "A", "text": "Lactose intolerance", "correct": false}, {"label": "B", "text": "VIPoma", "correct": true}, {"label": "C", "text": "Lactulose intake", "correct": false}, {"label": "D", "text": "Polyethylene glycol", "correct": false}], "correct_answer": "B. VIPoma", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 38?year?old woman presents with an 8?month history of gradually worsening diarrhea, weight loss, and abdominal discomfort. She describes loose stools three to four times a day. She denies blood in the stool, urgency, tenesmus, or nocturnal bowel movements. Her past medical history is remarkable for osteoporosis. Review of systems is remarkable for easy bruisability. Routine laboratory tests show a normal white blood cell count, hemoglobin level of 10 g /dl with low serum ferritin and folic acid levels. Stool examination for ova and parasites and blood are negative. What is the next step in the management of this patient?", "options": [{"label": "A", "text": "Colonoscopy.", "correct": false}, {"label": "B", "text": "Computed tomography (CT) of the abdomen.", "correct": false}, {"label": "C", "text": "Tissue transglutaminase antibodies.", "correct": true}, {"label": "D", "text": "Stool test for fecal fat", "correct": false}], "correct_answer": "C. Tissue transglutaminase antibodies.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An individual with coeliac disease is admitted to the high dependency unit with a pneumococcal bacteraemia. What disease associated with coeliac disease is likely responsible?", "options": [{"label": "A", "text": "Primary biliary cirrhosis", "correct": false}, {"label": "B", "text": "Small bowel lymphoma", "correct": false}, {"label": "C", "text": "Splenic atrophy", "correct": true}, {"label": "D", "text": "Type 1 diabetes mellitus", "correct": false}], "correct_answer": "C. Splenic atrophy", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All the following will be true regarding bacterial overgrowth syndrome except?", "options": [{"label": "A", "text": "Increased serum folic acid", "correct": false}, {"label": "B", "text": "Low vitamin B12", "correct": false}, {"label": "C", "text": "72 hr stool fat increased", "correct": false}, {"label": "D", "text": "Urine D xylose 5.5 gm in D xylose test.", "correct": true}], "correct_answer": "D. Urine D xylose 5.5 gm in D xylose test.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 22-year-old woman seen in the gastroenterology clinic with a 2-year history of diarrhoea. She had intermittent abdominal pain and had lost weight. She was taking the oral contraceptive pill and smoked 10 cigarettes per day. Investigations showed: Hb 10.3g/dL, Ferritin 10 Âµg/L and CRP 20mg/L .Endomysial antibody negative. Gastroscopy: multiple small ulcers starting in the second part of the duodenum, extending beyond the limit of insertion of the endoscope. Colonoscopy-severe ulceration and stricturing in the terminal ileum with multiple small ulcers were present in the caecum, distal ascending colon with normal mucosa in interceding areas and between ulcers. Histopathology: biopsies from the terminal ileum showed chronic inflammation with ulceration and granulomas. The most likely diagnosis", "options": [{"label": "A", "text": "Celiac sprue", "correct": false}, {"label": "B", "text": "Crohnâ€™s disease", "correct": true}, {"label": "C", "text": "Ulcerative colitis", "correct": false}, {"label": "D", "text": "Intestinal TB", "correct": false}], "correct_answer": "B. Crohnâ€™s disease", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following extra-intestinal manifestation is most commonly associated with ulcerative colitis as compared with crohnâ€™s disease?", "options": [{"label": "A", "text": "Erythema Nodosum", "correct": false}, {"label": "B", "text": "Primary sclerosing cholangitis", "correct": true}, {"label": "C", "text": "Psoriasis", "correct": false}, {"label": "D", "text": "Renal calculi", "correct": false}], "correct_answer": "B. Primary sclerosing cholangitis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 27 year old man with known ulcerative colitis is admitted to hospital for management of an acute severe flare in colitis. His stool frequency is 10 times per day including nocturnal bowel opening, and he has a mild fever. Blood pressure is 122/78 mmHg, pulse is 88 beats/min; CRP is 82 mg/L. What is the most appropriate initial management?", "options": [{"label": "A", "text": "Intravenous glucocorticoids", "correct": true}, {"label": "B", "text": "Intravenous vedolizumab", "correct": false}, {"label": "C", "text": "Loperamide", "correct": false}, {"label": "D", "text": "Surgery with subtotal colectomy and ileostomy", "correct": false}], "correct_answer": "A. Intravenous glucocorticoids", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 30-year-old woman has had 2 years of abdominal complaints characterized by episodic abdominal pain that is associated with defecation. She reports that she has frequent small stools often soon after eating. She does not wake at night to use the bathroom.Her physical examination is completely normal, as are her basic metabolic panel, thyroid function, and complete blood count. A diet low in which of the following has been shown to be beneficial?", "options": [{"label": "A", "text": "Animal protein", "correct": false}, {"label": "B", "text": "Capsaicin", "correct": false}, {"label": "C", "text": "Fermentable oligosaccharides, disaccharides, monosaccharides, and polyols", "correct": true}, {"label": "D", "text": "Rice and rice products", "correct": false}], "correct_answer": "C. Fermentable oligosaccharides, disaccharides, monosaccharides, and polyols", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 63 year old man presents with yellowing of the skin and sclerae, dark urine and pale stools. He has no significant past medical history. What is the most likely diagnosis?", "options": [{"label": "A", "text": "Autoimmune hepatitis", "correct": false}, {"label": "B", "text": "Gilbertâ€™s syndrome", "correct": false}, {"label": "C", "text": "Haemolysis", "correct": false}, {"label": "D", "text": "Pancreatic carcinoma", "correct": true}], "correct_answer": "D. Pancreatic carcinoma", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 40 year old male with daily alcohol intake of 60 grams was found to have alanine aminotransferase(ALT) level of 2000 IU/L.Which of the following is least likely cause of the elevation of ALT ?", "options": [{"label": "A", "text": "Alcoholic hepatitis", "correct": true}, {"label": "B", "text": "Acute hepatitis A infection", "correct": false}, {"label": "C", "text": "Drug induced hepatitis", "correct": false}, {"label": "D", "text": "Congestive hepatitis", "correct": false}], "correct_answer": "A. Alcoholic hepatitis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 36-year-old man presents with fatigue and tea-coloured urine for 5 days. Physical examination reveals jaundice and tender hepatomegaly but is otherwise unremarkable. Laboratories are remarkable for an AST of 2400 IU/L and an ALT of 2640 IU/L. Alkaline phosphatase is 210 IU/L. Total bilirubin is 8.6 mg/dL. Which of the following diagnoses is least likely to cause this clinical picture and these laboratory abnormalities?", "options": [{"label": "A", "text": "Acute hepatitis A infection", "correct": false}, {"label": "B", "text": "Acute hepatitis B infection", "correct": false}, {"label": "C", "text": "Acute hepatitis C infection", "correct": true}, {"label": "D", "text": "Budd-Chiari syndrome", "correct": false}], "correct_answer": "C. Acute hepatitis C infection", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 34-year-old man presents to the physician complaining of yellow eyes. For the past week, he has felt ill, with decreased oral intake, low-grade fevers, fatigue, nausea, and occasional vomiting. With the onset of jaundice, he has noticed pain in his right upper quadrant. He has no other past medical history. On physical examination, he appears ill and has obvious jaundice with scleral icterus. His liver is 15 cm to percussion, palpable 6 cm below the right costal margin. The edge is smooth and tender to palpation. The spleen is not enlarged. There are no stigmata of chronic liver disease. His AST is 1232 IU/L, ALT is 1560 IU/L, alkaline phosphatase is 394 IU/L, total bilirubin is 13.4 mg/dL, and direct bilirubin is 12.2 mg/dL. His international normalized ratio (INR) is 2.3. Hepatitis serologies are sent and reveal the following What is the cause of the patientâ€™s current clinical presentation?", "options": [{"label": "A", "text": "Acute hepatitis A infection", "correct": false}, {"label": "B", "text": "Acute hepatitis B infection", "correct": true}, {"label": "C", "text": "Acute hepatitis C infection", "correct": false}, {"label": "D", "text": "Chronic hepatitis B infection", "correct": false}], "correct_answer": "B. Acute hepatitis B infection", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/18(207).jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 16-year-old girl had visited your clinic 1 month ago with jaundice, vomiting, malaise, and anorexia. Two other family members were ill with similar symptoms. Based on viral serologies, including a positive anti-hepatitis A virus IgM, a diagnosis of hepatitis A was made. The patient was treated conservatively, and 1 week after first presenting, she appeared to have made a full recovery. She returns to your clinic today complaining of the same symptoms she had 1 month ago. She is jaundiced, and an initial panel of laboratory tests returns elevated transaminases. Which of the following offers the best explanation of what has occurred in this patient?", "options": [{"label": "A", "text": "Co-infection with hepatitis C", "correct": false}, {"label": "B", "text": "Inappropriate treatment of initial infection", "correct": false}, {"label": "C", "text": "Incorrect initial diagnosis; this patient likely has hepatitis B", "correct": false}, {"label": "D", "text": "Relapse of hepatitis A", "correct": true}], "correct_answer": "D. Relapse of hepatitis A", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 32-year-old woman is admitted to the ICU following an overdose of acetaminophen with coingestion of alcohol 4 hours back. Upon arrival to the emergency department, the patient is stuporous. Her vital signs are: pulse 109 bpm, respiratory rate 20 breaths/min, blood pressure 96/52 mmHg, and oxygen saturation 95% on room air. Her examination shows mild nonspecific abdominal pain with palpation. The liver is not enlarged. Her initial laboratory values show a normal complete blood count, normal electrolytes, and kidney function. The AST is 68 IU/L, ALT is 46 IU/L, alkaline phosphatase is 110 IU/L, and total bilirubin is 1.2 mg/dL. Glucose and coagulation studies are normal. The serum alcohol level is 210 g/dL. The acetaminophen level is 350 ?g/mL. What is the most appropriate next step in the treatment of this patient?", "options": [{"label": "A", "text": "Administration of activated charcoal or cholestyramine", "correct": false}, {"label": "B", "text": "Administration of N-acetylcysteine 140 mg/kg followed by 70 mg/kg every 4 hours for a total of 15â€“20 doses", "correct": true}, {"label": "C", "text": "Continued monitoring of liver function, glucose, and coagulation studies every 4 hours with administration of N-acetylcysteine if these begin to change", "correct": false}, {"label": "D", "text": "Initiate hemodialysis for toxin clearance", "correct": false}], "correct_answer": "B. Administration of N-acetylcysteine 140 mg/kg followed by 70 mg/kg every 4 hours for a total of 15â€“20 doses", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 34-year-old woman is evaluated for fatigue, malaise, arthralgias, and a 5 kg weight loss over the past 6â€“8 weeks. She gives history of recurrent jaundice in the past. She has scleral icterus. Her liver edge is palpable 3 cm below the right costal margin. It is smooth and tender. The spleen is not enlarged. Her AST is 542 IU/L, ALT is 657 IU/L, alkaline phosphatase is 102 IU/L, total bilirubin is 5.3 mg/dL, and direct bilirubin is 4.8 mg/dL. Which of the following tests would be LEAST likely to be positive in this diagnosis?", "options": [{"label": "A", "text": "Antinuclear antibodies in a homogeneous pattern", "correct": false}, {"label": "B", "text": "Anti-liver/kidney microsomal antibodies", "correct": false}, {"label": "C", "text": "Antimitochondrial antibodies", "correct": true}, {"label": "D", "text": "Hypergammaglobulinemia", "correct": false}], "correct_answer": "C. Antimitochondrial antibodies", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 32-year-old woman is admitted to the hospital with fever, abdominal pain, and jaundice. She drinks approximately 6 beers daily and has recently increased her alcohol intake to more than 12 beers daily. She is not taking any medications. She has scleral icterus, and spider angiomata are present on the trunk. The liver is palpable 4 cm below the right costal margin. The liver is smooth and tender to palpation. The spleen is not palpable. No ascites or lower extremity edema is present. Laboratory studies demonstrate as AST of 300 IU/L, ALT of 100 IU/L, bilirubin of 8.6 mg/dL, alkaline phosphatase of 201 IU/L, amylase of 88 U/L, and lipase of 50 U/L and prothrombin time is 22 seconds. What is the best approach to treatment of this patient?", "options": [{"label": "A", "text": "Administer prednisone 40 mg daily for 4 weeks before beginning a taper", "correct": true}, {"label": "B", "text": "Administer intravenous fluids, thiamine, folate, and imipenem while awaiting blood culture results.", "correct": false}, {"label": "C", "text": "Administer intravenous fluids, thiamine, and folate and observe for improvement in laboratory tests and clinical condition.", "correct": false}, {"label": "D", "text": "Perform an abdominal CT with intravenous contrast to assess for necrotizing pancreatitis.", "correct": false}], "correct_answer": "A. Administer prednisone 40 mg daily for 4 weeks before beginning a taper", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 61-year-old man is admitted for swelling of the abdomen. You detect ascites on clinical examination and perform a paracentesis. The results show a WBC count of 300 leukocytes/ÂµL with 35% polymorphonuclear cells. The peritoneal albumin level is 1.2 g/dL, protein is 2.0 g/dL, and triglycerides are 320 mg/dL. Peritoneal cultures are pending. Serum albumin is 2.6 g/dL. Which of the following is the most likely diagnosis?", "options": [{"label": "A", "text": "Congestive heart failure", "correct": true}, {"label": "B", "text": "Peritoneal tuberculosis", "correct": false}, {"label": "C", "text": "Peritoneal carcinomatosis", "correct": false}, {"label": "D", "text": "Chylous ascites", "correct": false}], "correct_answer": "A. Congestive heart failure", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 48-year-old woman presents complaining of fatigue and itching. She does not note it to be worse following hot baths or showers. Her past medical history is significant only for hypothyroidism for which she takes levothyroxine 125 ?g daily. On physical examination, she has mild jaundice and scleral icterus. Xanthomas are seen on both elbows. Laboratory studies demonstrate the following: WBC 8,900/ÂµL, hemoglobin 13.3 g/dL, haematocrit 41.6%, and platelets 160,000/ÂµL. The creatinine is 1.2 mg/dL. The AST is 52 IU/L, ALT is 62 IU/L, alkaline phosphatase is 216 IU/L, total bilirubin is 3.2 mg/dL, and direct bilirubin is 2.9 mg/dL. The total protein is 8.2 g/dL, and albumin is 3.9 U/L. The thyroid-stimulating hormone is 4.5 U/mL. Antimitochondrial antibodies are positive. Perinuclear antineutrophil cytoplasmic antibodies (ANCA) and cytoplasmic ANCA are negative. What is the most likely cause of the patientâ€™s symptoms?", "options": [{"label": "A", "text": "Lymphoma", "correct": false}, {"label": "B", "text": "Polycythemia vera", "correct": false}, {"label": "C", "text": "Primary biliary cirrhosis", "correct": true}, {"label": "D", "text": "Primary sclerosis cholangitis", "correct": false}], "correct_answer": "C. Primary biliary cirrhosis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which is not included in Nazer score", "options": [{"label": "A", "text": "SGOT", "correct": false}, {"label": "B", "text": "Prothrombin time", "correct": false}, {"label": "C", "text": "Serum albumin", "correct": true}, {"label": "D", "text": "Serum bilirubin", "correct": false}], "correct_answer": "C. Serum albumin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(