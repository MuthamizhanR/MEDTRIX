<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Pharmacology Dr Dinesh</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Pharmacology Dr Dinesh</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                40 Questions | 160 Total Marks | 50 min Duration | ~75.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 40 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 50 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 40</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Pharmacology Dr Dinesh - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 40</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 40 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 53-year-old woman recently diagnosed with gouty arthritis started a treatment with a drug that inhibits leukocyte migration and phagocytosis secondary to inhibition of tubulin polymerization. Which of the following drugs did the patient most likely take?", "options": [{"label": "A", "text": "Prednisone", "correct": false}, {"label": "B", "text": "Colchicine", "correct": true}, {"label": "C", "text": "Allopurinol", "correct": false}, {"label": "D", "text": "Probenecid", "correct": false}], "correct_answer": "B. Colchicine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Schedule X drugs are all except-", "options": [{"label": "A", "text": "Morphine", "correct": false}, {"label": "B", "text": "Thalidomide", "correct": true}, {"label": "C", "text": "Phenobarbital", "correct": false}, {"label": "D", "text": "Amphetamine", "correct": false}], "correct_answer": "B. Thalidomide", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 48-year-old woman was brought to the emergency department because of serious breathing difficulty. Two hours earlier, she had taken a drug for a headache. The patient had been suffering from sinusitis and nasal polyps for 6 months. Physical examination showed severe bronchospasm. Which of the following drugs most likely caused the patientâ€™s signs and symptoms?", "options": [{"label": "A", "text": "Ergotamine", "correct": false}, {"label": "B", "text": "Acetaminophen", "correct": false}, {"label": "C", "text": "Acetylsalicylic acid", "correct": true}, {"label": "D", "text": "Sumatriptan", "correct": false}], "correct_answer": "C. Acetylsalicylic acid", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following agent is DOC for NSAID induced gastric ulcer-", "options": [{"label": "A", "text": "Misoprostol", "correct": false}, {"label": "B", "text": "Lansoperazole", "correct": true}, {"label": "C", "text": "Megaldrate", "correct": false}, {"label": "D", "text": "Ranitidine", "correct": false}], "correct_answer": "B. Lansoperazole", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Tolerance develops to all of the following action of opioids except?", "options": [{"label": "A", "text": "Constipation", "correct": true}, {"label": "B", "text": "Analgesia", "correct": false}, {"label": "C", "text": "Euphoria", "correct": false}, {"label": "D", "text": "Nausea and vomiting", "correct": false}], "correct_answer": "A. Constipation", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is short acting neuromuscular blocking agent used in day care surgeries:", "options": [{"label": "A", "text": "Doxacurium", "correct": false}, {"label": "B", "text": "Mivacurium", "correct": true}, {"label": "C", "text": "Pancuronium", "correct": false}, {"label": "D", "text": "Vecuronium", "correct": false}], "correct_answer": "B. Mivacurium", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A pregnant lady was given indomethacin in 26 weeks to treat arthritic pain. It could lead to?", "options": [{"label": "A", "text": "Patent ductus arteriosus", "correct": false}, {"label": "B", "text": "Premature closure of ductus arteriosus", "correct": true}, {"label": "C", "text": "Closure of foramen ovale", "correct": false}, {"label": "D", "text": "Premature closure of ductus venosus", "correct": false}], "correct_answer": "B. Premature closure of ductus arteriosus", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Mechanism of action of Buprenorphine used for opioid deaddiction:", "options": [{"label": "A", "text": "Partial agonist at mu & antagonist at kappa", "correct": true}, {"label": "B", "text": "Partial agonist at kappa & antagonist at mu", "correct": false}, {"label": "C", "text": "Partial agonist at mu & kappa", "correct": false}, {"label": "D", "text": "Partial agonist at mu, kappa & delta", "correct": false}], "correct_answer": "A. Partial agonist at mu & antagonist at kappa", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient on bipolar disorder treatment developed hypertension. He was started on thiazides for hypertension. After few days, he developed coarse tremors, confusion and weakness of limbs. Which drug toxicity occurred?", "options": [{"label": "A", "text": "Clozapine", "correct": false}, {"label": "B", "text": "Thiazides", "correct": false}, {"label": "C", "text": "Lithium", "correct": true}, {"label": "D", "text": "Lamotrigine", "correct": false}], "correct_answer": "C. Lithium", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "This drug inhibits/slows the digestion of sugars in the digestive tract when given with meals, used for DM type 1 & 2 both for treatment of postprandial hyperglycemia-", "options": [{"label": "A", "text": "Biguanides", "correct": false}, {"label": "B", "text": "Bile acid sequestrants", "correct": false}, {"label": "C", "text": "Alpha glucosidase inhibitor", "correct": true}, {"label": "D", "text": "Orlistat", "correct": false}], "correct_answer": "C. Alpha glucosidase inhibitor", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Currently used DPP IV inhibitor, safe in kidney disease patients is/are:", "options": [{"label": "A", "text": "Sitagliptin", "correct": false}, {"label": "B", "text": "Linagliptin", "correct": true}, {"label": "C", "text": "Glyburide", "correct": false}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "B. Linagliptin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following drugs does recommend as first line therapy for overweight patients with type 2 diabetes?", "options": [{"label": "A", "text": "Semaglutide", "correct": true}, {"label": "B", "text": "Empagliflozin", "correct": false}, {"label": "C", "text": "Gliclazide", "correct": false}, {"label": "D", "text": "Sitagliptin", "correct": false}], "correct_answer": "A. Semaglutide", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The antithrombotic drug which inhibits P2Y12 irreversibly is:", "options": [{"label": "A", "text": "Aspirin", "correct": false}, {"label": "B", "text": "Tranexamic acid", "correct": false}, {"label": "C", "text": "Prasugrel", "correct": true}, {"label": "D", "text": "Ticagrelor", "correct": false}], "correct_answer": "C. Prasugrel", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Megaloblastic anemia developing under the following condition is due entirely to folate deficiency not associated with vitamin B12 deficiency:", "options": [{"label": "A", "text": "Malnutrition", "correct": false}, {"label": "B", "text": "Blind loop syndrome", "correct": false}, {"label": "C", "text": "Phenytoin therapy", "correct": true}, {"label": "D", "text": "Pregnancy", "correct": false}], "correct_answer": "C. Phenytoin therapy", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Low molecular weight heparins differ from unfractionated heparin in that:", "options": [{"label": "A", "text": "They preferably inhibit factor Xa", "correct": false}, {"label": "B", "text": "Fixed dose can be given", "correct": false}, {"label": "C", "text": "They are metabolized slowly and have longer duration of action", "correct": false}, {"label": "D", "text": "All of the above are correct", "correct": true}], "correct_answer": "D. All of the above are correct", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Sodium hydrogen carbonate is sold as a drug under various names such as alkali, baking soda, uracol, and sodium bicarbonate. Which of the following is considered a proprietary name for this substance?", "options": [{"label": "A", "text": "Uracol", "correct": true}, {"label": "B", "text": "Sodium bicarbonate", "correct": false}, {"label": "C", "text": "Sodium hydrogen carbonate", "correct": false}, {"label": "D", "text": "Baking soda", "correct": false}], "correct_answer": "A. Uracol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Select the antiasthma drug which cannot be administered by inhalation:", "options": [{"label": "A", "text": "Theophylline", "correct": true}, {"label": "B", "text": "Ipratropium bromide", "correct": false}, {"label": "C", "text": "Budesonide", "correct": false}, {"label": "D", "text": "Albuterol", "correct": false}], "correct_answer": "A. Theophylline", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following ingredients has neither specific antitussive nor expectorant, nor bronchodilator action, but is commonly present in proprietary cough formulations:", "options": [{"label": "A", "text": "Ambroxol", "correct": false}, {"label": "B", "text": "Chlorpheniramine", "correct": true}, {"label": "C", "text": "Guaiphenesin", "correct": false}, {"label": "D", "text": "Noscapine", "correct": false}], "correct_answer": "B. Chlorpheniramine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All of the following hormones have cell surface receptors except", "options": [{"label": "A", "text": "Adrenaline", "correct": false}, {"label": "B", "text": "GH", "correct": false}, {"label": "C", "text": "Insulin", "correct": false}, {"label": "D", "text": "Thyroxine", "correct": true}], "correct_answer": "D. Thyroxine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 60 years old asthmatic man comes in for a checkup and complains that he is having some difficulty in starting to urinate. Physical examination indicates that the man has a blood pressure of 160/100 mm of Hg and has lightly enlarge prostate. Which of the following medications would be useful in treating both of these conditions:", "options": [{"label": "A", "text": "Doxazosin", "correct": true}, {"label": "B", "text": "Amlodipine", "correct": false}, {"label": "C", "text": "Phentolamine", "correct": false}, {"label": "D", "text": "Isoproterenol", "correct": false}], "correct_answer": "A. Doxazosin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 68 years old man presents to the emergency department with acute heart failure. You decide that this patient requires immediate drug therapy to improve his cardiac function. Which one of the following drugs would be most beneficial?", "options": [{"label": "A", "text": "Albuterol", "correct": false}, {"label": "B", "text": "Dobutamine", "correct": true}, {"label": "C", "text": "Epinephrine", "correct": false}, {"label": "D", "text": "Nor epinephrine", "correct": false}], "correct_answer": "B. Dobutamine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Tekchand, a farmer comes to you in the emergency in comatose state. Patient had profuse sweating and lacrimation diarrhea and urination were apparent. On examination pupil was constricted and BP of the farmer was 80/60 mmHg. You make a diagnosis of anticholinesterase poisoning you decided to administer him atropine. All of the following actions will be reversed by atropine EXCEPT:", "options": [{"label": "A", "text": "Hypotension", "correct": false}, {"label": "B", "text": "Central excitation", "correct": false}, {"label": "C", "text": "Muscle paralysis", "correct": true}, {"label": "D", "text": "Bronchoconstriction", "correct": false}], "correct_answer": "C. Muscle paralysis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A young girl has paroxysmal attacks of rapid heart rate with palpitations and shortness of breath near to her exam dates. Panic attacks were diagnosed by physician. Which of the following drugs would be most suitable for prophylaxis to prevent tachycardia in this patient?", "options": [{"label": "A", "text": "Fluoxetine", "correct": false}, {"label": "B", "text": "Adenosine", "correct": false}, {"label": "C", "text": "Propranolol", "correct": true}, {"label": "D", "text": "Alprazolam", "correct": false}], "correct_answer": "C. Propranolol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An elderly woman, who is a chronic smoker, diagnosed with lung cancer has abnormally low serum osmolality and hyponatremia. Which of the following drug is used to treat this:", "options": [{"label": "A", "text": "Terlipressin", "correct": false}, {"label": "B", "text": "Furosemide", "correct": false}, {"label": "C", "text": "Tolvaptan", "correct": true}, {"label": "D", "text": "Amiloride", "correct": false}], "correct_answer": "C. Tolvaptan", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Least teratogenic antiepileptic drug in pregnancy is", "options": [{"label": "A", "text": "Phenobarbitone", "correct": false}, {"label": "B", "text": "Clonazepam", "correct": false}, {"label": "C", "text": "Lamotrigine", "correct": false}, {"label": "D", "text": "Levetiracetam", "correct": true}], "correct_answer": "D. Levetiracetam", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which combination of seizures and it is first line treatment drug is false?", "options": [{"label": "A", "text": "Absence seizures: Ethosuximide", "correct": false}, {"label": "B", "text": "Myoclonic seizures: Topiramate", "correct": true}, {"label": "C", "text": "Focal seizures: Levetiracetam", "correct": false}, {"label": "D", "text": "Generalised seizures: Valproate", "correct": false}], "correct_answer": "B. Myoclonic seizures: Topiramate", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "One pregnant lady on lithium therapy came for antenatal visit in OPD. What is the risk the exposed fetus is having by this drug:", "options": [{"label": "A", "text": "Fallotâ€™s tetrology", "correct": false}, {"label": "B", "text": "Neural tube defects", "correct": false}, {"label": "C", "text": "Ebsteinâ€™s anomely", "correct": true}, {"label": "D", "text": "Down syndrome", "correct": false}], "correct_answer": "C. Ebsteinâ€™s anomely", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which antidepressant acts via inhibiting the reuptake of both serotonin and norepinephrine:", "options": [{"label": "A", "text": "Phenelzine", "correct": false}, {"label": "B", "text": "Amitriptyline", "correct": false}, {"label": "C", "text": "Fluoxetine", "correct": false}, {"label": "D", "text": "Venlafaxine", "correct": true}], "correct_answer": "D. Venlafaxine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A female presented with pain and redness in her great toe. Serum uric acid level was 9.7 mg/dl. Apart from analgesic, one more drug was prescribed to her that decreases the formation of uric acid. Which enzyme is likely to be inhibited by this drug:", "options": [{"label": "A", "text": "Dihydro folate reductase", "correct": false}, {"label": "B", "text": "Xanthine oxidase", "correct": true}, {"label": "C", "text": "Thymidylate synthetase", "correct": false}, {"label": "D", "text": "Phospho ribosyl transferase", "correct": false}], "correct_answer": "B. Xanthine oxidase", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Patient underwent surgery and during recovery he was shouting and having hallucinations. Which anaesthetic drug was used?", "options": [{"label": "A", "text": "Ketamine", "correct": true}, {"label": "B", "text": "Halothane", "correct": false}, {"label": "C", "text": "Etomidate", "correct": false}, {"label": "D", "text": "Propofol", "correct": false}], "correct_answer": "A. Ketamine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A female came to general OPD with pain & inflammation of many joints. After examination & further investigations was diagnosed as rheumatoid arthritis. Doctor prescribed methotrexate for this. Which of the following is mechanism of action in this drug?", "options": [{"label": "A", "text": "Xanthine oxidase inhibitor", "correct": false}, {"label": "B", "text": "Thymidylate synthase inhibitor", "correct": false}, {"label": "C", "text": "Ribonucleotide synthetase inhibitor", "correct": false}, {"label": "D", "text": "DHFRase inhibitor", "correct": true}], "correct_answer": "D. DHFRase inhibitor", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An elderly patient came with features of Parkinsonism like rigidity, hypokinesia etc. Which of the following is not prescribed to this patient:", "options": [{"label": "A", "text": "Safinamide", "correct": false}, {"label": "B", "text": "Ropinirole", "correct": false}, {"label": "C", "text": "Levodopa plus Carbidopa", "correct": false}, {"label": "D", "text": "Donepezil", "correct": true}], "correct_answer": "D. Donepezil", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient of pancreatic carcinoma. You gave morphine for relieving pain. After few days, the pain is not relieved as relieved earlier. Why?", "options": [{"label": "A", "text": "Desensitization of opioid receptor", "correct": true}, {"label": "B", "text": "Decrease in absorption of morphine", "correct": false}, {"label": "C", "text": "Pain intensity has increased", "correct": false}, {"label": "D", "text": "Opioid receptors are upregulated", "correct": false}], "correct_answer": "A. Desensitization of opioid receptor", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient suffering for rectal carcinoma and on chemotherapy drugs develops severe profuse diarrhea. Which of the flowing drug should start first to control this diarrhea:", "options": [{"label": "A", "text": "Ofloxacin", "correct": false}, {"label": "B", "text": "Atropine", "correct": false}, {"label": "C", "text": "Octreotide", "correct": false}, {"label": "D", "text": "Loperamide", "correct": true}], "correct_answer": "D. Loperamide", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 68 year old male cancer patient on chemotherapy developed neutropenia. Which of the following drug is used to increase the immunity in this person?", "options": [{"label": "A", "text": "Filgrastim", "correct": true}, {"label": "B", "text": "Darbopoeitin", "correct": false}, {"label": "C", "text": "Oprelvekin", "correct": false}, {"label": "D", "text": "Iron dextran", "correct": false}], "correct_answer": "A. Filgrastim", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Explanation:</strong></p>\n<ul><li>â€¢ Incorrect options:</li><li>â€¢ B. Darbepoetin Explanation: Darbepoetin is an erythropoiesis-stimulating agent used to treat anemia by stimulating the production of red blood cells, not to increase white blood cell count or immunity.</li><li>â€¢ C. Oprelvekin Explanation: Oprelvekin is an interleukin-11 that stimulates platelet production. It is used to treat thrombocytopenia (low platelet count), not neutropenia.</li><li>â€¢ D. Iron dextran Explanation: Iron dextran is used to treat iron deficiency anemia by replenishing iron stores in the body. It does not directly affect white blood cells or immunity.</li></ul>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Drugs used for chemo induced nausea and vomiting?", "options": [{"label": "A", "text": "Granisetron + Dexamethasone+ aprepitant", "correct": true}, {"label": "B", "text": "Dexamethasone +metoclopramide + domperidone", "correct": false}, {"label": "C", "text": "Prochlorperazine+ granisetron + domperidone", "correct": false}, {"label": "D", "text": "Doxylamine + granisetron + aprepitant", "correct": false}], "correct_answer": "A. Granisetron + Dexamethasone+ aprepitant", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 38 yr old college professor suffering from depression comes to you with complaints of unable to get involved in process of intercourse with his wife. Which of the following anti depressant is best to be prescribed to him:", "options": [{"label": "A", "text": "Imipramine", "correct": false}, {"label": "B", "text": "Escitalopram", "correct": false}, {"label": "C", "text": "Bupropion", "correct": true}, {"label": "D", "text": "Venlafaxine", "correct": false}], "correct_answer": "C. Bupropion", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following drug used for pain relief in arthritis acts by both opioid and non opioid mechanisms?", "options": [{"label": "A", "text": "Paracetamol", "correct": false}, {"label": "B", "text": "Tramadol", "correct": true}, {"label": "C", "text": "Ketorolac", "correct": false}, {"label": "D", "text": "Diciofenac", "correct": false}], "correct_answer": "B. Tramadol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "After taking some drug for acute attack of migraine a patient developed nausea and vomiting. He also developed tingling and numbness in the tip of the most finger that also turned blue. Which of the following us the most likely implicated in causing the above finding", "options": [{"label": "A", "text": "Dihydroergotamine", "correct": true}, {"label": "B", "text": "Sumatriptan", "correct": false}, {"label": "C", "text": "Aspirin", "correct": false}, {"label": "D", "text": "Morphine", "correct": false}], "correct_answer": "A. Dihydroergotamine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Chronic alcoholic suddenly stops drinking and getting is in Delirium. Best management is:", "options": [{"label": "A", "text": "Haloperidol", "correct": false}, {"label": "B", "text": "Haloperidol + thiamine", "correct": false}, {"label": "C", "text": "Lorazepam", "correct": false}, {"label": "D", "text": "Lorazepam + thiamine", "correct": true}], "correct_answer": "D. Lorazepam + thiamine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(