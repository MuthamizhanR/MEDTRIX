<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>253 Ophthalmology Dr Manish</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">253 Ophthalmology Dr Manish</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                40 Questions | 160 Total Marks | 50 min Duration | ~75.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 40 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 50 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 40</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">253 Ophthalmology Dr Manish - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 40</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 40 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A lady using contact lens developed photophobia, blurred vision and watery discharge was diagnosed to be suffering from overwearing syndrome. Most appropriate management is â€“", "options": [{"label": "A", "text": "Avoid use of lens for 48 - 72 hrs", "correct": true}, {"label": "B", "text": "Antibiotic and cyloplegic", "correct": false}, {"label": "C", "text": "Change the contact lens", "correct": false}, {"label": "D", "text": "Send the lens for culture and sensitivity", "correct": false}], "correct_answer": "A. Avoid use of lens for 48 - 72 hrs", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the given lesion:", "options": [{"label": "A", "text": "Viral keratitis", "correct": true}, {"label": "B", "text": "Bacterial keratitis", "correct": false}, {"label": "C", "text": "Fungal keratitis", "correct": false}, {"label": "D", "text": "Interstitial keratitis", "correct": false}], "correct_answer": "A. Viral keratitis", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203163412-1.png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A Diabteic patient is evaluated with ETDRS chart for diabetic retinopathy and is classified as NPDR type. Which of the following is not seen in case of severe NPDR:", "options": [{"label": "A", "text": "Severe retinal hemorrhage in at least four quadrant", "correct": false}, {"label": "B", "text": "Significant venous beading in at least 2 or more quadrant", "correct": false}, {"label": "C", "text": "Cotton wool spots", "correct": true}, {"label": "D", "text": "Moderate IRMA at least 1 quadrant", "correct": false}], "correct_answer": "C. Cotton wool spots", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 12 year boy presents to OPD after a cricket ball hit his right eye. Which type of cataract is likely to develop in future?", "options": [{"label": "A", "text": "Polychromatic lustre", "correct": false}, {"label": "B", "text": "Rosette cataract", "correct": true}, {"label": "C", "text": "Shield cataract", "correct": false}, {"label": "D", "text": "Blowers cataract", "correct": false}], "correct_answer": "B. Rosette cataract", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A lady presents with grade 2 pterygium. What would be the best treatment in this case?", "options": [{"label": "A", "text": "Excision", "correct": false}, {"label": "B", "text": "Keratoplasty", "correct": false}, {"label": "C", "text": "Excision with conjunctival autograft", "correct": true}, {"label": "D", "text": "None of the above", "correct": false}], "correct_answer": "C. Excision with conjunctival autograft", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the sign.", "options": [{"label": "A", "text": "Kayser Fleischer ring", "correct": false}, {"label": "B", "text": "Vossius ring", "correct": true}, {"label": "C", "text": "Fleisher ring", "correct": false}, {"label": "D", "text": "None of above", "correct": false}], "correct_answer": "B. Vossius ring", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203163606-2.png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In which position is Right inferior oblique tested?", "options": [{"label": "A", "text": "Dextroelevation", "correct": false}, {"label": "B", "text": "Levodepression", "correct": false}, {"label": "C", "text": "Dextroversion", "correct": false}, {"label": "D", "text": "Levoelevation", "correct": true}], "correct_answer": "D. Levoelevation", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A child is being considered for IOL implantation, what should be kept in mind in such a case while choosing IOL power?", "options": [{"label": "A", "text": "Hyperopic shift", "correct": false}, {"label": "B", "text": "Myopic shift", "correct": true}, {"label": "C", "text": "Growth of lens capsule with age", "correct": false}, {"label": "D", "text": "Length of the lens capsule", "correct": false}], "correct_answer": "B. Myopic shift", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which one of the following prescriptions has compound myopic astigmatism with the rule?", "options": [{"label": "A", "text": "-2DS with +3DC at 90 degrees", "correct": false}, {"label": "B", "text": "+2DS with +3DC at 180 degrees", "correct": false}, {"label": "C", "text": "-2DS with - 3DC at 90 degrees", "correct": false}, {"label": "D", "text": "-1DS with -3DC at 180 degrees", "correct": true}], "correct_answer": "D. -1DS with -3DC at 180 degrees", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A person sustained blunt trauma to the eye with immediate dimunition of vision. The anterior chamber is deep. Cause could be:", "options": [{"label": "A", "text": "Hyphema", "correct": false}, {"label": "B", "text": "Dislocation of lens", "correct": true}, {"label": "C", "text": "Retinal detachment", "correct": false}, {"label": "D", "text": "Iridodialysis", "correct": false}], "correct_answer": "B. Dislocation of lens", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Keratometer measures", "options": [{"label": "A", "text": "Thickness of cornea", "correct": false}, {"label": "B", "text": "Radius of cornea", "correct": false}, {"label": "C", "text": "Curvature of cornea", "correct": true}, {"label": "D", "text": "Depth of posterior chamber", "correct": false}], "correct_answer": "C. Curvature of cornea", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient posted for cataract surgery and is having blepheritis , What is the most important step to be taken to prevent endophthalmitis in this patient before surgery :", "options": [{"label": "A", "text": "Trimming the eye lashes", "correct": false}, {"label": "B", "text": "5% Betadine iodine", "correct": true}, {"label": "C", "text": "Intra-viteral Antibiotics", "correct": false}, {"label": "D", "text": "Antibiotics after surgery", "correct": false}], "correct_answer": "B. 5% Betadine iodine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 70 year female presented with diminshed vision, Finchams test shows scattered coloured halos that breaks and fuse again ,what will be the probable diagnosis is:", "options": [{"label": "A", "text": "Senile cataract", "correct": true}, {"label": "B", "text": "OAG", "correct": false}, {"label": "C", "text": "Mucopurulent conjunctivitis", "correct": false}, {"label": "D", "text": "ACG", "correct": false}], "correct_answer": "A. Senile cataract", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Rosette shaped cataract involves which part of the lens:", "options": [{"label": "A", "text": "Anterior sub capsular", "correct": false}, {"label": "B", "text": "Anterior cortex", "correct": false}, {"label": "C", "text": "Posterior subcapsular", "correct": false}, {"label": "D", "text": "Posterior cortex", "correct": true}], "correct_answer": "D. Posterior cortex", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Length of incision in phacoemulsificaÂ¬tion is:", "options": [{"label": "A", "text": "2.75 - 3.2", "correct": true}, {"label": "B", "text": "3.0-3.5", "correct": false}, {"label": "C", "text": "3.2-3.5", "correct": false}, {"label": "D", "text": "2.5-2.75", "correct": false}], "correct_answer": "A. 2.75 - 3.2", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The method of calculating the IOL power:", "options": [{"label": "A", "text": "Keratometry", "correct": false}, {"label": "B", "text": "Pachymetry", "correct": false}, {"label": "C", "text": "SRK formula", "correct": false}, {"label": "D", "text": "Biometry", "correct": true}], "correct_answer": "D. Biometry", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Fleischerâ€™s ring is located in :", "options": [{"label": "A", "text": "Descemetâ€™s membrane", "correct": false}, {"label": "B", "text": "Endothelium", "correct": false}, {"label": "C", "text": "Epithelium", "correct": true}, {"label": "D", "text": "Bowmanâ€™s membrane", "correct": false}], "correct_answer": "C. Epithelium", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Normal degree of anterior chamber angle is:", "options": [{"label": "A", "text": "15Â°-25Â°", "correct": false}, {"label": "B", "text": "25Â°-35Â°", "correct": false}, {"label": "C", "text": "35Â°-45Â°", "correct": true}, {"label": "D", "text": "45Â°-55Â°", "correct": false}], "correct_answer": "C. 35Â°-45Â°", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following is seen in:", "options": [{"label": "A", "text": "Lenticonus", "correct": false}, {"label": "B", "text": "Keratoconus", "correct": true}, {"label": "C", "text": "Lower eye lid tumour", "correct": false}, {"label": "D", "text": "Buphthalmos", "correct": false}], "correct_answer": "B. Keratoconus", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203164436-3.jpeg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Earliest visual field defect in primary open-angle glaucoma is:", "options": [{"label": "A", "text": "Siedelâ€™s scotoma", "correct": false}, {"label": "B", "text": "Bjerrum scotoma", "correct": false}, {"label": "C", "text": "Roenneâ€™s nasal steps", "correct": false}, {"label": "D", "text": "Scotoma in Bjerrum area", "correct": true}], "correct_answer": "D. Scotoma in Bjerrum area", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A young boy suffered blunt trauma and develops monocular diplopia. What could be the reason?", "options": [{"label": "A", "text": "Iridodialysis", "correct": true}, {"label": "B", "text": "Cataract", "correct": false}, {"label": "C", "text": "Strabismus", "correct": false}, {"label": "D", "text": "Hyphema", "correct": false}], "correct_answer": "A. Iridodialysis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Epinephrine is used in all except:", "options": [{"label": "A", "text": "Aphakic glaucoma", "correct": true}, {"label": "B", "text": "Open angle glaucoma", "correct": false}, {"label": "C", "text": "Secondary glaucoma", "correct": false}, {"label": "D", "text": "Neovascular glaucoma", "correct": false}], "correct_answer": "A. Aphakic glaucoma", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which examination is of least value in open-angle glaucoma:", "options": [{"label": "A", "text": "Tonometry", "correct": false}, {"label": "B", "text": "Perimetry", "correct": false}, {"label": "C", "text": "Indirect ophthalmoscopy", "correct": true}, {"label": "D", "text": "Direct ophthalmoscopy", "correct": false}], "correct_answer": "C. Indirect ophthalmoscopy", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Antimetabolite used in filtration surgery is", "options": [{"label": "A", "text": "Cyclophosphamide", "correct": false}, {"label": "B", "text": "Cyclosporin", "correct": false}, {"label": "C", "text": "Mitomycin C", "correct": true}, {"label": "D", "text": "Tacrolimus", "correct": false}], "correct_answer": "C. Mitomycin C", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Blind spot of eye is due to:", "options": [{"label": "A", "text": "Optic disc", "correct": true}, {"label": "B", "text": "2mm away from disc", "correct": false}, {"label": "C", "text": "Yellow spot", "correct": false}, {"label": "D", "text": "Corneo-scleral function", "correct": false}], "correct_answer": "A. Optic disc", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The most common mode of spread of Retinoblastoma is", "options": [{"label": "A", "text": "Optic nerve", "correct": true}, {"label": "B", "text": "Trans-scleral", "correct": false}, {"label": "C", "text": "Lymphatogenous", "correct": false}, {"label": "D", "text": "Hematogenous", "correct": false}], "correct_answer": "A. Optic nerve", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A farmer presents with itching and foreign body sensation of eye, On examination Shield ulcer was seen which of the following condition is commonly associated with which of the following findings?", "options": [{"label": "A", "text": "Trachoma", "correct": false}, {"label": "B", "text": "Spring catarrh", "correct": true}, {"label": "C", "text": "Autoimmune", "correct": false}, {"label": "D", "text": "Tuberculosis", "correct": false}], "correct_answer": "B. Spring catarrh", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Yoke muscles for dextroelevation are:", "options": [{"label": "A", "text": "Right IR and Left SO", "correct": false}, {"label": "B", "text": "Right SR and Left IO", "correct": true}, {"label": "C", "text": "Right SO and Left IR", "correct": false}, {"label": "D", "text": "Right IO and Left SR", "correct": false}], "correct_answer": "B. Right SR and Left IO", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Bitemporal hemianopia is a characteristic feature of?", "options": [{"label": "A", "text": "Glaucoma", "correct": false}, {"label": "B", "text": "Optic neuritis", "correct": false}, {"label": "C", "text": "Pituitary tumour", "correct": true}, {"label": "D", "text": "Retinitis pigmentosa", "correct": false}], "correct_answer": "C. Pituitary tumour", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the instrument is given below.", "options": [{"label": "A", "text": "Limâ€™s forceps", "correct": true}, {"label": "B", "text": "mc pherson forceps", "correct": false}, {"label": "C", "text": "Corneal and scleral tears reparing forces", "correct": false}, {"label": "D", "text": "Suture tying forceps", "correct": false}], "correct_answer": "A. Limâ€™s forceps", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203164952-4.jpeg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 72 year old patient had cataract surgery for posterior capsualr catarct ,after surgery there is flowerpetal appearance on fundus fluorescence angiography, the most likely conditions associated with the person is :", "options": [{"label": "A", "text": "Cystoid Macular Edema", "correct": true}, {"label": "B", "text": "Posterior capsular opacification", "correct": false}, {"label": "C", "text": "Central Serous Retinopathy", "correct": false}, {"label": "D", "text": "Scotoma", "correct": false}], "correct_answer": "A. Cystoid Macular Edema", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All are true about this technique except:", "options": [{"label": "A", "text": "Stereopsis absent", "correct": false}, {"label": "B", "text": "Magnification 15 X", "correct": false}, {"label": "C", "text": "Image real and inverted", "correct": true}, {"label": "D", "text": "Useful in examination of optic disc", "correct": false}], "correct_answer": "C. Image real and inverted", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203170309-5.jpeg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the condition given in picture?", "options": [{"label": "A", "text": "Esotropia", "correct": false}, {"label": "B", "text": "Exotropia", "correct": true}, {"label": "C", "text": "Esophoria", "correct": false}, {"label": "D", "text": "Exophoria", "correct": false}], "correct_answer": "B. Exotropia", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203170347-6.jpeg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 20 year old patient came to opd with bilateral irritation and itching in eyes,on examination, following picture is obtained, All are true except:", "options": [{"label": "A", "text": "Antibiotic eye drops are to be administered", "correct": true}, {"label": "B", "text": "More common in summers", "correct": false}, {"label": "C", "text": "Corneal ulcer may develop", "correct": false}, {"label": "D", "text": "More common in males", "correct": false}], "correct_answer": "A. Antibiotic eye drops are to be administered", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203170430-7.jpeg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Mild-dilated pupil, not reacting to light is seen in", "options": [{"label": "A", "text": "Acute congestive glaucoma", "correct": true}, {"label": "B", "text": "Chronic congestive glaucoma", "correct": false}, {"label": "C", "text": "Open angle glaucoma", "correct": false}, {"label": "D", "text": "Congenital glaucoma", "correct": false}], "correct_answer": "A. Acute congestive glaucoma", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Patient has distress on reading. On examination, there is no problem of shortsightedness or longsightedness, but Schirmer test reading is 5 mm. What is the treatment in this case?", "options": [{"label": "A", "text": "Lubricants", "correct": true}, {"label": "B", "text": "Steroids", "correct": false}, {"label": "C", "text": "Antiallergics", "correct": false}, {"label": "D", "text": "Glasses", "correct": false}], "correct_answer": "A. Lubricants", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Antiglaucoma drug contraindicated in infants :", "options": [{"label": "A", "text": "Brimonidine", "correct": true}, {"label": "B", "text": "Latanoprost", "correct": false}, {"label": "C", "text": "Bimatoprost", "correct": false}, {"label": "D", "text": "Timolol", "correct": false}], "correct_answer": "A. Brimonidine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Patient had a fight & is brought with non reactive pupil with painful ocular movements. Most probable diagnosis.", "options": [{"label": "A", "text": "Cataract", "correct": false}, {"label": "B", "text": "Papilloedema", "correct": false}, {"label": "C", "text": "Glaucoma", "correct": false}, {"label": "D", "text": "Optic neuritis", "correct": true}], "correct_answer": "D. Optic neuritis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Satellite lesions of cornea are caused by:", "options": [{"label": "A", "text": "Bacteria", "correct": false}, {"label": "B", "text": "Fungi", "correct": true}, {"label": "C", "text": "Viruses", "correct": false}, {"label": "D", "text": "Mixed infection", "correct": false}], "correct_answer": "B. Fungi", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240203170646-8.jpeg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Visual acuity of a person improves on looking through the pinhole. This indicates:", "options": [{"label": "A", "text": "Retinal disease", "correct": false}, {"label": "B", "text": "Macular disease", "correct": false}, {"label": "C", "text": "Refractive error", "correct": true}, {"label": "D", "text": "Astigmatism", "correct": false}], "correct_answer": "C. Refractive error", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(