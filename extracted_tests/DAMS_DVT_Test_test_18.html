<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Psychiatry Dvt Revision Test</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`üß† Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Psychiatry Dvt Revision Test</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                25 Questions | 100 Total Marks | 35 min Duration | ~84.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 25 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 35 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 25</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Psychiatry Dvt Revision Test - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 25</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 25 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A lady while driving a car meets with an accident. She was admitted in an ICU for 6 months. After being discharged she often gets up in night and feels terrified. She is afraid to sit in a car again. The diagnosis is ‚Äì", "options": [{"label": "A", "text": "Anxiety disorder", "correct": false}, {"label": "B", "text": "Phobia", "correct": false}, {"label": "C", "text": "Conversion disorder", "correct": false}, {"label": "D", "text": "Post traumatic stress disorder", "correct": true}], "correct_answer": "D. Post traumatic stress disorder", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All are components of Sigmund freud‚Äôs dream work except?", "options": [{"label": "A", "text": "Condensation", "correct": false}, {"label": "B", "text": "Displacement", "correct": false}, {"label": "C", "text": "Compensation", "correct": true}, {"label": "D", "text": "Symbolization", "correct": false}], "correct_answer": "C. Compensation", "question_images": [], "explanation_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/2_1(63).jpg"], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Stereotype is best defined by which of the following?", "options": [{"label": "A", "text": "Repetitive, voluntary, non-goal directed", "correct": true}, {"label": "B", "text": "Non-repetitive, voluntary, goal directed", "correct": false}, {"label": "C", "text": "Non-voluntary movements due to stimuli", "correct": false}, {"label": "D", "text": "Repetitive, voluntary, sudden, goal directed", "correct": false}], "correct_answer": "A. Repetitive, voluntary, non-goal directed", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "As per ‚ÄúAmerican Psychological association‚Äù, what is the new term used in DSM-5 for ‚Äúmental retardation‚Äù?", "options": [{"label": "A", "text": "Mental handicap", "correct": false}, {"label": "B", "text": "Intellectual disability", "correct": true}, {"label": "C", "text": "Subnormal intelligence", "correct": false}, {"label": "D", "text": "Lunatic person", "correct": false}], "correct_answer": "B. Intellectual disability", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following best differentiates ‚Äúdelirium‚Äù from ‚Äúdementia‚Äù?", "options": [{"label": "A", "text": "Acute in nature", "correct": false}, {"label": "B", "text": "Hypoactive state in delirium", "correct": false}, {"label": "C", "text": "Fluctuating course", "correct": true}, {"label": "D", "text": "Remote memory is intact", "correct": false}], "correct_answer": "C. Fluctuating course", "question_images": [], "explanation_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/5_1(49).jpg"], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 50year old male patient who is a chronic alcoholic, presented to emergency with irrelevant talks, tremor and sweating. He had his last drink 3 days back. What will the probable diagnosis?", "options": [{"label": "A", "text": "Delirium tremens", "correct": true}, {"label": "B", "text": "Korsakoff psychosis", "correct": false}, {"label": "C", "text": "Post-Acute withdrawal syndrome", "correct": false}, {"label": "D", "text": "Discontinuation syndrome", "correct": false}], "correct_answer": "A. Delirium tremens", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Recollection of repressed memories with appropriate affective response by?", "options": [{"label": "A", "text": "Hypnosis", "correct": false}, {"label": "B", "text": "Abreaction", "correct": true}, {"label": "C", "text": "Dissociation of affect", "correct": false}, {"label": "D", "text": "Free association", "correct": false}], "correct_answer": "B. Abreaction", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Squeeze technique used in treatment of what condition?", "options": [{"label": "A", "text": "Infertility", "correct": false}, {"label": "B", "text": "Premature ejaculation", "correct": true}, {"label": "C", "text": "Erectile dysfunction", "correct": false}, {"label": "D", "text": "Impotence", "correct": false}], "correct_answer": "B. Premature ejaculation", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The term ‚Äúminimal brain dysfunction‚Äù was used to describe?", "options": [{"label": "A", "text": "Specific learning disability (SLD)", "correct": false}, {"label": "B", "text": "Attention deficit hyperactivity disorder (ADHD)", "correct": true}, {"label": "C", "text": "Intellectual disability (ID)", "correct": false}, {"label": "D", "text": "Autism", "correct": false}], "correct_answer": "B. Attention deficit hyperactivity disorder (ADHD)", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All of the following are ‚Äúhabit forming disorders‚Äù except?", "options": [{"label": "A", "text": "Tamper tantrums", "correct": true}, {"label": "B", "text": "Tics", "correct": false}, {"label": "C", "text": "Thumb sucking", "correct": false}, {"label": "D", "text": "Nail biting", "correct": false}], "correct_answer": "A. Tamper tantrums", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A schizophrenia patient was having obsessions, thought insertion, derailment and delusion of persecution. Which of these is included in formal thought disorder?", "options": [{"label": "A", "text": "Derailment", "correct": true}, {"label": "B", "text": "Obsession", "correct": false}, {"label": "C", "text": "Thought insertion", "correct": false}, {"label": "D", "text": "Delusion", "correct": false}], "correct_answer": "A. Derailment", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 16 year old female patient presented with overfamiliarity, flight of ideas, elevated mood, increased sexual desire, pseudo-hallucinations.", "options": [{"label": "A", "text": "Mania", "correct": true}, {"label": "B", "text": "Schizomania", "correct": false}, {"label": "C", "text": "Hypomania", "correct": false}, {"label": "D", "text": "Cyclothymia", "correct": false}], "correct_answer": "A. Mania", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "During the course of psychotherapy, the therapist had mixed conscious and unconscious feelings towards the patient, irrespective of the patients mind. Therapist keeps his own unmet needs towards the patient. This is known as:", "options": [{"label": "A", "text": "Therapeutic alliance", "correct": false}, {"label": "B", "text": "Counter transference", "correct": true}, {"label": "C", "text": "Dissociation", "correct": false}, {"label": "D", "text": "Preoccupation", "correct": false}], "correct_answer": "B. Counter transference", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient stopped alcohol for 3 days (72 hrs) and presented with irritability disorientation, paranoid delusion, visual hallucinations and altered sensorium. Likely diagnosis?", "options": [{"label": "A", "text": "Delirium tremens", "correct": true}, {"label": "B", "text": "Alcohol withdrawal seizure", "correct": false}, {"label": "C", "text": "Wernicke‚Äôs encephalopathy", "correct": false}, {"label": "D", "text": "Korsakoff‚Äôs psychosis", "correct": false}], "correct_answer": "A. Delirium tremens", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An old man was sitting in balcony naked showing his body parts, neighbors complained to police and said that he does this particularly in evening in front of people when they are walking in the public park.", "options": [{"label": "A", "text": "Fetichism", "correct": false}, {"label": "B", "text": "Voyeurism", "correct": false}, {"label": "C", "text": "Exhibitionism", "correct": true}, {"label": "D", "text": "Masochism", "correct": false}], "correct_answer": "C. Exhibitionism", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is not seen in a patient who used heavy dose of cocaine IV (cocaine intoxication)?", "options": [{"label": "A", "text": "Hyperthermia", "correct": false}, {"label": "B", "text": "Bradycardia", "correct": true}, {"label": "C", "text": "Agitation", "correct": false}, {"label": "D", "text": "Myocardial infarct", "correct": false}], "correct_answer": "B. Bradycardia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An 15-year-old girl comes to the psychiatrist because she pulls out her hair in patches when she is anxious or upset. She is taught to make a tight fist whenever she has this impulse rather than pull out her hair. Which of the following techniques is this?", "options": [{"label": "A", "text": "Habit reversal training", "correct": true}, {"label": "B", "text": "Extinction", "correct": false}, {"label": "C", "text": "Flooding", "correct": false}, {"label": "D", "text": "Desensitization", "correct": false}], "correct_answer": "A. Habit reversal training", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 55-year-old man, who had been hospitalized for an acute pneumonia 3 days previously, starts to shout in the bed, stating that, ‚Äúsomeone has come to room to kill him.‚Äù He then gets out of bed and begins pulling out his IV line. On examination, he is not oriented to time or place. Which of the following diagnoses best fits this patient‚Äôs clinical picture?", "options": [{"label": "A", "text": "Dementia", "correct": false}, {"label": "B", "text": "Fugue state", "correct": false}, {"label": "C", "text": "Delirium", "correct": true}, {"label": "D", "text": "Brief psychotic episode", "correct": false}], "correct_answer": "C. Delirium", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient of schizophrenia was taking the medicine triflupromazine and developed Parkinson like symptoms. Treatment?", "options": [{"label": "A", "text": "Trihexyphenidyl", "correct": true}, {"label": "B", "text": "Rasagiline", "correct": false}, {"label": "C", "text": "Amantadine", "correct": false}, {"label": "D", "text": "Pramipexole", "correct": false}], "correct_answer": "A. Trihexyphenidyl", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient with a diagnosis of depression was started on Imipramine, the treatment was given for 2 weeks. After that the relatives noticed that the patient developed new symptoms like, being excessively cheerful, increased excitement, wearing of colourful clothes and increased talking. What is the most appropriate next step in treatment?", "options": [{"label": "A", "text": "Continue imipramine and add antipsychotic", "correct": false}, {"label": "B", "text": "Continue imipramine and add benzodiazepines", "correct": false}, {"label": "C", "text": "Discontinue imipramine and start fluoxetine", "correct": false}, {"label": "D", "text": "Discontinue imipramine and add sodium valproate", "correct": true}], "correct_answer": "D. Discontinue imipramine and add sodium valproate", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An 18y old first year MBBS girl student, has been experiencing short last episodes of tightness sensation in chest, anxiety and feeling of impending doom. One episode per week for last 3-4 months. The student repeatedly came 3 times to OPD with same symptoms. On investigations, all findings were with in normal limits and she was then referred to psychiatrist. Likely diagnosis", "options": [{"label": "A", "text": "Acute stress disorder", "correct": false}, {"label": "B", "text": "Major depressive disorder", "correct": false}, {"label": "C", "text": "Panic disorder", "correct": true}, {"label": "D", "text": "Conversion disorder", "correct": false}], "correct_answer": "C. Panic disorder", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient having decreased sleep and decreased appetite for last 6 months, also having death wish and has now developed a new symptom for last 2 weeks in form of voices telling him to die, along with persistence of previous symptoms. Probable diagnosis?", "options": [{"label": "A", "text": "Severe depression with psychosis", "correct": true}, {"label": "B", "text": "Schizophrenia", "correct": false}, {"label": "C", "text": "Delusional disorder", "correct": false}, {"label": "D", "text": "Schizoaffective disorder", "correct": false}], "correct_answer": "A. Severe depression with psychosis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient was on lithium for bipolar disorder, now fasting for religious reasons, developed symptoms of vomiting, coarse tremors and dizziness. Next best line of investigation", "options": [{"label": "A", "text": "Serum Electrolytes", "correct": false}, {"label": "B", "text": "Serum Lithium levels", "correct": true}, {"label": "C", "text": "EEG", "correct": false}, {"label": "D", "text": "MRI brain", "correct": false}], "correct_answer": "B. Serum Lithium levels", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Most widely abused substance causing dependence?", "options": [{"label": "A", "text": "Cannabis", "correct": true}, {"label": "B", "text": "Cocaine", "correct": false}, {"label": "C", "text": "Heroin", "correct": false}, {"label": "D", "text": "Amphetamine", "correct": false}], "correct_answer": "A. Cannabis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Maximum duration for which a person can take himself voluntary admission under the mental health act?", "options": [{"label": "A", "text": "14 days", "correct": false}, {"label": "B", "text": "48 hours", "correct": false}, {"label": "C", "text": "30 days", "correct": true}, {"label": "D", "text": "90 days", "correct": false}], "correct_answer": "C. 30 days", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(