<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Ent Dvt Revision Test</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Ent Dvt Revision Test</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                25 Questions | 100 Total Marks | 35 min Duration | ~84.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 25 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 35 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 25</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Ent Dvt Revision Test - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 25</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 25 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Which of the following is not done after total laryngectomy?", "options": [{"label": "A", "text": "Polite yawning", "correct": false}, {"label": "B", "text": "Super-Supraglottic Swallow", "correct": true}, {"label": "C", "text": "Tracheoesophageal fistula", "correct": false}, {"label": "D", "text": "Esophageal Voice.", "correct": false}], "correct_answer": "B. Super-Supraglottic Swallow", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Notch in audiogram shows", "options": [{"label": "A", "text": "Noise induced hearing loss (NIHL)", "correct": false}, {"label": "B", "text": "A frequency of 4000 Hz causes more damage than lower or higher frequencies.", "correct": true}, {"label": "C", "text": "Meniereâ€™s disease", "correct": false}, {"label": "D", "text": "Sudden hearing loss", "correct": false}], "correct_answer": "B. A frequency of 4000 Hz causes more damage than lower or higher frequencies.", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5093).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "40 yr old female presents in ENT OPD complaining of nasal obstruction and presence of crusts, mucopurulent rhinorrhea and breathing difficulties since last month. On examination foul smelling black crust was seen in nasal cavity. Which of the following finding can be associated with merciful anosmia?", "options": [{"label": "A", "text": "Hypertrophy of turbinates", "correct": false}, {"label": "B", "text": "Polyp", "correct": true}, {"label": "C", "text": "Roomy cavity", "correct": false}, {"label": "D", "text": "Foreign Body.", "correct": false}], "correct_answer": "B. Polyp", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A six-month-old child born with bilateral bony atresia is seen for an audiological evaluation and treatment recommendation. Radiological evidence indicates the probable presence of an intact middle ear and cochlea.Of the following, the most appropriate course of action for this child at this time would be to:", "options": [{"label": "A", "text": "A", "correct": false}, {"label": "B", "text": "B", "correct": true}, {"label": "C", "text": "C", "correct": false}, {"label": "D", "text": "D", "correct": false}], "correct_answer": "B. B", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/Capture(2120).JPG"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is true about auditory neuropathy", "options": [{"label": "A", "text": "Tympanometry normal BERA normal", "correct": false}, {"label": "B", "text": "OAE abnormal BERA normal", "correct": false}, {"label": "C", "text": "OAE normal BERA abnormal", "correct": true}, {"label": "D", "text": "Tympanometry abnormal BERA abnormal", "correct": false}], "correct_answer": "C. OAE normal BERA abnormal", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "75-year-old female patient presents with right-sided nasal obstruction with bloody muco-purulent nasal discharge. The following image demonstrates an endoscopic view of the nasal cavity with mass coming from lateral wall. The contralateral nasal cavity is normal. Most appropriate Diagnosis", "options": [{"label": "A", "text": "Squamous cell carcinoma", "correct": false}, {"label": "B", "text": "Esthesioneuroblastoma", "correct": false}, {"label": "C", "text": "Inverted Papilloma", "correct": true}, {"label": "D", "text": "Juvenile nasopharyngeal carcinoma", "correct": false}], "correct_answer": "C. Inverted Papilloma", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5094).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A child presented with ear infection with foul-smelling discharge. On further exploration, a small performation is found in the pars flaccid of the tympanic membrane. What would be the most appropriate next step in management?", "options": [{"label": "A", "text": "Topical antibiotics and decongestants for 4 weeks", "correct": false}, {"label": "B", "text": "IV antibiotics and follow-up after a month", "correct": false}, {"label": "C", "text": "Tympanoplasty", "correct": false}, {"label": "D", "text": "Tympanomastoid exploration", "correct": true}], "correct_answer": "D. Tympanomastoid exploration", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient presents in emergency with head and neck trauma, during examination doctor touched the marked structure, choose the appropriate nerve being tested .", "options": [{"label": "A", "text": "Vagus", "correct": false}, {"label": "B", "text": "Facial", "correct": false}, {"label": "C", "text": "Glossopharyngeal", "correct": true}, {"label": "D", "text": "Trigeminal", "correct": false}], "correct_answer": "C. Glossopharyngeal", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5095).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "50 yrs old male patient suffering from tubotympanic ear underwent surgery following which he developed tinnitus, vertigo, aural fullness, and disequilibrium .Choose the most appropriate disgnosis:", "options": [{"label": "A", "text": "Labyrinthitis", "correct": false}, {"label": "B", "text": "Lateral sinus thrombophlebitis", "correct": false}, {"label": "C", "text": "Perilymphatic fistula.", "correct": true}, {"label": "D", "text": "Paget Disease.", "correct": false}], "correct_answer": "C. Perilymphatic fistula.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 45 year old female was operated for emergency appendicectomy under general anesthesia. After surgery she is complaining of hoarseness of voice. What can be the most probable aetiology?", "options": [{"label": "A", "text": "Injury to Vagus nerve", "correct": false}, {"label": "B", "text": "Injury to Diaphragm", "correct": false}, {"label": "C", "text": "Intubation Granuloma", "correct": true}, {"label": "D", "text": "Functional aphonia", "correct": false}], "correct_answer": "C. Intubation Granuloma", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Choose the most appropriate indication of the drug shown below:", "options": [{"label": "A", "text": "Subglottic stenosis", "correct": true}, {"label": "B", "text": "Rhinocerebral mucormycosis", "correct": false}, {"label": "C", "text": "Adenoidectomy", "correct": false}, {"label": "D", "text": "Over Lay Tympanoplasty", "correct": false}], "correct_answer": "A. Subglottic stenosis", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5096).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A man 50 years of age present with tinnitus, ear fullness and hearing loss in his right ear. Seven years later, he began to experience vertigo, headache, and progressive loss of balance. After 2 years, audiometry showed moderate sensorineural hearing loss in the right ear that has not been investigated. Study the given slide and comment on diagnosis:", "options": [{"label": "A", "text": "Vestibular schwannoma", "correct": true}, {"label": "B", "text": "Meniere Disease", "correct": false}, {"label": "C", "text": "Otosclerosis", "correct": false}, {"label": "D", "text": "Paget Disease", "correct": false}], "correct_answer": "A. Vestibular schwannoma", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5097).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All of the following are true about tracheostomy except", "options": [{"label": "A", "text": "High tracheostomy is done in cancer larynx patients", "correct": false}, {"label": "B", "text": "Decanulation is difficult in children", "correct": false}, {"label": "C", "text": "Tracheostomy Tube should be removed immediately if blocked", "correct": false}, {"label": "D", "text": "Low volume high pressure cuff tubes are better as they prevent tracheomalacia", "correct": true}], "correct_answer": "D. Low volume high pressure cuff tubes are better as they prevent tracheomalacia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient presents in emergency with high grade fever, seizure and altered sensorium. On history he was known case of CSOM and was under treatment. and was undergoing CSOM treatment. Immediate CT was done. Choose the most appropriate Diagnosis ?", "options": [{"label": "A", "text": "Subdural abscess", "correct": false}, {"label": "B", "text": "Temporal lobe abscess", "correct": true}, {"label": "C", "text": "Meningitis", "correct": false}, {"label": "D", "text": "Extradural Abscess", "correct": false}], "correct_answer": "B. Temporal lobe abscess", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5098).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is incorrect statement regarding Laryngeal histoplasmosis:", "options": [{"label": "A", "text": "Commonly seen in eastern india.", "correct": false}, {"label": "B", "text": "Laryngeal involvement occurs in chronic disseminated form of histoplasmosis.", "correct": false}, {"label": "C", "text": "Microlarngeal excision is the treatment of choice.", "correct": true}, {"label": "D", "text": "Leishmaniasis is the closest differential diagnosis", "correct": false}], "correct_answer": "C. Microlarngeal excision is the treatment of choice.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following fractures is most commonly associated with CSF rhinorrhea?", "options": [{"label": "A", "text": "LeForte I", "correct": false}, {"label": "B", "text": "LeForte II", "correct": false}, {"label": "C", "text": "LeForte III", "correct": true}, {"label": "D", "text": "Pyramidal fracture", "correct": false}], "correct_answer": "C. LeForte III", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Pathology shown in given coronal CT scan slice should be corrected by?", "options": [{"label": "A", "text": "Open reduction immediately", "correct": false}, {"label": "B", "text": "Open reduction after 3 days", "correct": false}, {"label": "C", "text": "Open reduction after 3 weeks", "correct": true}, {"label": "D", "text": "Open reduction after 3 months", "correct": false}], "correct_answer": "C. Open reduction after 3 weeks", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5099).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which is not a major criteria for the diagnosis of allergic fungal sinusitis.", "options": [{"label": "A", "text": "Fungal culture positivity", "correct": true}, {"label": "B", "text": "Nasal polyposis", "correct": false}, {"label": "C", "text": "Characteristic CT findings without invasion", "correct": false}, {"label": "D", "text": "Mucin containing fungal element", "correct": false}], "correct_answer": "A. Fungal culture positivity", "question_images": [], "explanation_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5100).png"], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient underwent thyroidectomy, after surgery anesthesiologist was doing extubation but the developed cyanosis and spO2 falls. Choose the most appropriate complication ?", "options": [{"label": "A", "text": "Bilateral RLNP", "correct": true}, {"label": "B", "text": "Bilateral SLNP", "correct": false}, {"label": "C", "text": "Hematoma", "correct": false}, {"label": "D", "text": "Unilateral RLNP", "correct": false}], "correct_answer": "A. Bilateral RLNP", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 38 year old male presented with a suspected diagnosis of hearing loss. A positive Rinneâ€™s test on both ears and weber lateralised to right ear.What is likely expected diagnosis -", "options": [{"label": "A", "text": "Right Conductive Deafness and Left Sensorineural Deafness.", "correct": false}, {"label": "B", "text": "Right Conductive Deafness and Left Conductive Deafness.", "correct": false}, {"label": "C", "text": "Right Sensorineural Deafness and Left Conductive Deafness.", "correct": false}, {"label": "D", "text": "Right Sensorineural Deafness and Left Sensorineural Deafness.", "correct": true}], "correct_answer": "D. Right Sensorineural Deafness and Left Sensorineural Deafness.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A mother brings her child saying he is not eating anything since last 8 hrs. On history she confirm that child was playing with coin. On examination vitals were stable and no dyspnea. Study the given Xrays and comment on diagnosis:", "options": [{"label": "A", "text": "Foreign body in bronchus", "correct": false}, {"label": "B", "text": "Foreign body in trachea", "correct": false}, {"label": "C", "text": "Foreign body in larynx", "correct": false}, {"label": "D", "text": "Foreign body in esophagus", "correct": true}], "correct_answer": "D. Foreign body in esophagus", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5101).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 30 year old male is having Attic cholesteatoma of left ear with lateral sinus thrombophlebitis. Which of the following will be the operation of choice?", "options": [{"label": "A", "text": "lntact canal wall mastoidectomy", "correct": false}, {"label": "B", "text": "Simple mastoidectomy with Tympanoplasty", "correct": false}, {"label": "C", "text": "Canal wall down mastoidectomy", "correct": true}, {"label": "D", "text": "Mastoidectomy with cavity obliteration", "correct": false}], "correct_answer": "C. Canal wall down mastoidectomy", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the pathology in given image?", "options": [{"label": "A", "text": "Pneumatization of superior turbinate.", "correct": true}, {"label": "B", "text": "Concha bullosa", "correct": false}, {"label": "C", "text": "Agger nasi", "correct": false}, {"label": "D", "text": "Onodi cell.", "correct": false}], "correct_answer": "A. Pneumatization of superior turbinate.", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image(5102).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "35 yrs old patient with nasal epistaxis in epistaxis in emergency which was not controlled by nasal package. Next step in the management will be ligation of:", "options": [{"label": "A", "text": "Sphenopalatine.", "correct": true}, {"label": "B", "text": "Internalcarotid artery", "correct": false}, {"label": "C", "text": "External carotid artery", "correct": false}, {"label": "D", "text": "Maxillary artery", "correct": false}], "correct_answer": "A. Sphenopalatine.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A Child underwent tonsillectomy and after surgery shifted to recovery room where he started bleeding and on examination a clot was seen at the site of surgery. Next step in management will be ?", "options": [{"label": "A", "text": "Blood transfusion only", "correct": false}, {"label": "B", "text": "Shift patient to OT and ligation bleeding vessel", "correct": true}, {"label": "C", "text": "Shift patient to OT and cautery", "correct": false}, {"label": "D", "text": "Use hemostatic agents do 3 to 4 gargles per day", "correct": false}], "correct_answer": "B. Shift patient to OT and ligation bleeding vessel", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(