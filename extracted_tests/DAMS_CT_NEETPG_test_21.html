<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Medicine Git Dr Arvind</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`üß† Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Medicine Git Dr Arvind</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                25 Questions | 100 Total Marks | 35 min Duration | ~84.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 25 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 35 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 25</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Medicine Git Dr Arvind - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 25</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 25 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Which test will be normal in chronic pancreatic insufficiency", "options": [{"label": "A", "text": "D xylose test", "correct": true}, {"label": "B", "text": "Stool fat quantitation", "correct": false}, {"label": "C", "text": "Schilling‚Äôs test", "correct": false}, {"label": "D", "text": "Serum amylase", "correct": false}], "correct_answer": "A. D xylose test", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In bacterial overgrowth syndrome which of the following findings will not be seen?", "options": [{"label": "A", "text": "Increased serum folic acid", "correct": false}, {"label": "B", "text": "Low serum vitamin B12", "correct": false}, {"label": "C", "text": "72 hr stool fat increased", "correct": false}, {"label": "D", "text": "Urine D xylose 5.5 gm in D xylose test.", "correct": true}], "correct_answer": "D. Urine D xylose 5.5 gm in D xylose test.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 23 year old woman presents with 8-month history of frequent stools. Blood tests reveal a haemoglobin of 10 g/dl with low serum ferritin and serum folate. What is the next best investigation?", "options": [{"label": "A", "text": "Anti-tTG", "correct": true}, {"label": "B", "text": "Colonoscopy with biopsy", "correct": false}, {"label": "C", "text": "Stool calprotectin", "correct": false}, {"label": "D", "text": "Symptomatic treatment as she is a case of irritable bowel syndrome.", "correct": false}], "correct_answer": "A. Anti-tTG", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 50 year old man presents with diarrhoea, low-grade fever and migratory joint pains. A colonoscopy is normal. Biopsies from the terminal ileum reveal the presence of foamy macrophages. What is the appropriate management?", "options": [{"label": "A", "text": "Two weeks of intravenous ceftriaxone, then oral antibiotics for 1 year", "correct": true}, {"label": "B", "text": "Seven days of oral metronidazole", "correct": false}, {"label": "C", "text": "Intravenous immunoglobulin", "correct": false}, {"label": "D", "text": "No treatment is required ‚Äì symptoms usually settle spontaneously", "correct": false}], "correct_answer": "A. Two weeks of intravenous ceftriaxone, then oral antibiotics for 1 year", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Secretory diarrhea is not associated with", "options": [{"label": "A", "text": "Chronic Pancreatic insufficiency", "correct": true}, {"label": "B", "text": "Gastrinoma", "correct": false}, {"label": "C", "text": "Medullary thyroid carcinoma", "correct": false}, {"label": "D", "text": "Carcinoid syndrome", "correct": false}], "correct_answer": "A. Chronic Pancreatic insufficiency", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following extra-intestinal manifestation is most commonly associated with ulcerative colitis as compared with crohn‚Äôs disease?", "options": [{"label": "A", "text": "Erythema Nodosum", "correct": false}, {"label": "B", "text": "Primary sclerosing cholangitis", "correct": true}, {"label": "C", "text": "Psoriasis", "correct": false}, {"label": "D", "text": "Renal calculi", "correct": false}], "correct_answer": "B. Primary sclerosing cholangitis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 27 year old man with known ulcerative colitis is admitted to hospital for management of an acute severe flare in colitis. His stool frequency is 10 times per day including nocturnal bowel opening, and he has a mild fever. Blood pressure is 122/78 mmHg, pulse is 88 beats/min; CRP is 82 mg/L. What is the most appropriate initial management?", "options": [{"label": "A", "text": "Intravenous glucocorticoids", "correct": true}, {"label": "B", "text": "Intravenous vedolizumab infusion", "correct": false}, {"label": "C", "text": "Loperamide and metronidazole", "correct": false}, {"label": "D", "text": "Surgery with subtotal colectomy and ileostomy", "correct": false}], "correct_answer": "A. Intravenous glucocorticoids", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 54 year old man with ulcerative colitis is receiving hospital treatment for acute severe ulcerative colitis. He becomes acutely unwell with sweating and shortness of breath. Pulse is 110 beats/min, blood pressure is 120/68 mmHg, temperature is 37.7¬∞C and respiratory rate is 28 breaths/min. Oxygen saturation is 84% on air. What is the most appropriate investigation to lead to the diagnosis?", "options": [{"label": "A", "text": "Chest X-ray", "correct": false}, {"label": "B", "text": "CT pulmonary angiography", "correct": true}, {"label": "C", "text": "Echocardiogram", "correct": false}, {"label": "D", "text": "Electrocardiogram", "correct": false}], "correct_answer": "B. CT pulmonary angiography", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient with Crohn‚Äôs disease underwent ileal resection. All of the following complications will develop except?", "options": [{"label": "A", "text": "Oxalate rich renal calculi", "correct": false}, {"label": "B", "text": "Vitamin B12 deficiency", "correct": false}, {"label": "C", "text": "Fat malabsorption", "correct": false}, {"label": "D", "text": "Folic acid deficiency", "correct": true}], "correct_answer": "D. Folic acid deficiency", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 28‚Äêyear‚Äêold woman is presented with abdominal pain for more than 6 months the frequency of which has increased to 1 day per week for last 3months and pain is associated with defecation. There is hardening of stools since her symptoms have started, there is no blood in the stools. There is no fever, nocturnal diarrhea or weight loss. The most likely diagnosis in this patient is:", "options": [{"label": "A", "text": "Colon cancer.", "correct": false}, {"label": "B", "text": "Irritable bowel syndrome.", "correct": true}, {"label": "C", "text": "Inflammatory bowel disease.", "correct": false}, {"label": "D", "text": "Malabsorption syndrome", "correct": false}], "correct_answer": "B. Irritable bowel syndrome.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 45 year old woman presents with jaundice, pale stools and pruritus. Blood tests show serum total bilirubin 7 mg/dL(elevated), ALT 40 U/L(normal) and serum ALP 580 U/L(elevated). What would be your next line investigation?", "options": [{"label": "A", "text": "CT pancreas", "correct": false}, {"label": "B", "text": "MRCP", "correct": false}, {"label": "C", "text": "ERCP", "correct": false}, {"label": "D", "text": "Ultrasound abdomen", "correct": true}], "correct_answer": "D. Ultrasound abdomen", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 15 year old male patient develops mild jaundice while being treated for a urinary tract infection with cotrimoxazole. Urine bilirubin is negative. Serum bilirubin is 3 mg/dL, mostly unconjugated. Hemoglobin is 7 g/dL, ALT and ALP are normal. The most likely cause of this jaundice is", "options": [{"label": "A", "text": "Hemolysis", "correct": true}, {"label": "B", "text": "Gilbert‚Äôs syndrome", "correct": false}, {"label": "C", "text": "Crigler-Najjar syndrome type I", "correct": false}, {"label": "D", "text": "Drug induced hepatitis", "correct": false}], "correct_answer": "A. Hemolysis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A young woman complains of 1 week of fatigue, change in skin colour, and dark brown urine. She has right upper quadrant tenderness. Lab results- serum total bilirubin is 8 mg/dL (5 mg/dL is direct-reacting), SGPT is 1100 IU/L and serum alkaline phosphatase is 150 IU/L . What is the most likely cause", "options": [{"label": "A", "text": "Hemolysis", "correct": false}, {"label": "B", "text": "Acute viral hepatitis", "correct": true}, {"label": "C", "text": "Pancreatic carcinoma", "correct": false}, {"label": "D", "text": "Gilbert‚Äôs syndrome", "correct": false}], "correct_answer": "B. Acute viral hepatitis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Relapsing hepatitis is seen with", "options": [{"label": "A", "text": "Hepatitis A", "correct": true}, {"label": "B", "text": "Hepatitis B", "correct": false}, {"label": "C", "text": "Hepatitis C", "correct": false}, {"label": "D", "text": "Hepatitis E", "correct": false}], "correct_answer": "A. Hepatitis A", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An 18 year old medical student has his hepatitis B and C status checked as part of his occupational health screening for entrance to medical school. His results are as follows: LFTs: Bilirubin 0.70 mg/dL, ALT 19 U/L HCV antibody not detected, Hepatitis B surface antigen (HBsAg) positive, Antibody to HBsAg (anti-HBs) negative , Antibody to hepatitis B core antigen (anti-HBc) IgM negative, Anti-HBc IgG positive. What is the next step in his management?", "options": [{"label": "A", "text": "Check HBV DNA", "correct": true}, {"label": "B", "text": "Liver biopsy", "correct": false}, {"label": "C", "text": "Repeat blood tests in 6 months", "correct": false}, {"label": "D", "text": "Start Tenofovir", "correct": false}], "correct_answer": "A. Check HBV DNA", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient presented with the following reports: HBsAg-reactive, Anti Hbs-negative, Anti Hbc-IgG positive, HBV DNA 1000 IU/ml, SGPT- 35 IU/L. What is the likely diagnosis", "options": [{"label": "A", "text": "No infection", "correct": false}, {"label": "B", "text": "Acute hepatitis B", "correct": false}, {"label": "C", "text": "Chronic hepatitis B", "correct": true}, {"label": "D", "text": "Window period", "correct": false}], "correct_answer": "C. Chronic hepatitis B", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A Which of the following statements is true about the hepatitis D virus?", "options": [{"label": "A", "text": "All patients with HBV have HDV co-infection", "correct": false}, {"label": "B", "text": "HDV can be spread by feco-oral route", "correct": false}, {"label": "C", "text": "HBV replication is suppressed by HDV", "correct": true}, {"label": "D", "text": "HDV is a DNA virus like HBV", "correct": false}], "correct_answer": "C. HBV replication is suppressed by HDV", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient with chronic hepatitis C presented with fatigue.On investigations ALT levels are normal.Fibroscan revealed no evidence of cirrhosis.What should be next line of treatment", "options": [{"label": "A", "text": "Observation", "correct": false}, {"label": "B", "text": "Interferon", "correct": false}, {"label": "C", "text": "Dual oral antiviral", "correct": true}, {"label": "D", "text": "Liver biopsy", "correct": false}], "correct_answer": "C. Dual oral antiviral", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 50 year old male presents with jaundice, loss of appetite with abdominal pain and increasing abdominal girth over 3‚Äì4 weeks. On examination he has hepatosplenomegaly and ascites. Lab tests: Haemoglobin 18 g/dL ,serum total Bilirubin 4.21 mg/dL,serum Albumin 3.6 g/dL, Ascitic fluid albumin 2.2 g/dL. What is the most likely cause of his presentation?", "options": [{"label": "A", "text": "Tubercular ascites", "correct": false}, {"label": "B", "text": "Nephrotic syndrome", "correct": false}, {"label": "C", "text": "Hepatic vein thrombosis", "correct": true}, {"label": "D", "text": "Malignant ascites", "correct": false}], "correct_answer": "C. Hepatic vein thrombosis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 45 year old patient with alcoholic liver disease developed diuretic-resistant ascites and mild encephalopathy. Which of the following scoring systems should be used to identify and prioritise whether he should be assessed for liver transplantation?", "options": [{"label": "A", "text": "Nazer score", "correct": false}, {"label": "B", "text": "Maddrey score", "correct": false}, {"label": "C", "text": "MELD (Model for End-Stage Liver Disease)", "correct": true}, {"label": "D", "text": "Rockall score", "correct": false}], "correct_answer": "C. MELD (Model for End-Stage Liver Disease)", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 60-year-old obese man with a history of hypertension, diabetes, and hypertriglyceridemia reports intermittent mild right upper quadrant discomfort. He does not drink alcohol. He has elevated AST and ALT with de ritis ratio less than 1.Viral Hepatitis panel and ANA are negative. Serum ceruloplasmin and ferritin are normal. His abdominal ultrasound shows generalized hyperechogenicity of the liver. The likely diagnosis is", "options": [{"label": "A", "text": "Hemochromatosis", "correct": false}, {"label": "B", "text": "Wilson disease", "correct": false}, {"label": "C", "text": "Autoimmune hepatitis", "correct": false}, {"label": "D", "text": "Non-alcoholic steatohepatitis", "correct": true}], "correct_answer": "D. Non-alcoholic steatohepatitis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which anti diabetes agents can be useful in hepatic encephalopathy", "options": [{"label": "A", "text": "Acarbose", "correct": true}, {"label": "B", "text": "Metformin", "correct": false}, {"label": "C", "text": "Pioglitazone", "correct": false}, {"label": "D", "text": "SGLT inhibitors", "correct": false}], "correct_answer": "A. Acarbose", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All are true regarding Primary biliary cholangitis except", "options": [{"label": "A", "text": "More in females", "correct": false}, {"label": "B", "text": "Pruritis common", "correct": false}, {"label": "C", "text": "Diagnostic criteria include elevation of ALP", "correct": false}, {"label": "D", "text": "Does not increase the risk of hepatocellular carcinoma", "correct": true}], "correct_answer": "D. Does not increase the risk of hepatocellular carcinoma", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In hepato-pulmonary syndrome due to chronic liver disease, all the following statements are true except", "options": [{"label": "A", "text": "NO is implicated in pathogenesis", "correct": false}, {"label": "B", "text": "Hypoxia is increased in supine position", "correct": true}, {"label": "C", "text": "Clubbing is present", "correct": false}, {"label": "D", "text": "Liver transplant is treatment of choice", "correct": false}], "correct_answer": "B. Hypoxia is increased in supine position", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A middle aged male known case of alcohol induced cirrhosis c/o abdominal distension and fever. Abdomen examination reveals shifting dullness. Paracentesis reveals ascitic fluid with SAAG > 1.1 and an ascitic fluid PMN cell count of 1000/ŒºL. Which of the following statements about this complication of cirrhosis is true?", "options": [{"label": "A", "text": "Ascites protein will be low", "correct": false}, {"label": "B", "text": "E Coli is most common etiology", "correct": false}, {"label": "C", "text": "Recurrence is common", "correct": false}, {"label": "D", "text": "All", "correct": true}], "correct_answer": "D. All", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(