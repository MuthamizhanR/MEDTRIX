<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Pulmonary Hypertension</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`üß† Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Pulmonary Hypertension</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                15 Questions | 15 Total Marks | 25 min Duration | ~100.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 15 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 25 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 15</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Pulmonary Hypertension - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 15</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 15 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Which of the following best defines pulmonary hypertension?", "options": [{"label": "A", "text": "Mean pulmonary artery pressure [PAP] >16 mmHg or an estimated systolic PAP >36 mmHg", "correct": false}, {"label": "B", "text": "Mean pulmonary artery pressure [PAP] >16 mmHg or an estimated systolic PAP >26 mmHg", "correct": false}, {"label": "C", "text": "Mean pulmonary artery pressure [PAP] >22 mmHg or an estimated systolic PAP >36 mmHg", "correct": true}, {"label": "D", "text": "Mean pulmonary artery pressure [PAP] >22 mmHg or an estimated systolic PAP >26 mmHg", "correct": false}], "correct_answer": "C. Mean pulmonary artery pressure [PAP] >22 mmHg or an estimated systolic PAP >36 mmHg", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Mean pulmonary artery pressure [PAP] >22 mmHg or an estimated systolic PAP >36 mmHg Pulmonary hypertension (PH) is a spectrum of diseases involving the pulmonary vasculature and defined as an elevation in pulmonary arterial pressures (mean pulmonary artery pressure [PAP] >22 mmHg or an estimated systolic PAP >36 mmHg). Symptoms of dyspnea, chest pain, and syncope characterize it.</p>\n<p><strong>Extraedge:</strong></p><p>If left untreated, the disease carries a high mortality rate, with the most common cause being decompensated right heart failure.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which is the most common cause of death in untreated pulmonary hypertension?", "options": [{"label": "A", "text": "Cerebro-vascular accident", "correct": false}, {"label": "B", "text": "Decompensated right heart failure", "correct": true}, {"label": "C", "text": "Liver failure", "correct": false}, {"label": "D", "text": "Acute renal failure", "correct": false}], "correct_answer": "B. Decompensated right heart failure", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Decompensated right heart failure Pulmonary hypertension (PH) is a spectrum of diseases involving the pulmonary vasculature. It is defined as an elevation in pulmonary arterial pressures (mean pulmonary artery pressure [PAP] >22 mmHg or an estimated and systolic PAP >36 mmHg).</p>\n<p><strong>Highyeild:</strong></p><p>Pulmonary hypertension (PH) is a spectrum of diseases involving the pulmonary vasculature and defined as an elevation in pulmonary arterial pressures (mean pulmonary artery pressure [PAP] >22 mmHg or an estimated and systolic PAP >36 mmHg). It is characterized by symptoms of dyspnea, chest pain, and syncope If left untreated, the disease carries a high mortality rate, with the most common cause of death being decompensated right heart failure.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Less common. Option: C. Less common. Option: D. Less common.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 25-year-old female presents with dyspnea, chest pain, and syncope. Which is the most important initial screening test in pulmonary hypertension?", "options": [{"label": "A", "text": "An echocardiogram with bubble study", "correct": true}, {"label": "B", "text": "Invasive hemodynamic monitoring", "correct": false}, {"label": "C", "text": "HRCT", "correct": false}, {"label": "D", "text": "Chest radiograph", "correct": false}], "correct_answer": "A. An echocardiogram with bubble study", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>An echocardiogram with bubble study An echocardiogram with bubble study is the most critical initial screening test. Echocardiography is also essential for determining specific causes . All forms of PH may demonstrate a hypertrophic and dilated right ventricle with elevated estimated pulmonary artery systolic pressure.</p>\n<p><strong>Highyeild:</strong></p><p>Signs of PH that may be evident on chest radiographs include enlargement of the central pulmonary arteries, ‚Äúvascular pruning,‚Äù and cardiomegaly.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B. Gold standard for diagnosis and assessment of disease severity. Option: C. Classic findings of PH on CT include those found on chest radiographs. Option: D. Signs of PH that may be evident on chest radiographs include enlargement of the central pulmonary arteries, ‚Äúvascular pruning,‚Äù and cardiomegaly.</p>\n<p><strong>Extraedge:</strong></p><p>Signs of PH that may be evident on chest radiographs include enlargement of the central pulmonary arteries, ‚Äúvascular pruning,‚Äù and cardiomegaly.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The gold standard for diagnosing and assessing disease severity in pulmonary hypertension is?", "options": [{"label": "A", "text": "An echocardiogram with bubble study", "correct": false}, {"label": "B", "text": "Invasive hemodynamic monitoring", "correct": true}, {"label": "C", "text": "CT angiograms", "correct": false}, {"label": "D", "text": "Ventilation-perfusion (V/Q) scanning", "correct": false}], "correct_answer": "B. Invasive hemodynamic monitoring", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Invasive hemodynamic monitoring An echocardiogram is a screening test, whereas invasive hemodynamic monitoring is the gold standard for diagnosing and assessing disease severity . With a normal echocardiogram, there may still be some concern for PH; this is particularly true if there is unexplained dyspnea or hypoxemia.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. An echocardiogram is a screening test Option: C. The role of CT angiograms in diagnosing chronic thromboembolic pulmonary hypertension (CTEPH) remains controversial, even with the advent of spiral CT. Option: D. Ventilation-perfusion (V/Q) scanning has been used for screening because of its high sensitivity and role in qualifying patients for surgical intervention</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient with pulmonary hypertension shows mPAP 28 mmHg, PCWP 12 mmHg, and PVR 4 Wood units. Which of the following best describes the type?", "options": [{"label": "A", "text": "Pre-capillary PH or PAH", "correct": true}, {"label": "B", "text": "Post-capillary PH- Passive", "correct": false}, {"label": "C", "text": "Post-capillary PH- Reactive", "correct": false}, {"label": "D", "text": "Needs more investigation to classify", "correct": false}], "correct_answer": "A. Pre-capillary PH or PAH", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Pre-capillary PH or PAH The definition of pre-capillary PH or PAH requires An increased mean PAP (mPAP >25 mmHg); A pulmonary capillary wedge pressure (PCWP), left atrial pressure or left ventricular end-diastolic pressure (LVEDP) ‚â§15 mmHg; and PVR >3 Wood units.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B. PCWP being ‚â•15 mmHg and transpulmonary gradient <12 mmHg. Chance: C. PCWP being ‚â•15 mmHg and transpulmonary gradient >12 mmHg. Opportunity: D. Sufficient for classification.</p>\n<p><strong>Extraedge:</strong></p><p>Post-capillary PH is differentiated from pre-capillary PH by the PCWP being ‚â•15 mmHg ; this is further determined into passive, based on a transpulmonary gradient <12 mmHg, or reactive, based on a transpulmonary angle>12 mmHg, and an increased PVR.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 28-year female is diagnosed with Post capillary pulmonary hypertension (Reactive). Which is true about the condition?", "options": [{"label": "A", "text": "mPAP >25 mmHg; PCWP‚â§15 mmHg; PVR >3 Wood units", "correct": false}, {"label": "B", "text": "mPAP >25 mmHg; PCWP‚â§15 mmHg; PVR <3 Wood units", "correct": false}, {"label": "C", "text": "mPAP >25 mmHg; PCWP‚â•15 mmHg; PVR transpulmonary gradient <12 mmHg", "correct": false}, {"label": "D", "text": "mPAP >25 mmHg; PCWP‚â•15 mmHg; transpulmonary gradient >12 mmHg", "correct": true}], "correct_answer": "D. mPAP >25 mmHg; PCWP‚â•15 mmHg; transpulmonary gradient >12 mmHg", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>mPAP >25 mmHg; PCWP‚â•15 mmHg; transpulmonary gradient >12 mmHg The definition of precapillary PH or PAH requires An increased mean PAP (mPAP >25 mmHg); A pulmonary capillary wedge pressure (PCWP), left atrial pressure or left ventricular end-diastolic pressure (LVEDP) ‚â§15 mmHg; and PVR >3 Wood units.</p>\n<p><strong>Highyeild:</strong></p><p>Post-capillary PH is differentiated from precapillary PH by the PCWP being ‚â•15 mmHg; this is further determined into passive, based on a transpulmonary gradient <12 mmHg, or reactive, based on a transpulmonary gradient >12 mmHg and an increased PVR.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Pre-capillary. Option: B. PVR >3 Wood units. Vote: C . Post capillary PH- passive.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Vasodilator testing is performed with inhalational NO in a patient with suspected pulmonary hypertension. Which of the following describes a positive pulmonary vasodilator response?", "options": [{"label": "A", "text": "Increase in mPAP by ‚â•10 mmHg to an absolute level ‚â•40 mmHg without a decrease in CO", "correct": false}, {"label": "B", "text": "Increase in mPAP by ‚â•10 mmHg to an absolute level ‚â§40 mmHg without a decrease in CO", "correct": false}, {"label": "C", "text": "Decrease in mPAP by ‚â•10 mmHg to an absolute level of ‚â§40 mmHg with a decrease in CO", "correct": false}, {"label": "D", "text": "Decrease in mPAP by ‚â•10 mmHg to an absolute level of ‚â§40 mmHg without a decrease in CO", "correct": true}], "correct_answer": "D. Decrease in mPAP by ‚â•10 mmHg to an absolute level of ‚â§40 mmHg without a decrease in CO", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Decrease in mPAP by ‚â•10 mmHg to an absolute level of ‚â§40 mmHg without a decrease in CO Vasodilators with a short duration of action, such as inhaled nitric oxide (NO), or inhaled epoprostenol, are preferred for vasodilator testing . A decrease in mPAP by ‚â•10 mmHg to a whole level ‚â§40 mmHg without a decrease in CO is defined as a positive pulmonary vasodilator response. Respondents are considered for long-term treatment with calcium channel blockers (CCB).</p>\n<p><strong>Highyeild:</strong></p><p>Less than 15% of patients are deemed vasoreactivity during testing, and even fewer exhibit long-term responsiveness to CCB. An acute vasodilator-induced reduction in PVR and mPAP predicts better long-term survival even among those patients not treated with CCB.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A, B. Decrease mPAP by ‚â•10 mmHg to a whole level of ‚â§40 mmHg. Option: C. Without a decrease in CO.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Pulmonary hypertension due to left heart systolic dysfunction is classified as?", "options": [{"label": "A", "text": "WHO Group I", "correct": false}, {"label": "B", "text": "WHO Group II", "correct": true}, {"label": "C", "text": "WHO Group III", "correct": false}, {"label": "D", "text": "WHO Group IV", "correct": false}], "correct_answer": "B. WHO Group II", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>WHO Group II The current classification system, last revised in 2013 during the Fifth World Symposium on Pulmonary Hypertension, recognizes five categories of PH, including. PAH PH due to left heart disease PH due to chronic lung disease PH associated with chronic thromboembolic and A group of miscellaneous diseases that only rarely cause PH.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A.PAH. Option: C. PH due to chronic lung disease. Option: D. PH associated with chronic thromboembolic.</p>\n<p><strong>Extraedge:</strong></p><p>WHO Group II PH includes patients with left heart systolic dysfunction, aortic and mitral valve disease, and heart failure with preserved ejection fraction (HFpEF).</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is the hallmark of Group II pulmonary hypertension?", "options": [{"label": "A", "text": "Elevated left atrial pressure", "correct": true}, {"label": "B", "text": "Elevated transpulmonary gradient", "correct": false}, {"label": "C", "text": "Elevated PVR", "correct": false}, {"label": "D", "text": "HF with reduced EF", "correct": false}], "correct_answer": "A. Elevated left atrial pressure", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Elevated left atrial pressure The hallmark of Group II PH is elevated left atrial pressure with resulting pulmonary venous hypertension. In general, the transpulmonary gradient and PVR remain normal. This is further differentiated into passive, based on a transpulmonary gradient < 12 mmHg, or reactive, based on a transpulmonary gradient >12 mmHg and an increased PVR.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B, C. In general, the transpulmonary gradient and PVR remain normal. Option: D. heart failure with preserved ejection fraction (HFpEF).</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient is prescribed sildenafil for pulmonary hypertension. Which of the following is true about its mode of action?", "options": [{"label": "A", "text": "Activate adenylyl cyclase increases cAMP", "correct": false}, {"label": "B", "text": "Activate guanylyl cyclase increases cGMP", "correct": false}, {"label": "C", "text": "Phosphodiesterase-5 (PDE5) inhibitors increase cAMP", "correct": false}, {"label": "D", "text": "Phosphodiesterase-5 (PDE5) inhibitors increase cGMP", "correct": true}], "correct_answer": "D. Phosphodiesterase-5 (PDE5) inhibitors increase cGMP", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Phosphodiesterase-5 (PDE5) inhibitors increase cGMP Phosphodiesterase-5 (PDE5) inhibitors (e.g., sildenafil) increase cyclic guanosine monophosphate (cGMP) levels and activate cGMP-dependent signalling pathways that also mediate vasodilation and platelet inhibition. The addition of a phosphodiesterase-5 (PDE5) inhibitor, therefore, augments the pulmonary hemodynamic and functional capacity benefits of prostanoid in PAH.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A, B. Phosphodiesterase-5 (PDE5) inhibitors. Option: C. cGMP NOT cAMP.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is NOT an endothelin receptor antagonist used in pulmonary hypertension?", "options": [{"label": "A", "text": "Bosentan", "correct": false}, {"label": "B", "text": "Ambrisentan", "correct": false}, {"label": "C", "text": "Macitentan", "correct": false}, {"label": "D", "text": "Telmisartan", "correct": true}], "correct_answer": "D. Telmisartan", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Telmisartan It is ARB. ERAs target ET-1, a potent endogenous vasoconstrictor and vascular smooth muscle mitogen that is elevated in PAH patients. Endothelin levels are increased coincident with increased PVR and mean PAP and decreased CO and 6MWD</p>\n<p><strong>Highyeild:</strong></p><p>Bosentan Oral Endothelin receptor antagonist Ambrisentan Oral Endothelin receptor antagonist Macitentan Oral Endothelin receptor antagonist</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A, B, C: Oral, Endothelin receptor antagonist used in pulmonary hypertension.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following drug can be given by inhalation route in pulmonary hypertension?", "options": [{"label": "A", "text": "Epoprostenol", "correct": false}, {"label": "B", "text": "Iloprost", "correct": true}, {"label": "C", "text": "Selexipag", "correct": false}, {"label": "D", "text": "Bosentan", "correct": false}], "correct_answer": "B. Iloprost", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Iloprost Prostacyclin (PGI2) activates cyclic adenosine monophosphate (cAMP)-dependent pathways that mediate vasodilation. PGI2 also has an antiproliferative effect on vascular smooth muscle and inhibits platelet aggregation</p>\n<p><strong>Highyeild:</strong></p><p>GENERIC NAME ROUTE OF ADMINISTRATION DRUG CLASS Epoprostenol IV Prostacyclin derivative Iloprost Inhaled Prostacyclin derivative Treprostinil IV or SC Prostacyclin derivative Treprostinil Inhaled Prostacyclin derivative Treprostinil Oral Prostacyclin derivative Selexipeg Oral Selective IP receptor agonist Bosentan Oral Selective IP receptor agonist Ambrisentan Oral Selective IP receptor agonist Macitentan Oral Selective IP receptor agonist Sildenafil OralPDE5 inhibitor PDE5 inhibitor Tadalafil Oral PDE5 inhibitor Riociguat Oral Soluble guanylyl cyclase stimulator</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. IV route. Option: C. Oral route. Option: D. Oral route.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is FALSE about WHO Group I PH, PAH?", "options": [{"label": "A", "text": "A relatively rare cause of PH", "correct": false}, {"label": "B", "text": "Pulmonary arterial precapillary remodelling", "correct": false}, {"label": "C", "text": "PCWP or LVEDP of ‚â•15 mmHg", "correct": true}, {"label": "D", "text": "PVR > 240 dyne-s/cm5", "correct": false}], "correct_answer": "C. PCWP or LVEDP of ‚â•15 mmHg", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>PCWP or LVEDP of ‚â•15 mmHg 5 mmHg PCWP or LVEDP of ‚â§15 mmHg. PAH is defined as a sustained elevation in resting mean pulmonary arterial pressure (mPAP) ‚â•25 mmHg, PVR > 240 dyne-s/cm5, and PCWP or LVEDP of ‚â§15 mmHg based on an RHC. With a normal PCWP and an elevated mPAP, these diseases demonstrate an increased transpulmonary gradient (mPAP‚Äì PCWP) and increased PVR.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. WHO Group I PH, PAH, is a relatively rare cause of PH. Option: B. PAH includes a group of diseases that result in pulmonary arterial precapillary remodelling marked by intimal fibrosis, increased medial thickness, pulmonary arteriolar occlusion, and classic plexiform lesions. Option: D. PVR > 240 dyne-s/cm5.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Precapillary Pulmonary hypertension is caused by all except", "options": [{"label": "A", "text": "Mitral stenosis", "correct": true}, {"label": "B", "text": "Pulmonary vasculitis", "correct": false}, {"label": "C", "text": "Primary pulmonary hypertension", "correct": false}, {"label": "D", "text": "Thromboembolism", "correct": false}], "correct_answer": "A. Mitral stenosis", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Mitral stenosis Features Precapillary Passive (Post-capillary Pathophysiology An abnormality that leads to elevated pulmonary artery pressure is located before the pulmonary artery or arterioles Abnormalities that lead to elevated pulmonary artery pressure are located beyond the pulmonary arteries. These are caused by diseases that lead to increased pulmonary venous pressure that in turn produces a secondary elevation in pulmonary arterial pressure. Left Atrial (LA) Pressure (PCWP) Normal ‚Üë Pulmonary Artery - Left Atrium Pressure Gradient > 12mm <12mmHg Causes 1. Primary PAH 2. CHD with PAH 3. Pulmonary embolism 4. Schistosomiasis 5. Collagen vascular disease 6. Sickle hemoglobinopathies 7. Portal hypertension 8. Pulmonary vasculitis 1. Mitral valve disease 2. Left ventricular failure 3. Obstruction of major pulmonary veins 4. Left atrial myxoma 5. Congenital pulmonary vein stenosis</p>\n<p><strong>Highyeild:</strong></p><p>table,tr,th,td {border:1px solid black;} Features Precapillary Passive (Post-capillary Pathophysiology An abnormality that leads to elevated pulmonary artery pressure is located before the pulmonary artery or arterioles Abnormalities that lead to elevated pulmonary artery pressure are located beyond the pulmonary arteries. These are caused by diseases that lead to increased pulmonary venous pressure that in turn produces a secondary elevation in pulmonary arterial pressure. Left Atrial (LA) Pressure (PCWP) Normal ‚Üë Pulmonary Artery - Left Atrium Pressure Gradient > 12mm <12mmHg Causes 1. Primary PAH 2. CHD with PAH 3. Pulmonary embolism 4. Schistosomiasis 5. Collagen vascular disease 6. Sickle hemoglobinopathies 7. Portal hypertension 8. Pulmonary vasculitis 1. Mitral valve disease 2. Left ventricular failure 3. Obstruction of major pulmonary veins 4. Left atrial myxoma 5. Congenital pulmonary vein stenosis</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Murmur seen in cor pulmonale/ pulmonary heart disease is?", "options": [{"label": "A", "text": "MR", "correct": false}, {"label": "B", "text": "AR", "correct": false}, {"label": "C", "text": "TR", "correct": true}, {"label": "D", "text": "MS", "correct": false}], "correct_answer": "C. TR", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>TR Cor Pulmonale Cor pulmonale is right ventricle enlargement with or without failure secondary to the lung parenchyma, pleura or chest wall disease. Cor pulmonale is right ventricle enlargement with or without failure secondary to the lung parenchyma, pleura or chest wall disease.</p>\n<p><strong>Highyeild:</strong></p><p>Types of Cor pulmonale:- Acute Cor pulmonale: The most common cause is a sudden massive pulmonary embolism Chronic Cor pulmonale: The most common cause is COPD Note: Chronic Cor pulmonale is associated with the prominence of upper lobe veins. Clinical features:- Symptoms include dyspnea, fatigue, or syncope. Signs: cyanosis, tachycardia; raised JVP with prominent v wave; RV heave; loud P2 Pansystolic murmur (tricuspid regurgitation); early diastolic Graham Steel murmur, hepatomegaly and edema.</p>\n<p><strong>Extraedge:</strong></p><p>Causes of cor pulmonale:- Lung disease COPD (M/C cause) Bronchiectasis Pulmonary fibrosis Pulmonary vascular disease Pulmonary emboli Pulmonary vasculitis Primary pulmonary hypertension Thoracic cage abnormality Kyphosis Scoliosis Thoracoplasty Neuromuscular disease Myasthenia gravis Poliomyelitis Motor neuron disease Hypoventilation Sleep apnea</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(