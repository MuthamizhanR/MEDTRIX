<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Obstetrics Dr Deepti</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Obstetrics Dr Deepti</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                40 Questions | 160 Total Marks | 50 min Duration | ~75.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 40 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 50 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 40</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Obstetrics Dr Deepti - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 40</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 40 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "An intern conducts a delivery and immediately after delivery the woman experiences breathlessness, hypotension and she collapses. What is probable diagnosis", "options": [{"label": "A", "text": "PPH", "correct": false}, {"label": "B", "text": "Uterine inversion", "correct": false}, {"label": "C", "text": "Amniotic fluid embolism", "correct": true}, {"label": "D", "text": "DIC", "correct": false}], "correct_answer": "C. Amniotic fluid embolism", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Pelvis associated with persistent occipeto posterior position", "options": [{"label": "A", "text": "Android", "correct": false}, {"label": "B", "text": "Anthropoid", "correct": true}, {"label": "C", "text": "Gynecoid", "correct": false}, {"label": "D", "text": "Platypelloid", "correct": false}], "correct_answer": "B. Anthropoid", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A female has previous history of CS and prolonged labour . now she is hypotensive, fetal heart sound not heard and fetal parts are superficially palpated . likely diagnosis", "options": [{"label": "A", "text": "Active labour", "correct": false}, {"label": "B", "text": "Polyhydramnios", "correct": false}, {"label": "C", "text": "Abruption", "correct": false}, {"label": "D", "text": "Uterine rupture", "correct": true}], "correct_answer": "D. Uterine rupture", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 32 weeks pregnant female complains of vaginal bleeding . on P/A exam uterus is tender and fetal heart sounds are absent. What is diagnosis", "options": [{"label": "A", "text": "Preterm labour", "correct": false}, {"label": "B", "text": "Abruption", "correct": true}, {"label": "C", "text": "Placenta previa", "correct": false}, {"label": "D", "text": "Uterine rupture", "correct": false}], "correct_answer": "B. Abruption", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "25 year old lady delivered 12 weeks back gives history of heavy bleeding. She has history of dilatation and curettage in some hospital. The most likely explanation for her bleeding is", "options": [{"label": "A", "text": "Normal lochia", "correct": false}, {"label": "B", "text": "She has PPH", "correct": false}, {"label": "C", "text": "She has developed DIC", "correct": false}, {"label": "D", "text": "She has developed gestational trophoblastic neoplasia", "correct": true}], "correct_answer": "D. She has developed gestational trophoblastic neoplasia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 25 year old primigravida is on lithium treatment for her psychiatric illness for past 2 years, what anomaly will this cause if she is pregnant", "options": [{"label": "A", "text": "Ebstein anomaly", "correct": true}, {"label": "B", "text": "VSD", "correct": false}, {"label": "C", "text": "NTD", "correct": false}, {"label": "D", "text": "PDA", "correct": false}], "correct_answer": "A. Ebstein anomaly", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "26 yr old woman on mechanical heart valves and on warfarin therapy has her pregnancy test positive. What is the best advise for her", "options": [{"label": "A", "text": "Continue warfarin throughout pregnancy", "correct": false}, {"label": "B", "text": "Replace warfarin with heparin", "correct": true}, {"label": "C", "text": "Discontinue all anticoagulants", "correct": false}, {"label": "D", "text": "Warfarin is contraindicated in pregnancy and lactation", "correct": false}], "correct_answer": "B. Replace warfarin with heparin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The complication associated with i/v bolus oxytocin", "options": [{"label": "A", "text": "Hypoglycemia", "correct": false}, {"label": "B", "text": "Hyperglycemia", "correct": false}, {"label": "C", "text": "Hypertension", "correct": false}, {"label": "D", "text": "Hypotension `", "correct": true}], "correct_answer": "D. Hypotension `", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "False regarding the instrument shown below", "options": [{"label": "A", "text": "Does not need electricity", "correct": false}, {"label": "B", "text": "Generates pressure of 660 mmhg", "correct": false}, {"label": "C", "text": "Has a capacity of 50 ml", "correct": true}, {"label": "D", "text": "Can be used up to 12 weeks", "correct": false}], "correct_answer": "C. Has a capacity of 50 ml", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/9(120).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "24 year old woman with previous 3 midtrimester abortions now presents at 20 weeks with cervical length of 20 mm. what could be the reason for recurrent pregnancy losses", "options": [{"label": "A", "text": "Cervical incompetence", "correct": true}, {"label": "B", "text": "Chromosomal abnormality", "correct": false}, {"label": "C", "text": "Uterine anomalies", "correct": false}, {"label": "D", "text": "Hormonal imbalance", "correct": false}], "correct_answer": "A. Cervical incompetence", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Primigravida presents with pain abdomen. Her cervix is 1 cm dilated and 30% effaced . after 10 hrs her findings are almost same. FHR is 130 bpm and regular . what is next step in management", "options": [{"label": "A", "text": "Start oxytocin", "correct": false}, {"label": "B", "text": "Do ARM", "correct": false}, {"label": "C", "text": "DO EMERGENCY CS", "correct": false}, {"label": "D", "text": "Sedate the patient", "correct": true}], "correct_answer": "D. Sedate the patient", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A primigravida at 32 weeks has BP 160/116 mmhg, her lab findings show increased liver enzymes and increased LDH and low platelet count. What is diagnosis", "options": [{"label": "A", "text": "Sever preeclampsia", "correct": false}, {"label": "B", "text": "HELLP syndrome", "correct": true}, {"label": "C", "text": "Acute fatty liver", "correct": false}, {"label": "D", "text": "Cholestasis", "correct": false}], "correct_answer": "B. HELLP syndrome", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A Female after delivery complains of cramps during breast feeding. Which hormone is responsible for it", "options": [{"label": "A", "text": "Prolactin", "correct": false}, {"label": "B", "text": "Estrogen", "correct": false}, {"label": "C", "text": "Progesterone", "correct": false}, {"label": "D", "text": "Oxytocin", "correct": true}], "correct_answer": "D. Oxytocin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "According to MTP amendment act, MTP can be done up to", "options": [{"label": "A", "text": "16 weeks", "correct": false}, {"label": "B", "text": "20 weeks", "correct": false}, {"label": "C", "text": "24 weeks", "correct": true}, {"label": "D", "text": "28 weeks", "correct": false}], "correct_answer": "C. 24 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Maximum amount of amniotic fluid is seen at", "options": [{"label": "A", "text": "32 weeks", "correct": true}, {"label": "B", "text": "30 weeks", "correct": false}, {"label": "C", "text": "36 weeks", "correct": false}, {"label": "D", "text": "28 weeks", "correct": false}], "correct_answer": "A. 32 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A lady presents with 45 days of amenorrhea and she wants abortion which of the following is correct dose of drugs given to her for MTP", "options": [{"label": "A", "text": "Mifepristone 200 oral and methotrexate after 48 hrs", "correct": false}, {"label": "B", "text": "Mifepristone 200 mg oral and after 48 hrs misoprostol 800mcg", "correct": true}, {"label": "C", "text": "Mifepristone 200 mg oral and after 48 hrs misoprostol 400 mcg", "correct": false}, {"label": "D", "text": "Mifepristone 200 mg oral after 48 hrs misoprostol 400 plus methotrexate", "correct": false}], "correct_answer": "B. Mifepristone 200 mg oral and after 48 hrs misoprostol 800mcg", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the usg image of uterus", "options": [{"label": "A", "text": "Hydatiform mole", "correct": true}, {"label": "B", "text": "Partial mole", "correct": false}, {"label": "C", "text": "Adenomyosis", "correct": false}, {"label": "D", "text": "Chocolate cyst", "correct": false}], "correct_answer": "A. Hydatiform mole", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/17(57).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is indication for surgical management of ectopic pregnancy", "options": [{"label": "A", "text": "Unruptured ectopic", "correct": false}, {"label": "B", "text": "Ectopic size > 4cm", "correct": true}, {"label": "C", "text": "Hcg value 1500 IU", "correct": false}, {"label": "D", "text": "Patient wants another baby", "correct": false}], "correct_answer": "B. Ectopic size > 4cm", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Absolute contraindication to breast feeding", "options": [{"label": "A", "text": "CMV", "correct": false}, {"label": "B", "text": "HIV", "correct": false}, {"label": "C", "text": "Galactosemia", "correct": true}, {"label": "D", "text": "Hepatitis C", "correct": false}], "correct_answer": "C. Galactosemia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "HOW much dose is recommended for folic acid in pregnancy with previous history of neural tube defects", "options": [{"label": "A", "text": "0.4mg", "correct": false}, {"label": "B", "text": "400mg", "correct": false}, {"label": "C", "text": "1mg", "correct": false}, {"label": "D", "text": "4mg", "correct": true}], "correct_answer": "D. 4mg", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Most common neonatal complication of gestational diabetes", "options": [{"label": "A", "text": "Hyperglycemia", "correct": false}, {"label": "B", "text": "Hyaline membrane disease", "correct": false}, {"label": "C", "text": "Hypoglycemia", "correct": true}, {"label": "D", "text": "Congenital malformation", "correct": false}], "correct_answer": "C. Hypoglycemia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In a patient with hyperthyroidism which drug will you give in first triemster", "options": [{"label": "A", "text": "PTU", "correct": true}, {"label": "B", "text": "Methimazole", "correct": false}, {"label": "C", "text": "Carbimazole", "correct": false}, {"label": "D", "text": "I 131", "correct": false}], "correct_answer": "A. PTU", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Mentally challenged girl got pregnant. What is next step acoording to MTP act", "options": [{"label": "A", "text": "Consent frompatient if she is >18 year old", "correct": false}, {"label": "B", "text": "Consent from guardian", "correct": true}, {"label": "C", "text": "2 doctor opinion", "correct": false}, {"label": "D", "text": "Consent from husband", "correct": false}], "correct_answer": "B. Consent from guardian", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Pregnant female with asthma presents with hypertension drug used is", "options": [{"label": "A", "text": "Iv labetalol", "correct": false}, {"label": "B", "text": "Oral labetalol", "correct": false}, {"label": "C", "text": "ACE inhibitor", "correct": false}, {"label": "D", "text": "Nifedipine", "correct": true}], "correct_answer": "D. Nifedipine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Mcrobert maneuver failed in shoulder dystocia. What is next step", "options": [{"label": "A", "text": "Suprapubic pressure", "correct": true}, {"label": "B", "text": "Gaskin", "correct": false}, {"label": "C", "text": "Zavanelli", "correct": false}, {"label": "D", "text": "Wood cork screw", "correct": false}], "correct_answer": "A. Suprapubic pressure", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Folic acid therapeutic dose is given in which of the following conditions", "options": [{"label": "A", "text": "Previous low birth weight baby", "correct": false}, {"label": "B", "text": "Diabetes", "correct": false}, {"label": "C", "text": "Previous preterm labour", "correct": false}, {"label": "D", "text": "Sickle cell anaemia", "correct": true}], "correct_answer": "D. Sickle cell anaemia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A pregnant woman at 22 weeks usg shows marginal placenta. What is next step", "options": [{"label": "A", "text": "Plan induction at 37 weeks", "correct": false}, {"label": "B", "text": "Plan CS at 37 weeks", "correct": false}, {"label": "C", "text": "Reassess with usg at 32 weeks", "correct": true}, {"label": "D", "text": "Reassess with usg at 36 weeks", "correct": false}], "correct_answer": "C. Reassess with usg at 32 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which part of placenta is attached to maternal side", "options": [{"label": "A", "text": "Decidual pparietalis", "correct": false}, {"label": "B", "text": "Chorionic plate", "correct": false}, {"label": "C", "text": "Decidua basalis", "correct": true}, {"label": "D", "text": "Spiral artery", "correct": false}], "correct_answer": "C. Decidua basalis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "For screening of diabetes amount of glucose use", "options": [{"label": "A", "text": "50 gm", "correct": false}, {"label": "B", "text": "75gm", "correct": true}, {"label": "C", "text": "100gm", "correct": false}, {"label": "D", "text": "150 gm", "correct": false}], "correct_answer": "B. 75gm", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Anti D dose after delivery in Rh negative mother", "options": [{"label": "A", "text": "50 mcg", "correct": false}, {"label": "B", "text": "150 mcg", "correct": false}, {"label": "C", "text": "200 mcg", "correct": false}, {"label": "D", "text": "300 mcg", "correct": true}], "correct_answer": "D. 300 mcg", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Married woman presents at 22 weeks due to failure of contraception and she seeks termination of pregnancy. Which will be true statement based on MTP amendment act", "options": [{"label": "A", "text": "2 doctors opinion needed", "correct": false}, {"label": "B", "text": "One doctor opinion needed", "correct": false}, {"label": "C", "text": "Medical board permission needed", "correct": false}, {"label": "D", "text": "Continue pregnancy", "correct": true}], "correct_answer": "D. Continue pregnancy", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "According to MTP act which of the following is punishable", "options": [{"label": "A", "text": "MTP up to 24 weeks", "correct": false}, {"label": "B", "text": "Termination to be done at government approved hospital only", "correct": false}, {"label": "C", "text": "Can be done by registered medical practitioner", "correct": false}, {"label": "D", "text": "No need to send monthly record to government authorities", "correct": true}], "correct_answer": "D. No need to send monthly record to government authorities", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Primigravida presents in labour at 1 pm she is 5 cm dilated and at 4 pm she is 6 cm dilated. What is next step", "options": [{"label": "A", "text": "Do CS", "correct": false}, {"label": "B", "text": "Wait for complete dilatation", "correct": false}, {"label": "C", "text": "ARM+ oxytocin and check after 2 hr", "correct": true}, {"label": "D", "text": "ARM + oxytocin and check after 4 hr", "correct": false}], "correct_answer": "C. ARM+ oxytocin and check after 2 hr", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is management of anaemia in a pregnant lady with Hb 10gm% in second trimester as per anemia mukt bharat abhiyaan", "options": [{"label": "A", "text": "60 mg iron and 500 mcg of folic acid once a day", "correct": false}, {"label": "B", "text": "60 mf iron and 500 mcg of folic acid twice a day", "correct": true}, {"label": "C", "text": "100 mg iron and 500 mcg folic acid once a day", "correct": false}, {"label": "D", "text": "100 mg of iron and 500 mcg of folic acid twice a day", "correct": false}], "correct_answer": "B. 60 mf iron and 500 mcg of folic acid twice a day", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Multigravida with previous CS, in which of the following can vaginal delivery be tried", "options": [{"label": "A", "text": "Previous transverse CS", "correct": true}, {"label": "B", "text": "Breech in present pregnancy", "correct": false}, {"label": "C", "text": "Previous classical", "correct": false}, {"label": "D", "text": "Previous history of rupture uterus", "correct": false}], "correct_answer": "A. Previous transverse CS", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is management of uterine inversion", "options": [{"label": "A", "text": "Manual replacement", "correct": true}, {"label": "B", "text": "Oxytocin", "correct": false}, {"label": "C", "text": "Hydrostatic method", "correct": false}, {"label": "D", "text": "Huntington method", "correct": false}], "correct_answer": "A. Manual replacement", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is ideal time to do nuchal translucency", "options": [{"label": "A", "text": "18-20 weeks", "correct": false}, {"label": "B", "text": "20-24 weeks", "correct": false}, {"label": "C", "text": "11-14 weeks", "correct": true}, {"label": "D", "text": "8-10 weeks", "correct": false}], "correct_answer": "C. 11-14 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "rh negative patient has a ICT titer of 1:8 at 24 weeks what is next step", "options": [{"label": "A", "text": "Give anti D", "correct": false}, {"label": "B", "text": "Repeat ICT after 4 weeks", "correct": true}, {"label": "C", "text": "Do MCA Doppler", "correct": false}, {"label": "D", "text": "Do cordocetesis", "correct": false}], "correct_answer": "B. Repeat ICT after 4 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following muscle is not cut in episiotomy", "options": [{"label": "A", "text": "Ischiocavernosus", "correct": true}, {"label": "B", "text": "Bulbospongiosus", "correct": false}, {"label": "C", "text": "Transverse perineal", "correct": false}, {"label": "D", "text": "Pubococcygeus", "correct": false}], "correct_answer": "A. Ischiocavernosus", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the management of a G2P1L1 who presents with bleeding pv at 34 weeks. On examination uterus is 36 weeks tense and FHR is 130 bpm. On pv examination she is 4cm dilated 50% effaced what is next step in management", "options": [{"label": "A", "text": "Do CS", "correct": false}, {"label": "B", "text": "Do ARM", "correct": true}, {"label": "C", "text": "Give tocolytics", "correct": false}, {"label": "D", "text": "Give tocolytics plus steroid", "correct": false}], "correct_answer": "B. Do ARM", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(