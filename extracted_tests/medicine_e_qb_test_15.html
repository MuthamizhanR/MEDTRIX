<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Asthma (Part 1)</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Asthma (Part 1)</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                17 Questions | 17 Total Marks | 27 min Duration | ~95.29 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 17 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 27 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 17</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Asthma (Part 1) - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 17</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 17 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 6-year-old asthmatic boy is brought to the casualty. He is not speaking and has fast shallow breathing. On examination, the chest is silent with paradoxical breathing present. There is an increased respiratory rate and bradycardia. ABG shows respiratory acidosis. What is the best step in the management of this patient?", "options": [{"label": "A", "text": "MDI with salbutamol and corticosteroids", "correct": false}, {"label": "B", "text": "Hyperbaric oxygen therapy", "correct": false}, {"label": "C", "text": "Subcutaneous terbutaline with aminophylline", "correct": false}, {"label": "D", "text": "Immediate endotracheal intubation", "correct": true}], "correct_answer": "D. Immediate endotracheal intubation", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Immediate endotracheal intubation This is the best step management of this patient. The clinical scenario is suggestive of acute severe asthma impending respiratory failure. In asthma going for respiratory failure, the patient is mute or confused. On Examination, the chest is silent and paradoxical breathing is present. The patient presents with relative bradycardia. Pulsus paradoxus is absent due to respiratory muscle fatigue. PEFR (peak expiratory flow rate) will be less than 25ml/min. immediate endotracheal intubation is required in this case.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: -: Option A : MDI with salbutamol and corticosteroids are only useful for acute severe asthma. The above is a case of impending respiratory failure. Option B : Hyperbaric oxygen is given in Carbon monoxide poisoning and high-altitude pulmonary edema. Option C: Subcutaneous terbutaline with Aminophylline- Aminophylline is contraindicated as it causes PSVT (paroxysmal supraventricular tachycardia)</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In Asthma, the most consistent findings have been associations with polymorphisms of genes on which chromosomes?", "options": [{"label": "A", "text": "12p", "correct": false}, {"label": "B", "text": "5q", "correct": true}, {"label": "C", "text": "1", "correct": false}, {"label": "D", "text": "4", "correct": false}], "correct_answer": "B. 5q", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>5q The most consistent findings have been associations with polymorphisms of genes on chromosome 5q, including the T helper 2 (Th2) cells interleukin (IL)-4, IL-5, IL-9, and IL-13, which are associated with atopy.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Testicular cancer. Option: C. Rh system of blood group. Option: D. MNS system of blood group.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is TRUE about asthma in Obese individuals (BMI >30 kg/m2)?", "options": [{"label": "A", "text": "Less frequent in incidence and often less difficult to control", "correct": false}, {"label": "B", "text": "More frequent in incidence and often less difficult to control", "correct": false}, {"label": "C", "text": "Less frequent in incidence and often more difficult to control", "correct": false}, {"label": "D", "text": "More frequent in incidence and often more difficult to control", "correct": true}], "correct_answer": "D. More frequent in incidence and often more difficult to control", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>More frequent in incidence and often more difficult to control Asthma occurs more frequently in obese people (BMI >30 kg/m2) and is often more difficult to control. Although mechanical factors may contribute, they may also be linked to the pro-inflammatory adipokinesis and reduced anti-inflammatory adipokinesis that are released from fat cells.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. More frequent in incidence and often more difficult to control Option: B. Often more difficult to control. Option: C. More frequent in incidence.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following pharmacological agent is dangerous to use in asthmatic patients?", "options": [{"label": "A", "text": "Selective Î² blockers", "correct": false}, {"label": "B", "text": "Î²2 blockers", "correct": false}, {"label": "C", "text": "Timolol eye drops", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>All of the above All beta-blockers need to be avoided and even s elective Î², Î²2 blockers , or topical application (e.g. timolol eye drops) may be dangerous. They cause bronchoconstriction Option: A, B, C : All are Î² blockers and all are dangerous.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options:- Option: A, B, C : All are Î² blockers and all are dangerous.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Thunderstorm asthma is triggered by?", "options": [{"label": "A", "text": "Viral infections", "correct": false}, {"label": "B", "text": "Pollen grains", "correct": true}, {"label": "C", "text": "Pharmacological agents", "correct": false}, {"label": "D", "text": "Anxiety", "correct": false}], "correct_answer": "B. Pollen grains", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Pollen grains Pollens usually cause allergic rhinitis rather than asthma, but in thunderstorms, the pollen grains are disrupted and the particles that may be released can trigger severe asthma exacerbations (thunderstorm asthma).</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Upper respiratory tract virus infections such as rhinovirus, respiratory syncytial virus, and coronavirus are the most common triggers of a cute severe exacerbations. Option: C. Î² blockers, Aspirin, ACE-I, etc. Option: D. Psychological factors can induce bronchoconstriction through cholinergic reflex pathways.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is true about the effect of very severe stress such as bereavement on asthma symptoms?", "options": [{"label": "A", "text": "Worsening of symptoms", "correct": false}, {"label": "B", "text": "Never improves asthma symptoms", "correct": false}, {"label": "C", "text": "Does not worsen asthma symptoms", "correct": true}, {"label": "D", "text": "No role of stress on asthma symptoms", "correct": false}], "correct_answer": "C. Does not worsen asthma symptoms", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Does not worsen asthma symptoms Many asthmatics report worsening symptoms with stress. Paradoxically, very severe stress such as bereavement usually does not worsen, and may even improve asthma symptoms.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: -- Option: A. Does not worsen asthma symptoms. Option: B. May even improve asthma symptoms. Option: D. Has role.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What happens to the level of NO in the expired air of patients with asthma?", "options": [{"label": "A", "text": "Lower than normal and is related to the basophilic inflammation", "correct": false}, {"label": "B", "text": "Lower than normal and is related to the eosinophilic inflammation", "correct": false}, {"label": "C", "text": "Higher than normal and is related to the basophilic inflammation", "correct": false}, {"label": "D", "text": "Higher than normal and is related to the eosinophilic inflammation", "correct": true}], "correct_answer": "D. Higher than normal and is related to the eosinophilic inflammation", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Higher than normal and is related to the eosinophilic inflammation Nitric oxide (NO) is produced by NO synthases in several cells in the airway, particularly airway epithelial cells and macrophages. The level of NO in the expired air of patients with asthma is higher than normal and is related to eosinophilic inflammation. Increased NO may contribute to the bronchial vasodilation observed in asthma. Fractional exhaled NO (FENO) is increasingly used in the diagnosis and monitoring of airway inflammation.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A, B. Higher than normal Option: C. Related to the eosinophilic inflammation.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What histological change will happen to airway smooth muscles in asthma patients?", "options": [{"label": "A", "text": "No change", "correct": false}, {"label": "B", "text": "Hypertrophy only", "correct": false}, {"label": "C", "text": "Hyperplasia only", "correct": false}, {"label": "D", "text": "Hypertrophy and hyperplasia", "correct": true}], "correct_answer": "D. Hypertrophy and hyperplasia", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Hypertrophy and hyperplasia Asthma- Chronic inflammatory disorder of conducting airways Definition- variable, recurring, reversible, nocturnal Pathogenesis: Immediate phase: Type 1 mast cells Late phase: Type 1V ECP, MBP, PAF-12 hr later Involves small as well as large airways In asthmatic airways, there is also characteristic hypertrophy and hyperplasia of airway smooth muscle, which is presumably the result of stimulation of airway smooth muscle cells by various growth factors such as platelet-derived growth factor (PDGF ) or endothelin-1 released from inflammatory or epithelial cells.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A: Changes occur. Options: B, and C: Both occur.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following has been shown to induce mucus hypersecretion in experimental models of asthma?", "options": [{"label": "A", "text": "IL-5", "correct": false}, {"label": "B", "text": "IL-4", "correct": false}, {"label": "C", "text": "IL-13", "correct": true}, {"label": "D", "text": "IL-12", "correct": false}], "correct_answer": "C. IL-13", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>IL-13 There is hyperplasia of submucosal glands that are confined to large airways and of increased numbers of epithelial goblet cells. IL-13 induces mucus hypersecretion in experimental models of asthma .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A: Th2 cells, through the release of IL-5 , are associated with eosinophilic inflammation. Option: B. Release of IL-4 and IL-13, are associated with increased IgE formation. Option: D. Immature dendritic cells in the respiratory tract promote Th2 cell differentiation and require cytokines such as IL-12 and TNF-Î±, to promote the normally preponderant Th1 response.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "How will you make the diagnosis of asthma in patients using spirometry?", "options": [{"label": "A", "text": ">5% and 500-mL increase in FEV1 after 15 min of an inhaled short-acting Î²2-agonist", "correct": false}, {"label": "B", "text": ">5% and 500-mL increase in FEV1 after 60 min of an inhaled short-acting Î²2-agonist", "correct": false}, {"label": "C", "text": ">12% and 200-mL increase in FEV1 after 15 min of an inhaled short-acting Î²2-agonist", "correct": true}, {"label": "D", "text": ">12% and 200-mL increase in FEV1 after 60 min of an inhaled short-acting Î²2-agonist", "correct": false}], "correct_answer": "C. >12% and 200-mL increase in FEV1 after 15 min of an inhaled short-acting Î²2-agonist", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>>12% and 200-mL increase in FEV1 after 15 min of an inhaled short-acting Î²2-agonist The diagnosis of asthma is usually apparent from the symptoms of variable and intermittent airway obstruction but must be confirmed by objective measurements of lung function. Demonstration of obstruction and reversibility of obstruction Simple spirometry confirms airflow limitation with a reduced FEV1, FEV1/FVC ratio, and PEF Reversibility is demonstrated by a >12% and 200-mL increase in FEV1 15 min after an inhaled s hort-acting Î²2-agonist (SABA; such as inhaled albuterol 400 Î¼g ) or in some patients by a 2â€“4 week trial of oral corticosteroids (OCS) (prednisone or prednisolone 30â€“40 mg daily). Measurements of PEF twice daily may confirm the diurnal variations in airflow obstruction.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Options: A, B: >12% and 200-mL. Option: D: After 15 min.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following bronchodilator is most effective in the therapy of asthma?", "options": [{"label": "A", "text": "Anticholinergics", "correct": false}, {"label": "B", "text": "Theophylline", "correct": false}, {"label": "C", "text": "Î²2-adrenergic agonists", "correct": true}, {"label": "D", "text": "All are equally effective", "correct": false}], "correct_answer": "C. Î²2-adrenergic agonists", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Î²2-adrenergic agonists There are three classes of bronchodilators in current use: Î²2-adrenergic agonists, anticholinergics, and theophylline; of these, Î²2-agonists are by far the most effective. The main drugs for asthma can be divided into bronchodilators which give rapid relief of symptoms mainly through relaxation of airway smooth muscle, and controllers, which inhibit the underlying inflammatory process BRONCHODILATOR THERAPIES Bronchodilators act primarily on airway smooth muscle to reverse the bronchoconstriction of asthma . This gives rapid relief of symptoms but has little or no effect on the underlying inflammatory process. Thus, bronchodilators are not sufficient to control asthma in patients with persistent symptoms.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: -- Options: A, B: Relatively less effective. Option: D: Î²2-agonists are by far the most effective.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following can be given as a once-daily regimen in Asthma therapy?", "options": [{"label": "A", "text": "Terbutaline", "correct": false}, {"label": "B", "text": "Formoterol", "correct": false}, {"label": "C", "text": "Olodaterol", "correct": true}, {"label": "D", "text": "Salmeterol", "correct": false}], "correct_answer": "C. Olodaterol", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Olodaterol Long-acting Î²2-agonists ( LABA) include salmeterol and formoterol, both of which have a duration of action over 12 h and are given twice daily by inhalation; and Indacaterol, Olodaterol, and Vilanterol, which are given once daily.</p>\n<p><strong>Highyeild:</strong></p><p>BRONCHODILATOR THERAPIES Bronchodilators act primarily on airway smooth muscle to reverse the bronchoconstriction of asthma. This gives rapid relief of symptoms but has little or no effect on the underlying inflammatory process. Thus, bronchodilators are not sufficient to control asthma in patients with persistent symptoms. The primary action of Î²2-agonists is to relax airway smooth-muscle cells of all airways , where they act as functional antagonists, reversing and preventing contraction of airway smooth muscle cells by all known bronchoconstrictors. This generalized action is likely to account for their great efficacy as bronchodilators in asthma. There are also additional non-bronchodilator effects that may be clinically useful, including inhibition of mast cell mediator release, reduction in plasma exudation, and inhibition of sensory nerve activation.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: -- Option: A: For symptom relief, the duration is 3-6 hr. Options: B, D: Twice daily.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following drug is associated with decreased clearance of theophylline in asthmatic patients?", "options": [{"label": "A", "text": "Ethanol", "correct": false}, {"label": "B", "text": "Rifampicin", "correct": false}, {"label": "C", "text": "Erythromycin", "correct": true}, {"label": "D", "text": "Phenobarbitone", "correct": false}], "correct_answer": "C. Erythromycin", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Erythromycin Decreased Clearance due to Enzyme inhibition (cimetidine, erythromycin, ciprofloxacin, allopurinol, zafirlukast).</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options:- Option: A. ethanol due to enzyme induction and there is increased clearance of theophylline Option: B. Rifampicin shows increased clearance of theophylline due to enzyme induction Option: D. Increased clearance.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 27-year-old female asthmatic presents to a casualty with c/o acute onset breathlessness. She speaks in words, is agitated, has rr>30/min pulse rate>120/min and accessory muscle in use with sapo2: < 90%which of the following should never be given in this patient?", "options": [{"label": "A", "text": "High concentration oxygen", "correct": false}, {"label": "B", "text": "High doses of SABAs", "correct": false}, {"label": "C", "text": "Sedatives", "correct": true}, {"label": "D", "text": "Antibiotics if signs of pneumonia", "correct": false}], "correct_answer": "C. Sedatives", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Sedatives Sedatives should never be given as they may depress ventilation.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: -: Option: A. A high concentration of oxygen should be given by face mask to achieve oxygen saturation of >90%. Option: B. The mainstay of treatment is high doses of SABA given either by nebulizer or via an MDI with a spacer. Option: D. Antibiotics should not be used routinely unless there are signs of pneumonia.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 36 yr. old male HIV patient presents to the ER with a cough, thick sputum and chest pain. He has night sweats, chills and experiences difficulty in breathing. He also has intermittent headaches and generalised weakness. A chest X-ray and sputum examination show the following findings. Which of the following is a Drug of Choice in this condition?", "options": [{"label": "A", "text": "Amikacin", "correct": false}, {"label": "B", "text": "Cotrimoxazole", "correct": true}, {"label": "C", "text": "Minocycline", "correct": false}, {"label": "D", "text": "Linezolid", "correct": false}], "correct_answer": "B. Cotrimoxazole", "question_images": ["https://dbmi-data.s3.ap-south-1.amazonaws.com/photos-1683855673524-QTDM141015IMG1.JPG"], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Cotrimoxazole The given picture is suggestive of The patient is immunocompromised due to HIV. Nocardia pneumonia has sub-acute presentation mostly cough with thick sputum . Extrapulmonary manifestations are common, the brain is the most commonly involved organ. It is associated with dense bilateral infiltrates with cavitating nodules and subacute brain abscesses. The drug of choice is cotrimoxazole.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: -: Option: A. Amikacin: it is the best established parenteral drug except in cases involving the Transvalensis complex. It is not the drug of choice. Option: C. Minocycline: It is often effective but not the drug of choice. Option: D. Linezolid: It is the most common active antimicrobial agent but adverse effects are common. It is not the drug of choice</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All of the following are true about Asthma, Except:", "options": [{"label": "A", "text": "Allergic Asthma is more common in young patients", "correct": false}, {"label": "B", "text": "Idiosyncratic Asthma is more common in older patients", "correct": false}, {"label": "C", "text": "IgE is increased in Extrinsic Asthma", "correct": false}, {"label": "D", "text": "IgE is increased in Idiosyncratic Asthma", "correct": true}], "correct_answer": "D. IgE is increased in Idiosyncratic Asthma", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>IgE is increased in Idiosyncratic Asthma</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option D. is false because IgE is increased in extrinsic asthma and not in intrinsic asthma Option A. Allergic Asthma is more common in young patients, this is a true statement Option B. Idiosyncratic Asthma is more common in older patients, this is a true statement Option C. IgE is increased in Extrinsic Asthma, this is a true statement Classification of Asthma Intrinsic Asthma- Extrinsic Asthma- - No allergic or (personal family) history - Usually adult onset - Often follows severe respiratory illness - Symptoms are usually perennial - More refractory to treatment, become  other diseases, progress to vasculitis - Eosinophils still impt - Strong family history of allergies - Usually onset at a young age - Other allergic manifestations in patients - History of specific allergic association triggers (e.g. pollen. animal dander) - Correlation with skin and inhalation responses to specific antigens - Type I hypersensitivity rxn - IgE mast cell and eosinophils</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which is not an important symptom of asthma?", "options": [{"label": "A", "text": "Intermittent dyspnea,", "correct": false}, {"label": "B", "text": "Wheeze", "correct": false}, {"label": "C", "text": "Cough", "correct": false}, {"label": "D", "text": "Expectoration", "correct": true}], "correct_answer": "D. Expectoration", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Expectoration ASTHMA:- Symptoms (Triad) of asthma:- Cough (often nocturnal) Dry cough is the earliest feature Intermittent dyspnea, Wheeze, (is the pathognomonic feature ). Increased length of expiratory phase of respiration Features of Severe attack:-</p>\n<p><strong>Highyeild:</strong></p><p>Inability to speak a complete sentence in one breath Pulse > 120 per minute Respiratory rate >25/min Pulsus paradoxus of > 10 mmHg FEV1 between 33 to 50% of predicted Features of Life-threatening attack:- Silent chest Cyanosis Bradycardia Confusion (altered sensorium) FEV1 < 33% of predicted Respiratory acidosis Hypercapnia</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(