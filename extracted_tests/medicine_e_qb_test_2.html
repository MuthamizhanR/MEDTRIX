<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Acid Base Disorder (Part 1)</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Acid Base Disorder (Part 1)</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                14 Questions | 14 Total Marks | 24 min Duration | ~102.86 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 14 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 24 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 14</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Acid Base Disorder (Part 1) - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 14</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 14 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 35-year-old man presented to ER. Lab investigations revealed uncorrected AG of 15 and serum albumin - 2.5 g/dL. What would be the corrected value of AG?", "options": [{"label": "A", "text": "10 mmol/L", "correct": false}, {"label": "B", "text": "12.5 mmol/L", "correct": false}, {"label": "C", "text": "17.5 mmol/L", "correct": false}, {"label": "D", "text": "20 mmol/L", "correct": true}], "correct_answer": "D. 20 mmol/L", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>20 mmol/L The Anion gap (AG) is calculated as AG = Na â€“ (Cl + HCO3). Normal value for the AG is 6 to 12 mmol/L (an average of âˆ¼10 mmol/L). If hypoalbuminemia is present, the value for the AG must be corrected . For each 1 g/ dL of serum albumin that fall below the normal value (4.5 g/dL), 5 mmol/L should be added to the reported (uncorrected) AG. In this patient with serum albumin of 2.5 g/dL (The value is 2 g/dL below the normal value), so we add 5 mmol/L(2.5 X 2) to the uncorrected AG, so the corrected AG is 20 mmol/L (5 + 15)</p>\n<p><strong>Highyeild:</strong></p><p>AG may increase with an increase in anionic albumin. A decrease in the AG can be due to a reduction in the plasma anion albumin concentration ( nephrotic syndrome, liver disease or malabsorption )</p>\n<p><strong>Random:</strong></p><p>Explanation For Incorrect Options:- Option: A & B. Less than 15 is not possible as addition needs to be done. Option: C. For the value of albumin 3.5 g/dL.</p>\n<p><strong>Extraedge:</strong></p><p>The unmeasured anions normally present in plasma include anionic proteins ( albumin ), phosphate, sulfate, and organic anions. An increase in the AG is most often due to an increase in unmeasured anions and, less commonly, may be due to a decrease in unmeasured cations (calcium, magnesium, potassium)</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Salicylate-induced acidosis worsens CNS toxicity by increasing the amount of salicylate that crosses the blood-brain barrier and increases CNS tissue levels. Other signs and symptoms of CNS toxicity include nausea, vomiting, hyperpnea, and lethargy. Which of the following is NOT included in the treatment of salicylate-induced acidosis?", "options": [{"label": "A", "text": "Vigorous gastric lavage with NaHCO3 should be initiated immediately", "correct": true}, {"label": "B", "text": "All patients should receive at least one round of activated charcoal per nasogastric tube", "correct": false}, {"label": "C", "text": "IV NaHCO3 is administered in amounts adequate to alkalinize the urine and to maintain urine output", "correct": false}, {"label": "D", "text": "Acetazolamide may be administered in the face of alkalemia", "correct": false}], "correct_answer": "A. Vigorous gastric lavage with NaHCO3 should be initiated immediately", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Vigorous gastric lavage with NaHCO3 should be initiated immediately Metabolic acidosis can occur because of an increase in endogenous acid production or loss of bicarbonate, or accumulation of endogenous acids Salicylate consumption causes metabolic acidosis. Treatment: When received in the ER, vigorous gastric lavage with isotonic saline should be initiated immediately. ( Option A is wrong) Following it, patients should receive at least one round of activated charcoal via nasogastric tube (1 g/kg up to 50 g). ( Option B ) Confirming acidosis , IV NaHCO3 is administered in amounts adequate to alkalinize the urine (urine pH > 7.5), to maintain urine output ( Option C ) Acetazolamide may be administered in the face of alkalemia, when Alkaline diuresis cannot be achieved To ameliorate volume overload associated with NaHCO3 administration.</p>\n<p><strong>Highyeild:</strong></p><p>IV NaHCO3 can cause metabolic acidosis if the excreted HCO3 âˆ’ is not replaced Hypokalemia and Hypoglycemia should be anticipated and treated.</p>\n<p><strong>Extraedge:</strong></p><p>NaHCO3 facilitates the removal of salicylate because raising the urine pH from 6.5 to 7.5 increases salicylate clearance fivefold. Patients with coexisting respiratory alkalosis should also receive NaHCO3, but with caution to avoid excessive alkalemia</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The most common causes of high anion gap metabolic acidosis are ketoacidosis, lactic acidosis, kidney failure, and toxic ingestions. Ketoacidosis can occur as a complication of diabetes mellitus (diabetic ketoacidosis) but can occur due to other disorders, such as chronic alcoholism and malnutrition. Which of the following does NOT typically elevate the AG?", "options": [{"label": "A", "text": "Methanol", "correct": false}, {"label": "B", "text": "Isopropyl alcohol", "correct": true}, {"label": "C", "text": "Ethylene glycol", "correct": false}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "B. Isopropyl alcohol", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Isopropyl alcohol Osmolar gap The difference between the calculated osmolality and the measured osmolality It is proportional to the concentration of the unmeasured solute . Helpful in identifying the presence of toxic alcohol-associated AG acidosis. Here the alcohol compounds are the unmeasured solutes acting as</p>\n<p><strong>Highyeild:</strong></p><p>The normal osmolar gap should be < 10â€“15 mmol/kg H2 O</p>\n<p><strong>Random:</strong></p><p>Explanation For Incorrect Options:- Options A, B & C, all cause an elevated osmolar gap Only Methanol and Ethylene glycol causes a high-AG acidosis ( Option A & C )</p>\n<p><strong>Extraedge:</strong></p><p>Isopropyl alcohol ingestion does not typically elevate the AG unless extreme overdose causes hypotension and lactic acid acidosis All three alcohols mentioned above may cause fatal intoxication.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is the agent of choice for treatment that offers the advantages of a predictable decline in EG levels without excessive obtundation in Ethylene glycol-induced acidosis?", "options": [{"label": "A", "text": "Ethanol IV", "correct": false}, {"label": "B", "text": "Fomepizole IV", "correct": true}, {"label": "C", "text": "Thiamine", "correct": false}, {"label": "D", "text": "Pyridoxine supplements", "correct": false}], "correct_answer": "B. Fomepizole IV", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Fomepizole IV Ethylene glycol (EG) is commonly used in antifreeze , brake fluid and windshield washer fluid deicers) It is metabolized by alcohol dehydrogenase Ingestion of EG leads to increased AG metabolic acidosis Treatment: Fomepizole (15 mg/kg IV over 30 min as a loading dose, then 10 mg/kg for four doses every 12 h) â€“ Treatment of choice (Option A) Prompt institution of IV isotonic fluids Thiamine ( Option C ) Pyridoxine supplements ( Option D ) Hemodialysis Ethyl alcohol infusion ( Risk of excessive obtundation )</p>\n<p><strong>Highyeild:</strong></p><p>Fomepizole should be continued until blood pH is normal or the osmolar gap is < 10 mOsm/kg If used, ethanol IV should be infused to achieve a blood level of 22 mmol/L (100 mg/dL).</p>\n<p><strong>Extraedge:</strong></p><p>Both fomepizole and ethanol compete with EG for metabolism by alcohol dehydrogenase. Fomepizole has a predictable decline in EG levels without excessive obtundation.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Ethylene glycol exposure is characterized by an elevated osmolar gap and metabolic acidosis with an elevated anion gap. Onset occurs within 24 hours after ingestion. Acidosis is caused primarily by the accumulation of glycolic and glyoxylic acids. Oxalic acid and lactic acid also contribute. Which of the following is an indication for hemodialysis in Ethylene glycol-induced acidosis?", "options": [{"label": "A", "text": "Arterial pH is less than 7.3", "correct": false}, {"label": "B", "text": "Osmolar gap of 30 mOsm/kg", "correct": false}, {"label": "C", "text": "Osmolar gap of 40 mOsm/kg", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>All of the above The increased AG and osmolar gap in EG intoxication are attributable to EG and its metabolites Glycolate Oxalate Other organic acids. Lactic acid (Increases secondary to inhibition of the TCA cycle (tricarboxylic acid) and altered intracellular redox state. Indications of Hemodialysis (HD) in EG poisoning: Arterial pH < 7.3 ( Option A ) High-AG acidosis Osmolar gap > 20 mOsm/kg H2 O (Option B and C ) Evidence of end-organ damage (CNS manifestations and kidney failure)</p>\n<p><strong>Highyeild:</strong></p><p>The osmolar gap may be elevated earlier than the AG As the osmolar gap declines, the AG increases Agents that result in acid-base disturbances* Acid-base disturbances Drug or toxin Respiratory alkalosis Aspirin (early) Metabolic acidosis Methanol (delayed) Paraldehyde, phenformin Iron, isoniazid Lactate (cyanide, carbon monoxide, theophylline, methemoglobin inducers) Ethanol Ethylene glycol (delayed) Salicylates Toluene Ibuprofen Metformin Respiratory acidosis Barbiturates Opiates Combinations of sedative-hypnotics Neuromuscular blocking agents Metabolic alkalosis Diuretics Milk alkali syndrome Combined respiratory alkalosis and metabolic acidosis Aspirin</p>\n<p><strong>Random:</strong></p><p>Explanation For Incorrect Options:- Option: A: Indication Option: C & D. The osmolar gap exceeds 20 mOsm/kg.</p>\n<p><strong>Extraedge:</strong></p><p>Acute tubular injury is caused: Initially by glycolate. Amplified by tubule obstruction from oxalate crystals.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An ICU patient is receiving frequent therapy with IV administration of diazepam and etomidate. Risk of which of the following metabolic abnormality is increased?", "options": [{"label": "A", "text": "High-gap alkalosis", "correct": false}, {"label": "B", "text": "Normal-gap alkalosis", "correct": false}, {"label": "C", "text": "High-gap acidosis", "correct": true}, {"label": "D", "text": "Normal-gap acidosis", "correct": false}], "correct_answer": "C. High-gap acidosis", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>High-gap acidosis The offending agent here is Propylene glycol It causes high AG metabolic acidosis ( Option C is correct ) It is the vehicle used in the IV administration of Diazepam Lorazepam Phenobarbital Nitroglycerine Etomidate Enoximone Phenytoin. Propylene glycol is generally safe for limited use in these IV preparations Toxicity occurs from frequent or continuous therapy</p>\n<p><strong>Highyeild:</strong></p><p>Treatment starts with stopping the offending infusion. Fomepizole should be administered in acidotic patients.</p>\n<p><strong>Random:</strong></p><p>Explanation For Incorrect Options:- Option: A & B. Acidosis  (NOT Alkalosis) Option: D. High-gap acidosis.</p>\n<p><strong>Extraedge:</strong></p><p>Propylene glycol is metabolized by alcohol dehydrogenase Toxicity causes high-gap acidosis, hyperosmolality, and clinical deterioration, in the setting of treatment for alcohol withdrawal.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A COVID-19-positive patient ingests 250 ml of hand sanitiser (70% isopropyl alcohol) due to misinformation presented to ER. Which of the following is NOT true about its toxicity?", "options": [{"label": "A", "text": "A plasma level >400 mg/dL is life-threatening", "correct": false}, {"label": "B", "text": "Metabolized by alcohol dehydrogenase to acetone", "correct": false}, {"label": "C", "text": "A high AG acidosis is present", "correct": true}, {"label": "D", "text": "Alternative diagnoses should be considered if the patient does not improve significantly within a few hours", "correct": false}], "correct_answer": "C. A high AG acidosis is present", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>A high AG acidosis is present Ingested isopropanol is absorbed rapidly Consumption of 150 mL of rubbing alcohol, solvent, or deicer is fatal. Isopropyl alcohol is metabolized by alcohol dehydrogenase to acetone ( Option B is correct) The characteristic feature is that the compound itself , (not the metabolites) causes toxicity. ( Different from EG and methanol ) High-AG acidosis is not present ( Option C is wrong) because acetone is rapidly excreted. Alternative diagnoses should be considered if the patient does not improve significantly within a few hours. ( Option D is correct) Patients with hemodynamic instability with plasma levels above 400 mg/dL should be considered for hemodialysis. ( Option A is correct)</p>\n<p><strong>Extraedge:</strong></p><p>Both isopropyl alcohol and acetone increase the osmolar gap, and hypoglycemia is common</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A COVID-19-positive patient presented with acute intoxication after consumption of 150 ml of hand sanitiser (Isopropyl alcohol 70%). Which of the following is FALSE about the management of the patient?", "options": [{"label": "A", "text": "Treated by supportive therapy", "correct": false}, {"label": "B", "text": "Ventilator support if needed", "correct": false}, {"label": "C", "text": "Hemodialysis has no role in treatment management", "correct": true}, {"label": "D", "text": "IV fluids and pressors IV fluids and vasopressors are used are used", "correct": false}], "correct_answer": "C. Hemodialysis has no role in treatment management", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Hemodialysis has no role in treatment management Consumption of 150 mL of rubbing alcohol, solvent, or deicer is fatal. Treatment: Supportive therapy ( Option A ) IV fluids ( Option D ) Pressors ( Option D ) Ventilatory support (if needed) ( Option B ) Acute hemodialysis ( Option C is wrong ) Indications for HD in this patient: Prolonged coma Hemodynamic instability Plasma levels >400 mg/dl</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In which type of RTA hyperkalemia is disproportionate to the reduction in glomerular filtration rate (GFR)?", "options": [{"label": "A", "text": "Type 1 RTA", "correct": false}, {"label": "B", "text": "Type 2 RTA", "correct": false}, {"label": "C", "text": "Type 3 RTA", "correct": false}, {"label": "D", "text": "Type 4 RTA", "correct": true}], "correct_answer": "D. Type 4 RTA", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Type 4 RTA RTA (Renal tubular acidosis) are one of the causes of non AG metabolic acidosis In these disorders , reciprocal changes in Cl and HCO3 result in a normal AG. In pure nonâ€“AG acidosis, the increase in Cl above the normal value approximates the decrease in HCO3. In generalized distal RTA (type 4 RTA) Kidney function may be compromised Coexisting dysfunction of potassium and acid secretion Urinary ammonium excretion is invariably depressed Hyperkalemia is disproportionate to the reduction in glomerular filtration rate Causes: Diabetic nephropathy Obstructive uropathy Chronic tubulointerstitial disease Hypokalemia is seen in Option A, B & C.</p>\n<p><strong>Extraedge:</strong></p><p>Proximal RTA (type 2 RTA) is manifested by Fanconi syndrome (Glycosuria, Aminoaciduria and Phosphaturia) Type 3 RTA is a rare entity. The only condition associated with it is Marble bone disease (congenital type II carbonic anhydrase deficiency)</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is NOT recommended in the treatment of metabolic alkalosis?", "options": [{"label": "A", "text": "Isotonic saline to reverse the alkalosis when ECFV contraction is present", "correct": false}, {"label": "B", "text": "Acetazolamide, a carbonic anhydrase inhibitor (125â€“250 mg IV)", "correct": false}, {"label": "C", "text": "C. Dilute hydrochloric acid (0.1 N HCl) delivered slowly in a central vein", "correct": true}, {"label": "D", "text": "Proton pump inhibitors or the discontinuation of diuretics", "correct": false}], "correct_answer": "C. C. Dilute hydrochloric acid (0.1 N HCl) delivered slowly in a central vein", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>C. Dilute hydrochloric acid (0.1 N HCl) delivered slowly in a central vein Treatment of Metabolic Alkalosis Correction of underlying stimulus for HCO3 generation. Remove the factors that sustain the inappropriate increase in HCO3 reabsorption (such as ECFV contraction or K+ deficiency) K+ deficits should always be corrected. Isotonic saline is recommended to reverse the alkalosis when ECFV contraction is present. ( Option A ) If associated conditions preclude infusion of saline, renal HCO3 loss can be accelerated by administration of acetazolamide (125â€“250 mg IV), ( Option B ) H+ loss by the stomach or kidneys can be mitigated by the use of proton pump inhibitors or the discontinuation of diuretics. ( Option D ) Dilute hydrochloric acid (0.1 N HCl) has been advocated historically in extreme cases, but not recommended due to serious errors or harm. ( Option C )</p>\n<p><strong>Extraedge:</strong></p><p>If primary aldosteronism or Cushingâ€™s syndrome is present, correction of the underlying cause will reverse the hypokalemia and alkalosis. Whilst giving acetazolamide, potassium should be monitored as losses are worsened.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Bartterâ€™s syndrome is distinguished from Gitelmanâ€™s syndrome because of the?", "options": [{"label": "A", "text": "Hypocalciuria in the latter disorder", "correct": true}, {"label": "B", "text": "Hypercalciuria in the latter disorder", "correct": false}, {"label": "C", "text": "Hypermagnesemia in the latter disorder", "correct": false}, {"label": "D", "text": "BS is a milder phenotype than GS", "correct": false}], "correct_answer": "A. Hypocalciuria in the latter disorder", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Hypocalciuria in the latter disorder Loss of the transport functions of specific nephron segments causes hereditary hypokalemic alkalosis which is of two types: Involvement of T A LH segment â€“ B artterâ€™s syndrome (BS) Involvement of D C T segment â€“ G itelmanâ€™s syndrome (GS) Similarities between both: Normotensive, non-edematous patient Hypomagnesemia Hypokalemia Metabolic Alkalosis Differences between both: GS is a milder phenotype than BS Urinary calcium: Hypercalciuria in BS and Hypocalciuria in GS.</p>\n<p><strong>Random:</strong></p><p>Explanation For Incorrect Options:- Option: B: Hypercalciuria is typically seen in BS. Option: C: Patients with GS are uniformly hypomagnesemia. Option: D: GS is a milder phenotype than BS.</p>\n<p><strong>Extraedge:</strong></p><p>Patients with classic BS typically suffer from polyuria and polydipsia , due to the reduction in renal concentrating ability. 20% of BS have hypomagnesemia.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Loss of the transport functions of the DCT nephron segments causes hereditary hypokalemic alkalosis which is referred to as?", "options": [{"label": "A", "text": "Bartterâ€™s syndrome", "correct": false}, {"label": "B", "text": "Gitelmanâ€™ s syndrome", "correct": true}, {"label": "C", "text": "Liddleâ€™s syndrome", "correct": false}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "B. Gitelmanâ€™ s syndrome", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Gitelmanâ€™ s syndrome GS is genetically homogeneous, caused almost exclusively by loss of function mutations in the thiazide-sensitive Na+-Clâ€“ cotransporter of the DCT Mild phenotype Patients may suffer from Chondrocalcinosis (abnormal deposition of calcium pyrophosphate dihydrate (CPPD) in joint cartilage). Uniformly have hypomagnesemia and hypocalciuria.</p>\n<p><strong>Random:</strong></p><p>Explanation For Incorrect Options:- Option: A. Loss of the transport functions of the TALH Option: C. Inherited Gain of function mutation of the sodium channel (eNaC) in DCT / Collecting duct with hyporeninemic-hypoaldosteronism with ECFV expansion, hypertension, K+ deficiency and metabolic alkalosis.</p>\n<p><strong>Extraedge:</strong></p><p>Urinary calcium excretion is a critical diagnostic test in GS.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is due to inherited gain of function mutation of genes that regulate the collecting duct Na+ channel (ENaC)?", "options": [{"label": "A", "text": "Bartterâ€™s syndrome", "correct": false}, {"label": "B", "text": "Gitelmanâ€™ s syndrome", "correct": false}, {"label": "C", "text": "Liddleâ€™s syndrome", "correct": true}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "C. Liddleâ€™s syndrome", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Liddleâ€™s syndrome Liddleâ€™s syndrome (LS): Inherited Gain of function mutation of amiloride-sensitive sodium channel (eNaC) in DCT / Collecting duct Excess Na reabsorption with ECFV expansion causing Hypertension Hypo-reninemic hypo-aldosteronism (Feedback suppression) Hypokalemia Metabolic alkalosis Treatment: Potassium-sparing diuretic amiloride or triamterene only (inhibit ENaC and correct both hypertension and the hypokalemia)</p>\n<p><strong>Highyeild:</strong></p><p>No role of Spironolactone Blunted aldosterone response to ACTH and reduced urinary aldosterone excretion</p>\n<p><strong>Random:</strong></p><p>Explanation For Incorrect Options:- Option: A. There are five disease genes for BS, all of them functioning in some aspect of regulated Na+, K+, and Clâ€“ transport by the TALH. Option: B. GS is genetically homogeneous, caused almost exclusively by loss-of-function mutations in the thiazide-sensitive Na+-Clâ€“ cotransporter of the DCT.</p>\n<p><strong>Extraedge:</strong></p><p>LS is autosomal dominant (SCNN1B and SCNN1C genes) Also called Pseudo-aldosteronism</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following can be used in the management of a Hyperglycemic hyperosmolar State?", "options": [{"label": "A", "text": "0.45% saline", "correct": false}, {"label": "B", "text": "Regular insulin", "correct": false}, {"label": "C", "text": "Subcutaneous LMWH in a prophylactic dose", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>All of the above Hyperglycemic hyperosmolar state (HHS) An acute severe disorder primarily seen in individuals with type 2 DM Exist along a continuum of hyperglycemia, with or without ketosis Profound dehydration with volume depletion , hyperosmolality, acidâ€“base disturbances, hypotension, tachycardia, and altered mental status . Absent are symptoms of nausea, vomiting, abdominal pain and Kussmaul respirations (Characteristic of DKA) Treatment: Underlying or precipitating problems should be aggressively sought and treated Fluid replacement should initially stabilize the hemodynamic status of the patient (1â€“3 L of 0.9% normal saline over the first 2â€“3 h) If the serum sodium is >150 mmol/L (150 meq/L), 0.45% saline should be used. ( Option A ) IV insulin bolus of 0.1 unit/kg followed by IV insulin at a constant infusion rate of 0.1 unit/kg per hour. ( Option B ) Subcutaneous low molecular weight heparin may be required in cases at risk of venous thrombosis ( Option C )</p>\n<p><strong>Extraedge:</strong></p><p>HHS has a substantially higher mortality rate than DKA. Lower levels of counterregulatory hormones and free fatty acids. Marked hyperglycemia (plasma glucose > 1000 mg/dl ]), hyperosmolality (>350 mosmol/L ), and prerenal azotemia. So, Options A, B & C all are true.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(