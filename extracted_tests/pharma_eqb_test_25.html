<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Antiplatelet Drugs</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Antiplatelet Drugs</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                12 Questions | 12 Total Marks | 22 min Duration | ~110.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 12 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 22 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 12</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Antiplatelet Drugs - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 12</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 12 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 68-year-old woman had a thrombotic stroke and was given a high dose of Alteplase by a newly joined resident in the cardiology department. The antidote for its overdose is:", "options": [{"label": "A", "text": "Idarucizumab", "correct": false}, {"label": "B", "text": "Epsilon amino caproic acid", "correct": true}, {"label": "C", "text": "Andexanet alfa", "correct": false}, {"label": "D", "text": "Protamine sulfate", "correct": false}], "correct_answer": "B. Epsilon amino caproic acid", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Epsilon amino caproic acid Epsilon amino-caproic acid( EACA ) and Tranexamic acid are the drugs that inhibit plasminogen activation and dissolution of the clot so they are used in bleeding conditions like menorrhagia, epistaxis, subarachnoid and GI hemorrhage Abruptio placentae, PPH, and menorrhagia Epsilon amino-caproic acid (EACA) and Tranexamic acid are used in fibrinolytic overdose</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Idarucizumab antidote for dabigatran , Idarucizumab injection is used in patients who are taking dabigatran (a blood thinner) during emergency or life-threatening situations when bleeding cannot be controlled. Option: C. Andexanet alfa antidote for oral X inhibitors, Andexanet alfa is indicated for anticoagulation reversal in life-threatening or uncontrolled bleeding in patients treated with rivaroxaban or apixaban . The drug received accelerated approval based on studies showing the significant change in anti-factor Xa activity in healthy volunteers Option: D. Protamin e sulfate antidote for heparin, Protamine is the specific antagonis t that neutralizes heparin-induced anticoagulation . Protamine is a strongly alkaline (nearly two-thirds of the amino acid composition is arginine) polycationic low-molecular-weight protein found in salmon sperm that is also currently available in a recombinant form.</p>\n<p><strong>Table:</strong></p><p>#Mantra</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "ADP receptor antagonists are used as Antiplatelet drugs in myocardial infarction. Which of the following drugs reversibly block P2Y12?", "options": [{"label": "A", "text": "Ticlopidine", "correct": false}, {"label": "B", "text": "Ticagrelor", "correct": true}, {"label": "C", "text": "Clopidogrel", "correct": false}, {"label": "D", "text": "Prasugrel", "correct": false}], "correct_answer": "B. Ticagrelor", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Ticagrelor Is an orally active, reversible inhibitor of the P2Y12 receptor, it can be stopped 1 day before surgery.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Ticlopidine , Clopidogrel, and prasugrel are prodrugs that require metabolic activation and they irreversibly block P2Y12. They need to be stopped 4-5 days before surgery Option: C. Clopidogrel is an antiplatelet medicine. It prevents platelets (a type of blood cell) from sticking together and forming a dangerous blood clot. Taking clopidogrel helps prevent blood clots if you have an increased risk of having them. Your risk is higher if you have or have had: a heart attack Option: D. Prasugrel , which is in a class of medications called anti-platelet medications. It works by preventing platelets (a type of blood cell) from collecting and forming clots that may cause a heart attack or stroke</p>\n<p><strong>Table:</strong></p><p>#Mantra</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is not a prodrug?", "options": [{"label": "A", "text": "Ticlopidine", "correct": false}, {"label": "B", "text": "Cangrelor", "correct": true}, {"label": "C", "text": "Clopidogrel", "correct": false}, {"label": "D", "text": "Prasugrel", "correct": false}], "correct_answer": "B. Cangrelor", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Cangrelor Cangrelor: reversible inhibitor of P2Y12 receptor Cangrelor is the first P2Y 12 receptor antagonist for intravenous application, producing very rapid inhibition of platelet aggregation</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Ticlopidine: It is a thienopyridine prodrug that inhibits the P2Y12 receptor. Option: C. Clopidogrel : is a prodrug with a slow onset of action Option: D. Prasugrel: it is a prodrug that requires metabolic activation</p>\n<p><strong>Table:</strong></p><p>#Mantra</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Prasugrel is a P2Y12 antagonist used in MI and to prevent stent thrombosis. Which of the following is a true statement about this drug?", "options": [{"label": "A", "text": "Needs no metabolism in the body", "correct": false}, {"label": "B", "text": "Contraindicated in cerebrovascular disease", "correct": true}, {"label": "C", "text": "Onset of Action slower than clopidogrel", "correct": false}, {"label": "D", "text": "Binds reversibly to the P2Y12 receptor", "correct": false}], "correct_answer": "B. Contraindicated in cerebrovascular disease", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Contraindicated in cerebrovascular disease</p>\n<p><strong>Highyeild:</strong></p><p>Prasugrel : Thienopyridine class Is a prodrug that requires metabolic activation Active metabolites of prasugrel and the other thienopyridine bind irreversibly to the p2y12 receptor Its onset of action is more rapid than that of ticlopidine or clopidogrel Produces greater and more predictable inhibition of ADP-induced platelet aggregation All of the absorbed prasugrel undergoes activation Because patients with a history of a prior stroke or transient ischemic attack are at particularly high risk of bleeding, the drug is contraindicated in those with a history of cerebrovascular disease</p>\n<p><strong>Table:</strong></p><p>#Mantra</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 70-year-old male patient was put on Prasugrel after acute coronary syndrome and managed with percutaneous coronary intervention. He also has moderate renal failure and liver impairment. After 1 month he presents with serious bleeding episodes. What is the next appropriate step among the following?", "options": [{"label": "A", "text": "Reduce the dose of Prasugrel, as the patient has renal failure", "correct": false}, {"label": "B", "text": "Platelet transfusion may be beneficial", "correct": true}, {"label": "C", "text": "Add aspirin", "correct": false}, {"label": "D", "text": "Reduce the dose of Prasugrel, as the patient has a liver impairment", "correct": false}], "correct_answer": "B. Platelet transfusion may be beneficial", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Platelet transfusion may be beneficial Prasugrel No dose adjustment is required in patients with hepatic or renal impairment. If patients present with serious bleeding, platelet transfusion may be beneficial Prasugrel has been reported to cause thrombotic thrombocytopenic purpura Adding aspirin in bleeding episodes will still worsen bleeding</p>\n<p><strong>Highyeild:</strong></p><p>P2Y12 Receptor Antagonists Clopidogrel Prasugrel Ticagrelor Cangrelor Prodrug Yes Yes No No Route Oral Oral Oral Intravenous Binding Irreversible Irreversible Reversible Reversible Onset of Action Loading dose: <2hours Maintenance: Day 2 of tx Loading dose: <0.5 hours Loading dose: <0.5 hours Within 2 minutes of infusion Duration of Action After d/c, Gradual decline over 5-10 days After d/c, Gradual decline over 5-10 days After d/c, Gradual  decline over 2- 5 days Return of platelet function within 1 hour after d/c of infusion Dosing Frequency Daily Daily BID Continuous infusion Dual ASA therapy 75-100 mg/day 81 mg/day, up to 325 mg/day 81 mg/day, up to 100mg/day N/A</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following also binds to the vitronectin receptor and needs no dose reduction in renal failure?", "options": [{"label": "A", "text": "Abciximab", "correct": true}, {"label": "B", "text": "Eptifibatide", "correct": false}, {"label": "C", "text": "Tirofiban", "correct": false}, {"label": "D", "text": "Ticagrelor", "correct": false}], "correct_answer": "A. Abciximab", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Abciximab</p>\n<p><strong>Highyeild:</strong></p><p>Eptifibatide and Tirofiban are GP IIb/IIIa antagonists and are cleared by the kidney, so need dose reduction in renal failure Ticagrelor is an orally active, reversible inhibitor of the P2Y12 receptor Abciximab Fab fragment of a humanized monoclonal antibody directed against the Î±IIbÎ²3 receptor Also binds to the vitronectin receptor on platelets, vascular endothelial cells, and smooth muscle cells It is not cleared by kidneys, so needs no dose adjustment in renal failure</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following drug is approved Drug for all these conditions such as Thrombolysis in acute ischemic stroke, massive pulmonary embolism, and myocardial infarction?", "options": [{"label": "A", "text": "Alteplase", "correct": true}, {"label": "B", "text": "Tenecteplase", "correct": false}, {"label": "C", "text": "Reteplase", "correct": false}, {"label": "D", "text": "Vorapaxar", "correct": false}], "correct_answer": "A. Alteplase", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Alteplase Alteplase is the Drug for Thrombolysis in acute ischemic stroke, massive pulmonary embolism, and myocardial infarction</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: B. Tenecteplase is indicated for the reduction of mortality associated with acute myocardial infarction and pulmonary embolism Option: C. Reteplase is used for Thrombolysis in myocardial infarction Option: D. Vorapaxar is a competitive antagonist of PAR-1 and inhibits thrombin-induced platelet aggregation. It is used as prophylaxis in myocardial infarction and peripheral artery disease</p>\n<p><strong>Table:</strong></p><p>#Mantra</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Inhibition of thromboxane synthesis by aspirin in platelets lasts for 5-7 days because:", "options": [{"label": "A", "text": "Aspirin persists in the body for 5-7 days", "correct": false}, {"label": "B", "text": "Aspirin-induced depletion of arachidonic acid lasts 5-7 days", "correct": false}, {"label": "C", "text": "Regeneration of aspirin-inhibited cyclooxygenase takes 5-7 days", "correct": false}, {"label": "D", "text": "Platelets cannot generate fresh thromboxane synthetase and their turnover time is 5-7 days", "correct": true}], "correct_answer": "D. Platelets cannot generate fresh thromboxane synthetase and their turnover time is 5-7 days", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Platelets cannot generate fresh thromboxane synthetase and their turnover time is 5-7 days</p>\n<p><strong>Highyeild:</strong></p><p>The aspirin plasma half-life is 15-20minutes Aspirin acetylates cox 1 and thromboxane synthetase irreversible Since platelets lack nuclei, they cannot synthesize the fresh enzyme The new platelets coming into circulation will have the enzyme, which corresponds to 5-7 days of platelet turnover Regeneration of aspirin-inhibited cyclooxygenase doesnâ€™t occur, as the inhibition is irreversible Aspirin does not induce depletion of arachidonic acid lasts 5â€“7 days Platelets cannot generate fresh thromboxane synthetase and their turnover time is 5-7 days</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 64-year-old woman has had several episodes of transient ischemic attacks (TIAs). Aspirin would be a preferred treatment, but she has a history of severe \"aspirin sensitivity\" that manifests as intense bronchoconstriction. What would be the best suitable alternative to the aspirin?", "options": [{"label": "A", "text": "Acetaminophen", "correct": false}, {"label": "B", "text": "Aminocaproic acid", "correct": false}, {"label": "C", "text": "Clopidogrel", "correct": true}, {"label": "D", "text": "Dipyridamole", "correct": false}], "correct_answer": "C. Clopidogrel", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Clopidogrel</p>\n<p><strong>Highyeild:</strong></p><p>Patients with a definite aspirin allergy should be treated with a P2Y12 inhibitor (clopidogrel, prasugrel, or ticagrelor). P2Y12 inhibitor alters the surface receptors on platelets and inhibits ADP as well as fibrinogen-induced platelet aggregation. Clopidogrel at a loading dose of 600 mg (or 300 mg) will result in a faster onset of action than the standard 75 mg maintenance dose. The action of clopidogrel lasts 5â€“7 days due to the irreversible blockade of platelet P2Y12 receptors. Prasugrel is also a P2Y12 inhibitor that is both more potent and has a faster onset of action than clopidogrel.</p>\n<p><strong>Table:</strong></p><p>#Mantra Clopidogrel â€¢ Clopidogrel is a potent oral\nantiplatelet agent often used in the treatment of coronary artery disease,\nperipheral vascular disease, and cerebrovascular disease. â€¢ Clopidogrel is used for: Reducing the\nrisk of stroke or heart attack in patients who have already had a heart attack\nor stroke, or have other circulatory problems due to narrowing and hardening of\nthe arteries.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "An old woman is required to receive 4 cycles of cancer chemotherapy. After her first cycle, she developed chemotherapy-induced thrombocytopenia. Then in the next cycle, it would be appropriate to give this patient:", "options": [{"label": "A", "text": "Darbepoetin alpha", "correct": false}, {"label": "B", "text": "Filgrastim( G-CSF)", "correct": false}, {"label": "C", "text": "Iron dextran", "correct": false}, {"label": "D", "text": "Oprelvekin( IL-11)", "correct": true}], "correct_answer": "D. Oprelvekin( IL-11)", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Oprelvekin( IL-11) Oprelvekin acts like a megakaryocyte colony-stimulating factor and can be used to treat and prevent chemotherapy-induced thrombocytopenia.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. is a hyperglycosylated modified Erythropoietin, longer acting â€“ indication is anemia of chronic renal failure which is due to low levels of Erythropoietin. Option: B. Filgrastim ( G- CSF) and sargramostim ( GM- CSF) are used to prevent leukopenia. Option: C. Iron dextran (i/v or i/m) is used in anemia.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient Sita is diagnosed to be having iron deficiency anemia. The agent that can be used to improve the absorption of iron is:", "options": [{"label": "A", "text": "Antacids", "correct": false}, {"label": "B", "text": "Tetracyclines", "correct": false}, {"label": "C", "text": "Phosphates", "correct": false}, {"label": "D", "text": "Ascorbic acid", "correct": true}], "correct_answer": "D. Ascorbic acid", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Ascorbic acid</p>\n<p><strong>Highyeild:</strong></p><p>Substances improving the absorption of iron are: Ascorbic acid HCl Substances reducing the absorption of iron Phosphates Meat Phytates Tetracyclines Antacids</p>\n<p><strong>Table:</strong></p><p>#Mantra Iron metabolism: Ascorbic acid increases the iron\n     absorption from the intestine Ascorbic acid reduces ferric iron\n     to ferrous state, which is commonly absorbed Folic acid metabolism: Vitamin C needed for the formation\n     of FH 4 In association with FH 4 ,\n     it is involved in maturation of RBC</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following is an oral thrombopoietin receptor agonist?", "options": [{"label": "A", "text": "Darbepoetin", "correct": false}, {"label": "B", "text": "Eltrombopag", "correct": true}, {"label": "C", "text": "Filgrastim", "correct": false}, {"label": "D", "text": "Malgromastim", "correct": false}], "correct_answer": "B. Eltrombopag", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Eltrombopag</p>\n<p><strong>Highyeild:</strong></p><p>Patients with thrombocytopenia have a high risk of hemorrhage. Although platelet transfusion is commonly used to treat thrombocytopenia, this procedure can cause adverse reactions in the recipient; furthermore, a significant number of patients fail to exhibit the expected increase in platelet count. Thrombopoietin (TPO) and IL-11 both appear to be key endogenous regulators of platelet production. An oral thrombopoietin-receptor agonist used to treat ITP by stimulating platelet production It is an orally active small nonpeptide thrombopoietin agonist molecule approved for therapy of patients with chronic immune thrombocytopenia who have had an inadequate response to other therapy and for treatment of thrombocytopenia in patients with hepatitis C to allow initiation of interferon therapy. Eltrombopag is excreted primarily in the feces. Eltrombopag interacts with the transmembrane domain of the MPL receptor and, similarly to romiplostim, results in a dose-dependent increase in platelet count.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A.Darpoetin is a recombinant erythropoietin Option: C. Filgrastim is a recombinant G-CSF Option: D.Malgromastim is a recombinant GM-CSF</p>\n<p><strong>Table:</strong></p><p>#Mantraâ€™s Thrombopoietin (TPO) receptor agonists â€¢ Romiplostim (Nplate): â€¢ SC â€¢ Eltrombopag (Promacta): â€¢ PO â€¢ Bind and activate the TPO receptor â†’\nincrease plt production â€¢ They have no structural similarity to\nendogenous TPO â€¢ They do not stimulate cross-reactive\nTPO antibodies They are effective in up to 70% of pts\nwith ITP before and after splenectomy â€¢ Responses appear to be more\npronounced before splenectomy â€¢ Plt count responses are generally\nmaintained as long as the drug is administered</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(