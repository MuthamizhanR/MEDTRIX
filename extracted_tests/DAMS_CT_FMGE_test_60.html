<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Obstetrics Dr Deepti Class Test Fmge</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Obstetrics Dr Deepti Class Test Fmge</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                50 Questions | 200 Total Marks | 60 min Duration | ~72.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 50 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 60 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 50</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Obstetrics Dr Deepti Class Test Fmge - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 50</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 50 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Which of these is not a feature of abruption?", "options": [{"label": "A", "text": "Pain", "correct": false}, {"label": "B", "text": "Fundal height more than POG", "correct": false}, {"label": "C", "text": "Warning haemorrhage", "correct": true}, {"label": "D", "text": "DIC", "correct": false}], "correct_answer": "C. Warning haemorrhage", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 32-year-old woman presented to the delivery suite complaining of bleeding per vaginum; this was bright red in nature and painless. An ultrasound scan at 12 weeks had confirmed a twin pregnancy. What is likely diagnosis", "options": [{"label": "A", "text": "Abruption", "correct": false}, {"label": "B", "text": "Vasa previa", "correct": false}, {"label": "C", "text": "Placenta previa", "correct": true}, {"label": "D", "text": "Uterine rupture N", "correct": false}], "correct_answer": "C. Placenta previa", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which is not seen with rupture uterus?", "options": [{"label": "A", "text": "Tender abdomen", "correct": false}, {"label": "B", "text": "Bleeding", "correct": false}, {"label": "C", "text": "Fetal tachycardia", "correct": true}, {"label": "D", "text": "Superficially felt fetal parts", "correct": false}], "correct_answer": "C. Fetal tachycardia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Woman G3P2L2 presents at 34 weeks with bleeding, pain abdomen. On examination vitals are stable and baby is cephalic with FHR 132 On Usg placenta is fundal and there is no RPC, what is the next step", "options": [{"label": "A", "text": "NST", "correct": false}, {"label": "B", "text": "Tocolytics", "correct": false}, {"label": "C", "text": "P/v exam", "correct": true}, {"label": "D", "text": "Steroids", "correct": false}], "correct_answer": "C. P/v exam", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The cord insertion shows above is associated with which if the following", "options": [{"label": "A", "text": "PPH", "correct": false}, {"label": "B", "text": "Placenta percreta", "correct": false}, {"label": "C", "text": "Vasa previa", "correct": true}, {"label": "D", "text": "Cord avulsion", "correct": false}], "correct_answer": "C. Vasa previa", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/51(25).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A lady presents at 37 weeks with moderate to severe vaginal bleeding, her vitals are stable. On Usg placenta is over internal os. Which of the following is the management for her?", "options": [{"label": "A", "text": "ARM", "correct": false}, {"label": "B", "text": "Induction of labour", "correct": false}, {"label": "C", "text": "Expectant management", "correct": false}, {"label": "D", "text": "CS", "correct": true}], "correct_answer": "D. CS", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Repetitive late deceleration indicate", "options": [{"label": "A", "text": "Cord compression", "correct": false}, {"label": "B", "text": "Fetal acidosis", "correct": false}, {"label": "C", "text": "Fetal hypoxia", "correct": true}, {"label": "D", "text": "Fetal sleep", "correct": false}], "correct_answer": "C. Fetal hypoxia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Bishops includes all except", "options": [{"label": "A", "text": "Cervical dilatation", "correct": false}, {"label": "B", "text": "Cervical position", "correct": false}, {"label": "C", "text": "Presenting part", "correct": true}, {"label": "D", "text": "Length of cevix", "correct": false}], "correct_answer": "C. Presenting part", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "During delivery the perineal muscle gets torn but not the anal sphincter. How will you classify this", "options": [{"label": "A", "text": "First degree", "correct": false}, {"label": "B", "text": "Second degree", "correct": true}, {"label": "C", "text": "Third degree", "correct": false}, {"label": "D", "text": "Fourth degree", "correct": false}], "correct_answer": "B. Second degree", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the station when the leading point of fetal head is at ischial spine", "options": [{"label": "A", "text": "-1", "correct": false}, {"label": "B", "text": "+1", "correct": false}, {"label": "C", "text": "0", "correct": true}, {"label": "D", "text": "+2", "correct": false}], "correct_answer": "C. 0", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Compared with midline episiotomy what is advantage of mediolateral", "options": [{"label": "A", "text": "Ease of repair", "correct": false}, {"label": "B", "text": "Less extension", "correct": true}, {"label": "C", "text": "Less blood loss", "correct": false}, {"label": "D", "text": "Less breakdown", "correct": false}], "correct_answer": "B. Less extension", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which pelvis has convergent side walls, prominent side walls and narrow public arch", "options": [{"label": "A", "text": "Android", "correct": true}, {"label": "B", "text": "Anthropoid", "correct": false}, {"label": "C", "text": "Gynecoid", "correct": false}, {"label": "D", "text": "Platypelloid", "correct": false}], "correct_answer": "A. Android", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following are presumptive signs of pregnancy except?", "options": [{"label": "A", "text": "Chloasma", "correct": false}, {"label": "B", "text": "Linea Nigra", "correct": false}, {"label": "C", "text": "Maculopapular Rash", "correct": true}, {"label": "D", "text": "Stretch Marks", "correct": false}], "correct_answer": "C. Maculopapular Rash", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All the following are produced by placenta except", "options": [{"label": "A", "text": "Prolactin", "correct": true}, {"label": "B", "text": "HCG", "correct": false}, {"label": "C", "text": "HPL", "correct": false}, {"label": "D", "text": "Estriol", "correct": false}], "correct_answer": "A. Prolactin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All the following cause oligohydramnios except", "options": [{"label": "A", "text": "Anencephaly", "correct": true}, {"label": "B", "text": "Renal agenesis", "correct": false}, {"label": "C", "text": "Poor placental perfusion", "correct": false}, {"label": "D", "text": "Post term pregnancy", "correct": false}], "correct_answer": "A. Anencephaly", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is always indication of CS", "options": [{"label": "A", "text": "Abruption", "correct": false}, {"label": "B", "text": "Severe PE", "correct": false}, {"label": "C", "text": "Preterm labour", "correct": false}, {"label": "D", "text": "Active genital herpes", "correct": true}], "correct_answer": "D. Active genital herpes", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which if the following is contraindication for instrumental delivery", "options": [{"label": "A", "text": "Maternal cardiac disease", "correct": false}, {"label": "B", "text": "Fetal distress", "correct": false}, {"label": "C", "text": "Transverse lie", "correct": true}, {"label": "D", "text": "Prolonged second stage", "correct": false}], "correct_answer": "C. Transverse lie", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is contraindication for trial of labour", "options": [{"label": "A", "text": "Prior iud", "correct": false}, {"label": "B", "text": "Prior CS for breech", "correct": false}, {"label": "C", "text": "Prior classical CS", "correct": true}, {"label": "D", "text": "Twin pregnancy", "correct": false}], "correct_answer": "C. Prior classical CS", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of these is not a component of AMTSL?", "options": [{"label": "A", "text": "Uterotonic within 1 min of delivery", "correct": false}, {"label": "B", "text": "Uterine massage", "correct": true}, {"label": "C", "text": "Delayed cord clamping", "correct": false}, {"label": "D", "text": "Controlled cord traction", "correct": false}], "correct_answer": "B. Uterine massage", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient has developed PPH after vaginal delivery, after uterine massage oxytocin is stated. Uterine ballon tamponade was done for atonic PPH. Her vitals are now PR 130bpm and BP 84/60 mmgh. What is next step in her management?", "options": [{"label": "A", "text": "B Lynch suture", "correct": false}, {"label": "B", "text": "Uterine artery ligation", "correct": true}, {"label": "C", "text": "Uterine artery embolization", "correct": false}, {"label": "D", "text": "Hysterectomy", "correct": false}], "correct_answer": "B. Uterine artery ligation", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "After normal vaginal delivery a woman goes in to shock. On examination a reddish mass is seen outside vagina and on P/A exam uterine fundus not felt. What is the likely diagnosis", "options": [{"label": "A", "text": "Amniotic fluid embolism", "correct": false}, {"label": "B", "text": "DIC", "correct": false}, {"label": "C", "text": "Uterine inversion", "correct": true}, {"label": "D", "text": "Prolapsed uterine fibroid", "correct": false}], "correct_answer": "C. Uterine inversion", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A lady after vaginal delivery develops sudden onset of breathlessness and shock. Shock is out of proportion to blood loss. What is likely diagnosis?", "options": [{"label": "A", "text": "Amniotic fluid embolism", "correct": true}, {"label": "B", "text": "Uterine inversion", "correct": false}, {"label": "C", "text": "Broad ligament hematoma", "correct": false}, {"label": "D", "text": "Vaginal hematoma", "correct": false}], "correct_answer": "A. Amniotic fluid embolism", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A primigravida presents at 37 weeks for ANC checkup. The baby is in breech presentation and Bp is 148/90 mmhg. Proteinuria is 1+ what is the next step in her management", "options": [{"label": "A", "text": "Do induction of labour", "correct": false}, {"label": "B", "text": "Do ECV", "correct": false}, {"label": "C", "text": "Do CS", "correct": true}, {"label": "D", "text": "Plan delivery at 39 weeks", "correct": false}], "correct_answer": "C. Do CS", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Primigravida at 32 weeks presents with headache for 2 hrs and 1 episode of vomiting. On examination her BP is 156/110 mmhg. Fetus is cepahlic with fundal height of 32 weeks and FHR is normal. What is next step in her management", "options": [{"label": "A", "text": "Give dexamethasone", "correct": false}, {"label": "B", "text": "Give MgSO4", "correct": true}, {"label": "C", "text": "Give labetalol", "correct": false}, {"label": "D", "text": "Do termination of pregnancy", "correct": false}], "correct_answer": "B. Give MgSO4", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All are included in GTN except", "options": [{"label": "A", "text": "Partial mole", "correct": true}, {"label": "B", "text": "Invasive mole", "correct": false}, {"label": "C", "text": "PSTT", "correct": false}, {"label": "D", "text": "Choriocarcinoma", "correct": false}], "correct_answer": "A. Partial mole", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 26 year old lady on follow up after evacuation for complete mole at 2 months shows cannon ball mets on chest X-ray. What do you want to do next", "options": [{"label": "A", "text": "Hysterectomy", "correct": false}, {"label": "B", "text": "Single agent chemo", "correct": true}, {"label": "C", "text": "Multi agent chemo", "correct": false}, {"label": "D", "text": "Chemoradiotherapy", "correct": false}], "correct_answer": "B. Single agent chemo", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Gestational diabetes increases risk of all except", "options": [{"label": "A", "text": "CS", "correct": false}, {"label": "B", "text": "Shoulder dystocia", "correct": false}, {"label": "C", "text": "Malformations", "correct": true}, {"label": "D", "text": "IUD", "correct": false}], "correct_answer": "C. Malformations", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Most specific anomaly in fetus of a diabetic mother", "options": [{"label": "A", "text": "VSD", "correct": false}, {"label": "B", "text": "TGA", "correct": false}, {"label": "C", "text": "Sacral agenesis", "correct": true}, {"label": "D", "text": "NTD", "correct": false}], "correct_answer": "C. Sacral agenesis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Primigravida at 30 weeks comes for routine ANC visit she has a fundal height of 34 weeks. Usg shows polyhydramnios, there are no fetal anomalies with normal FHR. What should be the next evaluation for her", "options": [{"label": "A", "text": "Do amniocentesis", "correct": false}, {"label": "B", "text": "Do OGTT", "correct": true}, {"label": "C", "text": "Investigate for TORCH infections", "correct": false}, {"label": "D", "text": "Do ARM", "correct": false}], "correct_answer": "B. Do OGTT", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Persistent OP is seen in", "options": [{"label": "A", "text": "Anthropoid pelvis", "correct": true}, {"label": "B", "text": "Android pelvis", "correct": false}, {"label": "C", "text": "Platypelloid pelvis", "correct": false}, {"label": "D", "text": "Gynecoid pelvis", "correct": false}], "correct_answer": "A. Anthropoid pelvis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A lady presents with 7 weeks of amenorrhea and bleeding and spotting. On examination os is closed and uterus is 6 week size. Usg shows embryo with CRL of 7mm and no cardiac activity. What is the diagnosis", "options": [{"label": "A", "text": "Complete abortion", "correct": false}, {"label": "B", "text": "Incomplete abortion", "correct": false}, {"label": "C", "text": "Missed abortion", "correct": true}, {"label": "D", "text": "Threatened abortion", "correct": false}], "correct_answer": "C. Missed abortion", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Anti D is given to all except", "options": [{"label": "A", "text": "ECV", "correct": false}, {"label": "B", "text": "Threatened abortion", "correct": false}, {"label": "C", "text": "ICT positive women", "correct": true}, {"label": "D", "text": "Within 72 hrs of delivery of Rh positive baby", "correct": false}], "correct_answer": "C. ICT positive women", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Methotrexate is contraindicated in ectopic pregnancy if", "options": [{"label": "A", "text": "Hcg is less than 3000", "correct": false}, {"label": "B", "text": "Cardiac activity is absent", "correct": false}, {"label": "C", "text": "Hemoperitoneum", "correct": true}, {"label": "D", "text": "Sac size less than 3 cm", "correct": false}], "correct_answer": "C. Hemoperitoneum", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A primigravida at 10 weeks of POG presents with bleeding pv but dies not give history of expulsion of anything, on examination the os is open. What is the diagnosis", "options": [{"label": "A", "text": "Cervical incompetence", "correct": false}, {"label": "B", "text": "Missed abortion", "correct": false}, {"label": "C", "text": "Incomplete abortion", "correct": false}, {"label": "D", "text": "Inevitable abortion", "correct": true}], "correct_answer": "D. Inevitable abortion", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which is a not a method of first trimester abortions", "options": [{"label": "A", "text": "Suction evacuation", "correct": false}, {"label": "B", "text": "DC", "correct": false}, {"label": "C", "text": "Mifepristone and misoprostol", "correct": false}, {"label": "D", "text": "Extra amniotic ethacridine", "correct": true}], "correct_answer": "D. Extra amniotic ethacridine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Mifepristone and misoprostol can be used for medical abortion up to what PPOG", "options": [{"label": "A", "text": "Up to 7 weeks", "correct": false}, {"label": "B", "text": "Up to 9 weeks", "correct": true}, {"label": "C", "text": "Up to 12 weeks", "correct": false}, {"label": "D", "text": "Up to 20 weeks", "correct": false}], "correct_answer": "B. Up to 9 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Superfecundation is defined as", "options": [{"label": "A", "text": "Fertilisation of two ova in same cycle", "correct": true}, {"label": "B", "text": "Fertilisation of 2 ova in different cycle", "correct": false}, {"label": "C", "text": "Single fertilised ovum splitting into 2", "correct": false}, {"label": "D", "text": "Fertilisation of 2 ova in same act of coitus", "correct": false}], "correct_answer": "A. Fertilisation of two ova in same cycle", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is correctly matched", "options": [{"label": "A", "text": "NT 11-13 weeks", "correct": true}, {"label": "B", "text": "CVS 16-18", "correct": false}, {"label": "C", "text": "Amniocentesis 11-14 weeks", "correct": false}, {"label": "D", "text": "Cordocentesis 15-18 weeks", "correct": false}], "correct_answer": "A. NT 11-13 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A lady with recurrent second trimester abortion is diagnosed with APLA. Which of the following is treatment of choice for her", "options": [{"label": "A", "text": "Only aspirin", "correct": false}, {"label": "B", "text": "Only LMWH", "correct": false}, {"label": "C", "text": "LMWH + aspirin", "correct": true}, {"label": "D", "text": "LMWH + aspirin + prednisone", "correct": false}], "correct_answer": "C. LMWH + aspirin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following are used for screening of Down syndrome if first trimester", "options": [{"label": "A", "text": "HCG and AFP", "correct": false}, {"label": "B", "text": "AFP and UE3", "correct": false}, {"label": "C", "text": "HCG and PAPPA", "correct": true}, {"label": "D", "text": "PAPPA and UE3", "correct": false}], "correct_answer": "C. HCG and PAPPA", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Modified BPP is", "options": [{"label": "A", "text": "NST with AFI", "correct": true}, {"label": "B", "text": "NST with fetal breathing", "correct": false}, {"label": "C", "text": "NST with fetal tone", "correct": false}, {"label": "D", "text": "NST with fetal movement", "correct": false}], "correct_answer": "A. NST with AFI", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient has LMP of September 19 2022. What is her dues date", "options": [{"label": "A", "text": "July 10 2023", "correct": false}, {"label": "B", "text": "June 19 2023", "correct": false}, {"label": "C", "text": "June 26 2023", "correct": true}, {"label": "D", "text": "August 26 2023", "correct": false}], "correct_answer": "C. June 26 2023", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All the following are used for induction of labour except", "options": [{"label": "A", "text": "Dinoprost", "correct": true}, {"label": "B", "text": "Misoprost", "correct": false}, {"label": "C", "text": "Oxytocin", "correct": false}, {"label": "D", "text": "Balloon catheter", "correct": false}], "correct_answer": "A. Dinoprost", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following parameters have been correctly matched excerpt", "options": [{"label": "A", "text": "Fetal growth â€“ abdominal circumference", "correct": false}, {"label": "B", "text": "Pregnancy dating â€“ CRL in second trimester", "correct": true}, {"label": "C", "text": "Level 2 Usg - 18- 22 weeks", "correct": false}, {"label": "D", "text": "Nuchal translucency â€“ 11-13 weeks", "correct": false}], "correct_answer": "B. Pregnancy dating â€“ CRL in second trimester", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Ideal number of antenatal visits", "options": [{"label": "A", "text": "4", "correct": false}, {"label": "B", "text": "8", "correct": false}, {"label": "C", "text": "10", "correct": false}, {"label": "D", "text": "12", "correct": true}], "correct_answer": "D. 12", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The above image is which Leopold grip", "options": [{"label": "A", "text": "Fourth", "correct": false}, {"label": "B", "text": "Third", "correct": false}, {"label": "C", "text": "Second", "correct": false}, {"label": "D", "text": "First", "correct": true}], "correct_answer": "D. First", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/52(27).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The above instrument is not used for", "options": [{"label": "A", "text": "Cervical ripening", "correct": true}, {"label": "B", "text": "Molar pregnancy", "correct": false}, {"label": "C", "text": "Incomplete abortion", "correct": false}, {"label": "D", "text": "Endometrial biopsy", "correct": false}], "correct_answer": "A. Cervical ripening", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/53(27).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "This image represents what type of twin", "options": [{"label": "A", "text": "Conjoint", "correct": false}, {"label": "B", "text": "MCMA", "correct": false}, {"label": "C", "text": "DCDA", "correct": true}, {"label": "D", "text": "MCDA", "correct": false}], "correct_answer": "C. DCDA", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/54(33).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A lady shows the following finding in level 2 Usg", "options": [{"label": "A", "text": "Anencephaly", "correct": false}, {"label": "B", "text": "Duodenal atreisa", "correct": false}, {"label": "C", "text": "Spina bifida", "correct": true}, {"label": "D", "text": "Omphalocele", "correct": false}], "correct_answer": "C. Spina bifida", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/55(21).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which sign of pregnancy s shown below", "options": [{"label": "A", "text": "Goodle", "correct": false}, {"label": "B", "text": "Hear", "correct": true}, {"label": "C", "text": "Piskaceks", "correct": false}, {"label": "D", "text": "Chadwicks", "correct": false}], "correct_answer": "B. Hear", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/56(24).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(