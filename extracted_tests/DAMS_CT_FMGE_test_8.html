<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>303 Pharmacology Dr Dinesh</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">303 Pharmacology Dr Dinesh</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                40 Questions | 160 Total Marks | 50 min Duration | ~75.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 40 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 50 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 40</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">303 Pharmacology Dr Dinesh - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 40</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 40 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Lack of ADH causes diabetes insipidus. This drug may be prescribed to combat the disorder", "options": [{"label": "A", "text": "Insulin", "correct": false}, {"label": "B", "text": "Metformin", "correct": false}, {"label": "C", "text": "Desomopressin", "correct": true}, {"label": "D", "text": "Octreotide", "correct": false}], "correct_answer": "C. Desomopressin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "This drug treats hyperthyroidism by inhibiting T3 and T4 production in the thyroid gland, and by preventing T3 conversion to T4 in tissues", "options": [{"label": "A", "text": "Mineralocorticoids", "correct": false}, {"label": "B", "text": "Propylthiouracil", "correct": true}, {"label": "C", "text": "Sodium iodide 131", "correct": false}, {"label": "D", "text": "Insulin", "correct": false}], "correct_answer": "B. Propylthiouracil", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The sodium glucose co-transporter inhibitors are a _________ and its function is to______", "options": [{"label": "A", "text": "Anti-hypertensive, reduce blood pressure through the kidneys", "correct": false}, {"label": "B", "text": "Anti-hypoglycemic, increase blood sugar through the liver", "correct": false}, {"label": "C", "text": "Anti-hypothyrodic, increase levels of T4 from thyroid gland", "correct": false}, {"label": "D", "text": "Anti-diabetic, decrease amount of glucose reabsorbed by kidney", "correct": true}], "correct_answer": "D. Anti-diabetic, decrease amount of glucose reabsorbed by kidney", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Iodide preparations can be used in following situations, EXCEPT:", "options": [{"label": "A", "text": "In thyroid disorders", "correct": false}, {"label": "B", "text": "In granulomatous lesions e.g. Syphilis", "correct": false}, {"label": "C", "text": "As an antiseptic", "correct": false}, {"label": "D", "text": "In iodism", "correct": true}], "correct_answer": "D. In iodism", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Diabetic coma (e.g., ketoacidosis) is treated by the administration of:", "options": [{"label": "A", "text": "Lente insulin", "correct": false}, {"label": "B", "text": "Glucose", "correct": false}, {"label": "C", "text": "Crystalline insulin", "correct": true}, {"label": "D", "text": "Oral anti-diabetic drugs.", "correct": false}], "correct_answer": "C. Crystalline insulin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Alpha-glucosidase inhibitors act by:", "options": [{"label": "A", "text": "Diminishing insulin resistance by increasing glucose uptake and metabolism in muscle and adipose tissues", "correct": false}, {"label": "B", "text": "Competitive inhibiting of intestinal alpha-ghucosidases and modulating the postprandial digestion and absorption of starch and disaccharides", "correct": true}, {"label": "C", "text": "Reducing the absorption of carbohydrate from the gut", "correct": false}, {"label": "D", "text": "Stimulating the beta islet cells of pancreas to produce insulin", "correct": false}], "correct_answer": "B. Competitive inhibiting of intestinal alpha-ghucosidases and modulating the postprandial digestion and absorption of starch and disaccharides", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The antithrombotic drug which inhibits cyclooxygenase enzymes is:", "options": [{"label": "A", "text": "Dipyridamole", "correct": false}, {"label": "B", "text": "Tranexamic acid", "correct": false}, {"label": "C", "text": "Aspirin", "correct": true}, {"label": "D", "text": "Ticlopidine", "correct": false}], "correct_answer": "C. Aspirin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Megaloblastic anaemia developing under the following condition is due entirely to folate deficiency not associated with vitamin B12 deficiency:", "options": [{"label": "A", "text": "Malnutrition", "correct": false}, {"label": "B", "text": "Blind loop syndrome", "correct": false}, {"label": "C", "text": "Phenytoin therapy", "correct": true}, {"label": "D", "text": "Pregnancy", "correct": false}], "correct_answer": "C. Phenytoin therapy", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Recombinant human erythropoietin is indicated for:", "options": [{"label": "A", "text": "Megaloblastic anaemia", "correct": false}, {"label": "B", "text": "Haemolytic anaemia", "correct": false}, {"label": "C", "text": "Anaemia in patients of thalassemia", "correct": false}, {"label": "D", "text": "Anaemia in chronic renal failure patients", "correct": true}], "correct_answer": "D. Anaemia in chronic renal failure patients", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Low concentrations of heparin selectively interfere with the following coagulation pathway:", "options": [{"label": "A", "text": "Intrinsic pathway", "correct": true}, {"label": "B", "text": "Extrinsic pathway", "correct": false}, {"label": "C", "text": "Common pathway", "correct": false}, {"label": "D", "text": "Both â€˜Aâ€™ and â€˜Câ€™", "correct": false}], "correct_answer": "A. Intrinsic pathway", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Drugs are often protein-bound in the bloodstream. What is the principal protein that does this best?", "options": [{"label": "A", "text": "Fibrinogen", "correct": false}, {"label": "B", "text": "Albumin", "correct": true}, {"label": "C", "text": "Haemoglobin", "correct": false}, {"label": "D", "text": "Gamma globulin", "correct": false}], "correct_answer": "B. Albumin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Generally, the most reliable indicator for paediatric dose calculations is:", "options": [{"label": "A", "text": "Age", "correct": false}, {"label": "B", "text": "Bodyweight", "correct": false}, {"label": "C", "text": "Sex", "correct": false}, {"label": "D", "text": "Body surface area", "correct": true}], "correct_answer": "D. Body surface area", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following ingredients has neither specific antitussive nor expectorant nor bronchodilator action, but is commonly present in proprietary cough formulations:", "options": [{"label": "A", "text": "Ambroxol", "correct": false}, {"label": "B", "text": "Chlorpheniramine", "correct": true}, {"label": "C", "text": "Guaiphenesin", "correct": false}, {"label": "D", "text": "Noscapine", "correct": false}], "correct_answer": "B. Chlorpheniramine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A highly ionized drug", "options": [{"label": "A", "text": "Is excreted mainly by the kidney", "correct": true}, {"label": "B", "text": "Can cross the placental barrier easily", "correct": false}, {"label": "C", "text": "Is well absorbed from the intestine", "correct": false}, {"label": "D", "text": "Accumulates in the cellular lipids", "correct": false}], "correct_answer": "A. Is excreted mainly by the kidney", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Regarding therapeutic uses of adrenergic agonists:", "options": [{"label": "A", "text": "Adrenaline is used in acute asthma", "correct": true}, {"label": "B", "text": "Phenylephrine is absolutely contraindicated in nasal decongestion", "correct": false}, {"label": "C", "text": "Clonidine is contraindicated in hypertension", "correct": false}, {"label": "D", "text": "Amphetamine is contraindicated in narcolepsy", "correct": false}], "correct_answer": "A. Adrenaline is used in acute asthma", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which one of the following drugs, when administered IV, can decrease blood flow to the skin, increase blood flow to the skeletal muscle, and increase the force of contraction and heart rate:", "options": [{"label": "A", "text": "Adrenaline", "correct": true}, {"label": "B", "text": "Isoproterenol", "correct": false}, {"label": "C", "text": "Nor adrenaline", "correct": false}, {"label": "D", "text": "Phenylephrine", "correct": false}], "correct_answer": "A. Adrenaline", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Tamoxifen is a selective estrogen-receptor modulator that acts therapeutically as an estrogen agonist in bone and as an estrogen antagonist in:", "options": [{"label": "A", "text": "Liver", "correct": false}, {"label": "B", "text": "Breast", "correct": true}, {"label": "C", "text": "Uterus", "correct": false}, {"label": "D", "text": "Ovary", "correct": false}], "correct_answer": "B. Breast", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Clonidine", "options": [{"label": "A", "text": "Causes hypertension and tachycardia", "correct": false}, {"label": "B", "text": "Causes bradycardia", "correct": true}, {"label": "C", "text": "A single dose given orally is significantly less effective than an intravenous dose", "correct": false}, {"label": "D", "text": "Counteracts the hypertensive response in pheochromocytoma", "correct": false}], "correct_answer": "B. Causes bradycardia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Frusemide does not cause:", "options": [{"label": "A", "text": "Hyponatremia", "correct": false}, {"label": "B", "text": "Hypokalemia", "correct": false}, {"label": "C", "text": "Hypouricemia", "correct": true}, {"label": "D", "text": "Hypomagnesemia", "correct": false}], "correct_answer": "C. Hypouricemia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "With regards to sulfonylureas:", "options": [{"label": "A", "text": "Work effectively if Insulin stores depleted", "correct": false}, {"label": "B", "text": "Cause a lactic acidosis", "correct": false}, {"label": "C", "text": "Tolbutamide, phenformin are examples", "correct": false}, {"label": "D", "text": "Highly protein bound", "correct": true}], "correct_answer": "D. Highly protein bound", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A pregnant lady was given indomethacin in last trimester. It could lead to?", "options": [{"label": "A", "text": "Patent ductus arteriosus", "correct": false}, {"label": "B", "text": "Premature closure of ductus arteriosus", "correct": true}, {"label": "C", "text": "Closure of foramen ovale", "correct": false}, {"label": "D", "text": "Premature closure of ductus venosus", "correct": false}], "correct_answer": "B. Premature closure of ductus arteriosus", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "At a high altitude of 3000 m, a person complains of breathlessness and headache. Which of the following can be used for management of this person:", "options": [{"label": "A", "text": "Acetazolamide", "correct": true}, {"label": "B", "text": "Furosemide", "correct": false}, {"label": "C", "text": "Aspirin", "correct": false}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "A. Acetazolamide", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 56-year-old woman complains of chest pain following any sustained exercise. She is diagnosed with atherosclerotic angina. She is prescribed sublingual nitroglycerin for treatment of acute chest pain. Which of the following adverse effects of sublingual nitroglycerin can be prevented by atenolol?", "options": [{"label": "A", "text": "Dizziness", "correct": false}, {"label": "B", "text": "Throbbing headache", "correct": false}, {"label": "C", "text": "Methemoglobinemia", "correct": false}, {"label": "D", "text": "Reflex tachycardia", "correct": true}], "correct_answer": "D. Reflex tachycardia", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Bioavailability: True is", "options": [{"label": "A", "text": "Amount of the drug reaching to systemic circulation in unchanged form", "correct": true}, {"label": "B", "text": "Drug metabolized in liver after reaching the systemic circulation", "correct": false}, {"label": "C", "text": "Drug metabolized in liver before reaches the systemic circulation", "correct": false}, {"label": "D", "text": "Maximum by rectal route", "correct": false}], "correct_answer": "A. Amount of the drug reaching to systemic circulation in unchanged form", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Schedule X drugs are all except-", "options": [{"label": "A", "text": "Morphine", "correct": false}, {"label": "B", "text": "Thalidomide", "correct": true}, {"label": "C", "text": "Phenobarbital", "correct": false}, {"label": "D", "text": "Amphetamine", "correct": false}], "correct_answer": "B. Thalidomide", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Mechanism of action of statins-", "options": [{"label": "A", "text": "Inhibit HMG CoA synthase enzyme", "correct": false}, {"label": "B", "text": "Stimulate HMG CoA reductase enzyme", "correct": false}, {"label": "C", "text": "Inhibit HMG CoA reductase enzyme", "correct": true}, {"label": "D", "text": "Stimulate HMG CoA synthase enzyme", "correct": false}], "correct_answer": "C. Inhibit HMG CoA reductase enzyme", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A female developed pain and insect crawling like sensation on legs at night which is relieved by shaking her legs. Which of the following is drug of choice for this condition?", "options": [{"label": "A", "text": "Pramipexole", "correct": true}, {"label": "B", "text": "Diazepam", "correct": false}, {"label": "C", "text": "Cannabis", "correct": false}, {"label": "D", "text": "Cocaine", "correct": false}], "correct_answer": "A. Pramipexole", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Drug used to perform stress echo is:", "options": [{"label": "A", "text": "Thallium", "correct": false}, {"label": "B", "text": "Dobutamine", "correct": true}, {"label": "C", "text": "Adrenaline", "correct": false}, {"label": "D", "text": "Adenosine", "correct": false}], "correct_answer": "B. Dobutamine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "All are true statements except", "options": [{"label": "A", "text": "PGE1 analogue (Misoprostol) â€“ 1st trimester MTP", "correct": false}, {"label": "B", "text": "PGE2 analogue (Dinoprostone) â€“ Cervical ripening", "correct": false}, {"label": "C", "text": "PGF2Î± analogue (Carboprost) â€“ 1st trimester MTP", "correct": true}, {"label": "D", "text": "PGI2 analogue (Iloprost) â€“ Pulmonary HTN", "correct": false}], "correct_answer": "C. PGF2Î± analogue (Carboprost) â€“ 1st trimester MTP", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which NSAID given as single daily dose", "options": [{"label": "A", "text": "Ketorolac", "correct": false}, {"label": "B", "text": "Piroxicam", "correct": true}, {"label": "C", "text": "Diclofenac", "correct": false}, {"label": "D", "text": "Naproxen", "correct": false}], "correct_answer": "B. Piroxicam", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Drug given via this route is/are:", "options": [{"label": "A", "text": "Insulin", "correct": false}, {"label": "B", "text": "BCG vaccine", "correct": true}, {"label": "C", "text": "MMR vaccine", "correct": false}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "B. BCG vaccine", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/image-20240217160311-1.png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 43 year old woman who presents with a 2 week history of epigastric pain and a positive serum antibody for H. pylori. Which of the following would be considered the preferred initial therapy for H. pylori?", "options": [{"label": "A", "text": "PPI + Metronidazole + Levofloxacin", "correct": false}, {"label": "B", "text": "PPI + Amoxicillin + Levofloxacin", "correct": false}, {"label": "C", "text": "PPI + Amoxicillin + Clarithromycin", "correct": true}, {"label": "D", "text": "PPI+ Metronidazole + Bismuth + Tetracycline", "correct": false}], "correct_answer": "C. PPI + Amoxicillin + Clarithromycin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 56Â¬ yearÂ¬ old man presents to his primary care physician complaining of difficulty urinating. Digital rectal exam reveals an enlarged prostate. The patient is started on terazosin, after which his symptoms improve dramatically. Which of the following side effects he is most likely to experience?", "options": [{"label": "A", "text": "Diarrhea", "correct": false}, {"label": "B", "text": "Dizziness", "correct": true}, {"label": "C", "text": "Flatulence", "correct": false}, {"label": "D", "text": "Headache", "correct": false}], "correct_answer": "B. Dizziness", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following drug used in congestive heart failure patients to decrease mortality by inhibiting remodelling of left ventricle when used for long term purpose:", "options": [{"label": "A", "text": "Spironolactone", "correct": false}, {"label": "B", "text": "Hydralazine", "correct": false}, {"label": "C", "text": "Sacubitril plus Valsartan", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient having weakness in the limb muscles and it is more in the evening time after work exertion. Edrophonium was used for diagnosis. Condition of the patient improving after giving edrophonium. This patient is likely to be suffering from:", "options": [{"label": "A", "text": "Lambert eaton syndrome", "correct": false}, {"label": "B", "text": "Gullian barre syndrome", "correct": false}, {"label": "C", "text": "Mysthenia gravis", "correct": true}, {"label": "D", "text": "Cholinergic crisis", "correct": false}], "correct_answer": "C. Mysthenia gravis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient presented after road traffic accident. This patient is having raised ICP but no intracranial hematoma was seen. Which is the best drug to start in this patient to manage his condition:", "options": [{"label": "A", "text": "Furosemide", "correct": false}, {"label": "B", "text": "Mannitol", "correct": true}, {"label": "C", "text": "Glycerol", "correct": false}, {"label": "D", "text": "Prednisolone", "correct": false}], "correct_answer": "B. Mannitol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient having unilateral headache, associated with nausea and vomiting. Which drug can be used to decrease this headache episode?", "options": [{"label": "A", "text": "Propranolol", "correct": true}, {"label": "B", "text": "Alprazolam", "correct": false}, {"label": "C", "text": "Fluoxetine", "correct": false}, {"label": "D", "text": "Sumatriptan", "correct": false}], "correct_answer": "A. Propranolol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Patient presented with 6 episodes of depression, mania & hypomania in last 1 year with recovery phase in between. What is the probable diagnosis and drug used is?", "options": [{"label": "A", "text": "Cyclothymia and Valproate", "correct": false}, {"label": "B", "text": "Rapid cycling bipolar disorder and Valproate", "correct": true}, {"label": "C", "text": "Borderline personality disorder and Lithium", "correct": false}, {"label": "D", "text": "Emotional unstability and Carbamazepine", "correct": false}], "correct_answer": "B. Rapid cycling bipolar disorder and Valproate", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Patient having c/o pain on face which aggravates on smiling and while touching face. What drug to prescribe to this patient:", "options": [{"label": "A", "text": "NSAIDs", "correct": false}, {"label": "B", "text": "Carbamazepine", "correct": true}, {"label": "C", "text": "Morphine", "correct": false}, {"label": "D", "text": "Levetiracetam", "correct": false}], "correct_answer": "B. Carbamazepine", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient presented with breathlessness, pitting edema. He has heart disease also. Which of the following is drug is to be given in this patient:", "options": [{"label": "A", "text": "Carbonic anhydrase inhibitor", "correct": true}, {"label": "B", "text": "Na-K-2Cl transport inhibitor in TAL", "correct": false}, {"label": "C", "text": "Na-Cl symport inhibitor in DCT", "correct": false}, {"label": "D", "text": "Aldosterone receptor blocker", "correct": false}], "correct_answer": "A. Carbonic anhydrase inhibitor", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(