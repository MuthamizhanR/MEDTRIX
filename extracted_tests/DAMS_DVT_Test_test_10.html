<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Obstetrics  Gynaecology Dvt Revision Test</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Obstetrics  Gynaecology Dvt Revision Test</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                50 Questions | 200 Total Marks | 60 min Duration | ~72.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 50 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 60 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 50</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Obstetrics  Gynaecology Dvt Revision Test - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 50</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 50 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Quadruple test is done between ?", "options": [{"label": "A", "text": "9-12 weeks", "correct": false}, {"label": "B", "text": "15-18 weeks", "correct": true}, {"label": "C", "text": "24-28 weeks", "correct": false}, {"label": "D", "text": "22-24 weeks", "correct": false}], "correct_answer": "B. 15-18 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In a pregnant woman which of the following alters ?", "options": [{"label": "A", "text": "Free T3", "correct": false}, {"label": "B", "text": "Free T4", "correct": false}, {"label": "C", "text": "TSH", "correct": false}, {"label": "D", "text": "Total T3", "correct": true}], "correct_answer": "D. Total T3", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Drug not used in hypertension in pregnancy ?", "options": [{"label": "A", "text": "Atenolol", "correct": true}, {"label": "B", "text": "Methyldopa", "correct": false}, {"label": "C", "text": "Hydralazine", "correct": false}, {"label": "D", "text": "Labetalol", "correct": false}], "correct_answer": "A. Atenolol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Peripartum cardiomyopathy is seen most commonly in ?", "options": [{"label": "A", "text": "First trimester", "correct": false}, {"label": "B", "text": "Second trimester", "correct": false}, {"label": "C", "text": "Within 1 week of delivery", "correct": true}, {"label": "D", "text": "After 12 weeks of delivery", "correct": false}], "correct_answer": "C. Within 1 week of delivery", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Gestational trophoblastic neoplasm does not include", "options": [{"label": "A", "text": "Choriocarcinoma", "correct": false}, {"label": "B", "text": "Placental site trophoblastic tumour", "correct": false}, {"label": "C", "text": "Invasive mole", "correct": false}, {"label": "D", "text": "Partial mole", "correct": true}], "correct_answer": "D. Partial mole", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 45 year old female presents with menorrhagia for 3 months. Usg shows a 2cm intramural fibroid. What is next step", "options": [{"label": "A", "text": "OCP for 3 months", "correct": false}, {"label": "B", "text": "Progesterone for 3 months", "correct": false}, {"label": "C", "text": "Endometrial sampling", "correct": true}, {"label": "D", "text": "Hysterectomy", "correct": false}], "correct_answer": "C. Endometrial sampling", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In low ovarian reserve AMH levels will be", "options": [{"label": "A", "text": "Less than 1", "correct": true}, {"label": "B", "text": "4-7", "correct": false}, {"label": "C", "text": "7-10", "correct": false}, {"label": "D", "text": "More than 10", "correct": false}], "correct_answer": "A. Less than 1", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the dose of ulipristal acetate as emergency contraceptive", "options": [{"label": "A", "text": "300mg", "correct": false}, {"label": "B", "text": "30mg", "correct": true}, {"label": "C", "text": "300mcg", "correct": false}, {"label": "D", "text": "30 mcg", "correct": false}], "correct_answer": "B. 30mg", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Nuchal translucency is detected at what gestational age", "options": [{"label": "A", "text": "8-10 weeks", "correct": false}, {"label": "B", "text": "11-13 weeks", "correct": true}, {"label": "C", "text": "18-20 weeks", "correct": false}, {"label": "D", "text": "22-24 weeks", "correct": false}], "correct_answer": "B. 11-13 weeks", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient with recurrent pregnancy losses is diagnosed to have APLA syndrome. She is currently 6 weeks pregnant. What will be the treatment", "options": [{"label": "A", "text": "Aspirin only", "correct": false}, {"label": "B", "text": "LMWH only", "correct": false}, {"label": "C", "text": "Aspirin + LMWH", "correct": true}, {"label": "D", "text": "No treatment", "correct": false}], "correct_answer": "C. Aspirin + LMWH", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 45 year old woman undergoes hysterectomy for dysmenorrhea, dyspareunia with chronic pelvic pain. From the specimen shown below what is the diagnosis", "options": [{"label": "A", "text": "Endometriosis", "correct": false}, {"label": "B", "text": "Fibroid uterus", "correct": false}, {"label": "C", "text": "Ectopic pregnancy", "correct": false}, {"label": "D", "text": "Adenomyosis", "correct": true}], "correct_answer": "D. Adenomyosis", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_11(1).jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Partial mole has which of the following karyotype", "options": [{"label": "A", "text": "46XX", "correct": false}, {"label": "B", "text": "45X0", "correct": false}, {"label": "C", "text": "47 XXY", "correct": false}, {"label": "D", "text": "69 XXY", "correct": true}], "correct_answer": "D. 69 XXY", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Maximum dose of carboprost used for PPH in a day is", "options": [{"label": "A", "text": "200mcg", "correct": false}, {"label": "B", "text": "200mg", "correct": false}, {"label": "C", "text": "2mg", "correct": true}, {"label": "D", "text": "20mg", "correct": false}], "correct_answer": "C. 2mg", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Greenish frothy vaginal discharge and vaginal ph 5.4 is produced by", "options": [{"label": "A", "text": "Herpes simplex", "correct": false}, {"label": "B", "text": "Candida albicans", "correct": false}, {"label": "C", "text": "Trichomonas vaginalis", "correct": true}, {"label": "D", "text": "Normal vaginal flora", "correct": false}], "correct_answer": "C. Trichomonas vaginalis", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is absolute contraindication for OCP use", "options": [{"label": "A", "text": "Chronic renal disease", "correct": false}, {"label": "B", "text": "DVT", "correct": true}, {"label": "C", "text": "Diabetes mellitus", "correct": false}, {"label": "D", "text": "History of amenorrhea", "correct": false}], "correct_answer": "B. DVT", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following statements is correct about acute fatty liver of pregnancy", "options": [{"label": "A", "text": "Occurs 1 in 1000 women", "correct": false}, {"label": "B", "text": "Mostly seen in third trimester", "correct": true}, {"label": "C", "text": "Common in female fetus", "correct": false}, {"label": "D", "text": "Associated with decreased uric acid levels", "correct": false}], "correct_answer": "B. Mostly seen in third trimester", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A female with 41 weeks gestation confirmed by radiological assessment has no uterine contraction and no cervical changes. Which of the following is not to be used", "options": [{"label": "A", "text": "Intracervical foley catheter", "correct": false}, {"label": "B", "text": "PGE1 tablet", "correct": false}, {"label": "C", "text": "PGE2 gel", "correct": false}, {"label": "D", "text": "PGF2 alpha", "correct": true}], "correct_answer": "D. PGF2 alpha", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Post LSCS patient has fever 102 degrees, CT scan shows pelvic thrombophlebitis. What is to be done ?", "options": [{"label": "A", "text": "Stop antibiotic and put heparin", "correct": false}, {"label": "B", "text": "Continue antibiotic and add heparin", "correct": true}, {"label": "C", "text": "Surgical embolectomy", "correct": false}, {"label": "D", "text": "Expectant management", "correct": false}], "correct_answer": "B. Continue antibiotic and add heparin", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is not estrogen dependent pubertal change", "options": [{"label": "A", "text": "Pubic hair growth", "correct": true}, {"label": "B", "text": "Menstruation", "correct": false}, {"label": "C", "text": "Vaginal cornification", "correct": false}, {"label": "D", "text": "Cervical mucus", "correct": false}], "correct_answer": "A. Pubic hair growth", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In the current obstetric advanced era best test for monitoring sensitised Rh negative mother", "options": [{"label": "A", "text": "MCA doppler", "correct": true}, {"label": "B", "text": "Amniotic fluid spectrophotometry", "correct": false}, {"label": "C", "text": "Fetal blood sampling", "correct": false}, {"label": "D", "text": "Biophysical profile", "correct": false}], "correct_answer": "A. MCA doppler", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 24 year old woman with 7 weeks pregnancy with RTA has undergone chest X ray and pelvic X ray for evaluation. What is the advise regarding her pregnancy management", "options": [{"label": "A", "text": "Terminate pregnancy", "correct": false}, {"label": "B", "text": "To check for chromosomal anomalies", "correct": false}, {"label": "C", "text": "Non invasive prenatal test", "correct": false}, {"label": "D", "text": "Continue pregnancy", "correct": true}], "correct_answer": "D. Continue pregnancy", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 42 year old woman with history of intermenstrual bleeding. Usg shows lesion within endometrial cavity with feeding vessel. What is the diagnosis", "options": [{"label": "A", "text": "Endometrial cancer", "correct": false}, {"label": "B", "text": "Endometrial polyp", "correct": true}, {"label": "C", "text": "Submucosal fibroid", "correct": false}, {"label": "D", "text": "Leiomyosarcoma", "correct": false}], "correct_answer": "B. Endometrial polyp", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A mother brings her 16 year old daughter to gynae OPD with complains of not attaining menarche. There is a midline abdominal swelling and a bulging membrane is seen at the vaginal opening. Which of the following do you suspect", "options": [{"label": "A", "text": "Transverse vaginal septum", "correct": false}, {"label": "B", "text": "MRKH", "correct": false}, {"label": "C", "text": "Imperforate hymen", "correct": true}, {"label": "D", "text": "Vaginal agenesis", "correct": false}], "correct_answer": "C. Imperforate hymen", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "26 year old pregnant woman who had previous twin delivery presents for routine antenatal checkup. She is sure of dates and is 32 weeks pregnant. What is her obstetric score", "options": [{"label": "A", "text": "G3P1", "correct": false}, {"label": "B", "text": "G2P1", "correct": true}, {"label": "C", "text": "G2P2", "correct": false}, {"label": "D", "text": "G3P2", "correct": false}], "correct_answer": "B. G2P1", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "24 year old married for 4 years presents with history of recurrent abortions. On further workup she is found to have septate uterus. Which of the following will improve her reproductive outcome", "options": [{"label": "A", "text": "Strassman metroplasty", "correct": false}, {"label": "B", "text": "Tompkins metroplasty", "correct": false}, {"label": "C", "text": "Jones metroplasty", "correct": false}, {"label": "D", "text": "Transcervical metroplasty", "correct": true}], "correct_answer": "D. Transcervical metroplasty", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is correct regarding the following case?", "options": [{"label": "A", "text": "Most common presentation is menorrhagia", "correct": true}, {"label": "B", "text": "It is more common in nulliparous patient", "correct": false}, {"label": "C", "text": "It may present as lump in abdomen", "correct": false}, {"label": "D", "text": "Investigation of choice is laparoscopy", "correct": false}], "correct_answer": "A. Most common presentation is menorrhagia", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/Q_26(3).jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following picture is seen in wet mount preparation of a 23 years old woman with vaginal discharge. Which of the following is matching with this clinical case?", "options": [{"label": "A", "text": "Her partner should be treated as well", "correct": false}, {"label": "B", "text": "Intense inflammation is present", "correct": false}, {"label": "C", "text": "Fishy foul smell is seen", "correct": true}, {"label": "D", "text": "Most common organism is mycoplasma (anaerobic)", "correct": false}], "correct_answer": "C. Fishy foul smell is seen", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_27.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 27 years old patient has white discharge per vaginum and itching since last 2 months. She is also suffering from burning micturition. Wet mount examination reveals the following picture: What is an appropriate treatment?", "options": [{"label": "A", "text": "Fluconazole", "correct": true}, {"label": "B", "text": "Clindamycin", "correct": false}, {"label": "C", "text": "Metronidazole", "correct": false}, {"label": "D", "text": "Azithromycin", "correct": false}], "correct_answer": "A. Fluconazole", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_28.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the technique:", "options": [{"label": "A", "text": "IRWING", "correct": false}, {"label": "B", "text": "KROENER", "correct": false}, {"label": "C", "text": "POMEROY", "correct": false}, {"label": "D", "text": "UCHIDA", "correct": true}], "correct_answer": "D. UCHIDA", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_29.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the following instrument:", "options": [{"label": "A", "text": "Veress needle", "correct": false}, {"label": "B", "text": "Uterine manipulator", "correct": false}, {"label": "C", "text": "HSG cannula", "correct": true}, {"label": "D", "text": "Myoma screw", "correct": false}], "correct_answer": "C. HSG cannula", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_30.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following maneuver is used in which case?", "options": [{"label": "A", "text": "Face to pubis delivery", "correct": false}, {"label": "B", "text": "Mento-anterior face delivery", "correct": false}, {"label": "C", "text": "Shoulder presentation", "correct": false}, {"label": "D", "text": "Shoulder dystocia", "correct": true}], "correct_answer": "D. Shoulder dystocia", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_31.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 27 years old patient underwent cesarean section and during cesarean section the following condition was seen. Which of the following is not true regarding this case?", "options": [{"label": "A", "text": "The most common cause is hypertension", "correct": false}, {"label": "B", "text": "It is associated with high risk of post-partum hemorrhage", "correct": false}, {"label": "C", "text": "There must have been painless, profuse bleeding in this case", "correct": true}, {"label": "D", "text": "It is not an indication of obstetric hysterectomy", "correct": false}], "correct_answer": "C. There must have been painless, profuse bleeding in this case", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_32.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The most common karyotype of the products of conception in the following case would be?", "options": [{"label": "A", "text": "46XX", "correct": true}, {"label": "B", "text": "46XY", "correct": false}, {"label": "C", "text": "69XXX", "correct": false}, {"label": "D", "text": "69XXY", "correct": false}], "correct_answer": "A. 46XX", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_33.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 26 years old nulliparous patient has primary infertility since last 3 years. She had genital TB for which she took 6 months of ATT. She underwent HSG after the course and the following findings were observed. What is the next step of management?", "options": [{"label": "A", "text": "IUI", "correct": false}, {"label": "B", "text": "IVF", "correct": false}, {"label": "C", "text": "ICSI-IVF", "correct": false}, {"label": "D", "text": "Laparoscopic salpingectomy followed by IVF", "correct": true}], "correct_answer": "D. Laparoscopic salpingectomy followed by IVF", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_34.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the condition and the surgery?", "options": [{"label": "A", "text": "Septate uterus and septal resection", "correct": false}, {"label": "B", "text": "Uterine didelphys and Strassmanâ€™s metroplasty", "correct": true}, {"label": "C", "text": "Unicornuate uterus with rudimentary horn and Tompkinâ€™s metroplasty", "correct": false}, {"label": "D", "text": "MRKH syndrome and uterine transplant", "correct": false}], "correct_answer": "B. Uterine didelphys and Strassmanâ€™s metroplasty", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_35.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following instrument is used in which surgery?", "options": [{"label": "A", "text": "Lap. TL", "correct": true}, {"label": "B", "text": "Hysteroscopic polypectomy", "correct": false}, {"label": "C", "text": "Any laparoscopic surgery for tissue dissection", "correct": false}, {"label": "D", "text": "Any laparoscopic surgery for endo-suturing", "correct": false}], "correct_answer": "A. Lap. TL", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_36(1).jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following procedure is done in which patient?", "options": [{"label": "A", "text": "Active genital TB", "correct": false}, {"label": "B", "text": "Infertility", "correct": true}, {"label": "C", "text": "Recurrent pregnancy loss", "correct": false}, {"label": "D", "text": "Primary dysmenorrhea", "correct": false}], "correct_answer": "B. Infertility", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_37.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is incorrect regarding the following drug?", "options": [{"label": "A", "text": "It is most potent uterotonic for prevention of PPH", "correct": true}, {"label": "B", "text": "Maximum dose which can be given in a day is 2000mcg", "correct": false}, {"label": "C", "text": "It is contraindicated in Asthma", "correct": false}, {"label": "D", "text": "It is never given intra venously", "correct": false}], "correct_answer": "A. It is most potent uterotonic for prevention of PPH", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_38.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the following obstetric grip:", "options": [{"label": "A", "text": "Leopold 1", "correct": false}, {"label": "B", "text": "Leopold 2", "correct": false}, {"label": "C", "text": "Leopold 3", "correct": true}, {"label": "D", "text": "Leopold 4", "correct": false}], "correct_answer": "C. Leopold 3", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_39.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 28 years old G2P1L1 with 37 weeks of gestation with previous LSCS done in view of fetal distress has gone in active labor with cephalic presentation. On PV examination, cervix is 7 cm dilated, 80% effaced, station is -3, diagonal conjugate is 10.5 cm. The expected fetal weight is 3 kg. She has a history of undergoing myomectomy for FIGO type 7 which was done 2 years back. What is your further line of management?", "options": [{"label": "A", "text": "Do emergency LSCS in view of myomectomy in past", "correct": false}, {"label": "B", "text": "Conduct vaginal delivery", "correct": false}, {"label": "C", "text": "Do emergency LSCS in view of contracted pelvis.", "correct": true}, {"label": "D", "text": "Conduct operative vaginal delivery by vacuum application", "correct": false}], "correct_answer": "C. Do emergency LSCS in view of contracted pelvis.", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following method of placental delivery is called as?", "options": [{"label": "A", "text": "Manual removal of placenta", "correct": false}, {"label": "B", "text": "Credeâ€™s method", "correct": false}, {"label": "C", "text": "Modified Brandt Andrew method", "correct": true}, {"label": "D", "text": "Schultz method", "correct": false}], "correct_answer": "C. Modified Brandt Andrew method", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_41.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 27 years old nulliparous patient has come to opd with irregular menses and hirsutism since last 5 years and the following lesion on the skin. Which of the following is the first line investigation in this patient?", "options": [{"label": "A", "text": "Usg abdo-pelvis", "correct": false}, {"label": "B", "text": "Sr. Testosterone levels", "correct": true}, {"label": "C", "text": "LH/FSH levels", "correct": false}, {"label": "D", "text": "ACTH stimulation test.", "correct": false}], "correct_answer": "B. Sr. Testosterone levels", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_42.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 63 years old multiparous patient has come with history of post-menopausal bleeding since last 3 months. On per speculum examination, the following finding was noted. Which of the following is next line of investigation?", "options": [{"label": "A", "text": "PAP smear", "correct": false}, {"label": "B", "text": "Colposcopy guided biopsy", "correct": false}, {"label": "C", "text": "HPV DNA testing", "correct": false}, {"label": "D", "text": "Transvaginal sonography", "correct": false}, {"label": "E", "text": "Direct punch biopsy", "correct": true}], "correct_answer": "E. Direct punch biopsy", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_43.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which one of the following is incorrect regarding the following case of twins?", "options": [{"label": "A", "text": "The delivery should be done by 38 weeks", "correct": false}, {"label": "B", "text": "It has best prognosis", "correct": false}, {"label": "C", "text": "It is associated with TTTS", "correct": true}, {"label": "D", "text": "It can be seen in monozygotic as well as dizygotic.", "correct": false}], "correct_answer": "C. It is associated with TTTS", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_44.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A new born baby was born with the following external genitalia. Which of the following is not a likely cause in this case?", "options": [{"label": "A", "text": "Partial AIS", "correct": false}, {"label": "B", "text": "CAH", "correct": false}, {"label": "C", "text": "Ovo-testicular conditions", "correct": false}, {"label": "D", "text": "Swyerâ€™s syndrome", "correct": true}], "correct_answer": "D. Swyerâ€™s syndrome", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_45.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following surgery is done for which case?", "options": [{"label": "A", "text": "GSUI", "correct": true}, {"label": "B", "text": "Cystocoele", "correct": false}, {"label": "C", "text": "Urgency incontinence", "correct": false}, {"label": "D", "text": "Nulliparous patient with uterine prolapse", "correct": false}], "correct_answer": "A. GSUI", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_46%20.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The following is an ultrasonography finding of the fetus. Which of the following is the cause of this sign?", "options": [{"label": "A", "text": "Anencephaly", "correct": false}, {"label": "B", "text": "Spina bifida", "correct": false}, {"label": "C", "text": "PU valve", "correct": true}, {"label": "D", "text": "Open anterior abdominal wall defect", "correct": false}], "correct_answer": "C. PU valve", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_47%20.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 23 years old primigravida gives history of 5 months of amenorrhea and bleeding since 3 days on and off. She has history of passage of this mass in the morning along with some grape like vesicles. On examination, there is bleeding present and os is open, uterus is 14 weeks in size. What is not correct in the treatment in this case?", "options": [{"label": "A", "text": "Curettage and HCG monitoring", "correct": false}, {"label": "B", "text": "Methotrexate therapy if HCG starts rising again", "correct": false}, {"label": "C", "text": "HISTOPATHOLOGY exam of the products of conception", "correct": false}, {"label": "D", "text": "Cu-T insertion for avoiding pregnancy for at least 6 months", "correct": true}], "correct_answer": "D. Cu-T insertion for avoiding pregnancy for at least 6 months", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_48.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The correct gestational age for assessing the following USG finding between two marked points is?", "options": [{"label": "A", "text": "9-11 weeks", "correct": false}, {"label": "B", "text": "11 weeks to 13+6 weeks", "correct": true}, {"label": "C", "text": "14 weeks to 18 weeks", "correct": false}, {"label": "D", "text": "18-22 weeks", "correct": false}], "correct_answer": "B. 11 weeks to 13+6 weeks", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_49.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 25 years old G2P1L1 with 18 weeks of gestation has history of preterm delivery in past pregnancy at 30 weeks. On USG examination, the following finding was seen. What is the next line of management?", "options": [{"label": "A", "text": "Weekly progesterone support", "correct": false}, {"label": "B", "text": "Expedite abortion in view of inevitable abortion", "correct": false}, {"label": "C", "text": "Cervical cerclage immediately followed by weekly progesterone injection", "correct": true}, {"label": "D", "text": "Wait and watch and do routine ANC follow up.", "correct": false}], "correct_answer": "C. Cervical cerclage immediately followed by weekly progesterone injection", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/q_50.jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(