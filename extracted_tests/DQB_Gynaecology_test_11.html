<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Menstrual Cycle Physiology</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Menstrual Cycle Physiology</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                47 Questions | 188 Total Marks | 57 min Duration | ~72.77 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 47 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 57 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 47</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Menstrual Cycle Physiology - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 47</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 47 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Primary oocyte:", "options": [{"label": "A", "text": "Is formed after single meiotic division", "correct": false}, {"label": "B", "text": "Maximum in number in 5 month of the fetus", "correct": true}, {"label": "C", "text": "Is in metaphase arrest", "correct": false}, {"label": "D", "text": "Also called as Blastocyst", "correct": false}], "correct_answer": "B. Maximum in number in 5 month of the fetus", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/32730051700112605/32730051700112605.m3u8"}, {"text": "True statement with regards to resumption of Meiosis I is:", "options": [{"label": "A", "text": "It is not hormone dependent", "correct": false}, {"label": "B", "text": "Resumed due to LH", "correct": true}, {"label": "C", "text": "Resumed due to FSH", "correct": false}, {"label": "D", "text": "Resumed due to GnRH", "correct": false}], "correct_answer": "B. Resumed due to LH", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/25314721700112718/25314721700112718.m3u8"}, {"text": "Primary oocyte is formed after:", "options": [{"label": "A", "text": "1st meiotic division", "correct": false}, {"label": "B", "text": "2nd meiotic division", "correct": false}, {"label": "C", "text": "Mitotic division", "correct": true}, {"label": "D", "text": "None of above", "correct": false}], "correct_answer": "C. Mitotic division", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/70386971700112732/70386971700112732.m3u8"}, {"text": "1 primary oocyte forms_____ number of ova:", "options": [{"label": "A", "text": "1", "correct": true}, {"label": "B", "text": "2", "correct": false}, {"label": "C", "text": "3", "correct": false}, {"label": "D", "text": "4", "correct": false}], "correct_answer": "A. 1", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/33770271700112744/33770271700112744.m3u8"}, {"text": "In ovarian cycle increased levels of LH are due to:", "options": [{"label": "A", "text": "Increased Progesterone", "correct": false}, {"label": "B", "text": "Increased Estrogen", "correct": true}, {"label": "C", "text": "Increased FSH", "correct": false}, {"label": "D", "text": "Increased Androgens", "correct": false}], "correct_answer": "B. Increased Estrogen", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/74317881700112894/74317881700112894.m3u8"}, {"text": "In 40 days of menstrual cycle the ovulation occurs at:", "options": [{"label": "A", "text": "14th day", "correct": false}, {"label": "B", "text": "20th day", "correct": false}, {"label": "C", "text": "26th day", "correct": true}, {"label": "D", "text": "30th day", "correct": false}], "correct_answer": "C. 26th day", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/75828321700112909/75828321700112909.m3u8"}, {"text": "The corpus luteum secretes:", "options": [{"label": "A", "text": "Estrogens", "correct": false}, {"label": "B", "text": "Progesterone", "correct": false}, {"label": "C", "text": "Both", "correct": true}, {"label": "D", "text": "None", "correct": false}], "correct_answer": "C. Both", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/63364701700112963/63364701700112963.m3u8"}, {"text": "Apoptosis can occur by change in hormone levels in the ovarian cycle. When there is no fertilization of the ovum, the endometrial cells die because:", "options": [{"label": "A", "text": "The involution of corpus luteum causes estradiol and progesterone levels to fall dramatically", "correct": true}, {"label": "B", "text": "LH levels rise after ovulation", "correct": false}, {"label": "C", "text": "Estracdiol levels are not involved in the LH surge phenomenon", "correct": false}, {"label": "D", "text": "Estradiol inhibits the induction of the progesterone receptor in the endometrium", "correct": false}], "correct_answer": "A. The involution of corpus luteum causes estradiol and progesterone levels to fall dramatically", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/7672731700112974/7672731700112974.m3u8"}, {"text": "Maximum function of corpus luteum occurs:", "options": [{"label": "A", "text": "At ovulation", "correct": false}, {"label": "B", "text": "Before ovulation", "correct": false}, {"label": "C", "text": "3 days after ovulation", "correct": false}, {"label": "D", "text": "8-9 days after ovulation", "correct": true}], "correct_answer": "D. 8-9 days after ovulation", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56001231700112987/56001231700112987.m3u8"}, {"text": "Ovulation occurs", "options": [{"label": "A", "text": "Before LH surge", "correct": false}, {"label": "B", "text": "After biphasic rise in body temperature", "correct": false}, {"label": "C", "text": "After ripening of follicle by FSH", "correct": true}, {"label": "D", "text": "Before estrogen peak", "correct": false}], "correct_answer": "C. After ripening of follicle by FSH", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/23773991700113001/23773991700113001.m3u8"}, {"text": "True about timing of LH surge:", "options": [{"label": "A", "text": "Occur 12 hour before ovulation", "correct": false}, {"label": "B", "text": "Occur 36 hour before ovulation", "correct": true}, {"label": "C", "text": "Occur 24 hour before ovulation", "correct": false}, {"label": "D", "text": "Occur 24 hour after ovulation", "correct": false}], "correct_answer": "B. Occur 36 hour before ovulation", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/48200931700113013/48200931700113013.m3u8"}, {"text": "Which of the following is not related with menstral cycle:", "options": [{"label": "A", "text": "Hormonal changes", "correct": false}, {"label": "B", "text": "Vaginal cytology", "correct": false}, {"label": "C", "text": "Estrous cycle", "correct": true}, {"label": "D", "text": "Endometrial sampling", "correct": false}], "correct_answer": "C. Estrous cycle", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Naturally occurring estrogens are all except", "options": [{"label": "A", "text": "Estrone", "correct": false}, {"label": "B", "text": "Estradiol", "correct": false}, {"label": "C", "text": "Estriol", "correct": false}, {"label": "D", "text": "ethinyl estradiol", "correct": true}], "correct_answer": "D. ethinyl estradiol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41926271700113043/41926271700113043.m3u8"}, {"text": "End product of progesterone metabolism found in urine is:", "options": [{"label": "A", "text": "Pregnanelone", "correct": false}, {"label": "B", "text": "17-OH pregnanelone exerected in urine", "correct": false}, {"label": "C", "text": "Pregnanediol", "correct": true}, {"label": "D", "text": "Pregnanetriol", "correct": false}], "correct_answer": "C. Pregnanediol", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34690041700113209/34690041700113209.m3u8"}, {"text": "Following are the features of inhibin except:", "options": [{"label": "A", "text": "Non steroidal water soluble protein", "correct": false}, {"label": "B", "text": "Secreted by Graffian follicle", "correct": false}, {"label": "C", "text": "Stimulates FSH secretion", "correct": true}, {"label": "D", "text": "Increased secretion of inhibin occurs in polycystic ovarian disease", "correct": false}], "correct_answer": "C. Stimulates FSH secretion", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/22486561700113400/22486561700113400.m3u8"}, {"text": "The probable source of relaxin is:", "options": [{"label": "A", "text": "Ovary", "correct": true}, {"label": "B", "text": "Adrenal cortex", "correct": false}, {"label": "C", "text": "Bartholins gland", "correct": false}, {"label": "D", "text": "Anterior pituitary", "correct": false}], "correct_answer": "A. Ovary", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/13563841700113536/13563841700113536.m3u8"}, {"text": "The following are related to granulose cells except:", "options": [{"label": "A", "text": "It has got no blood supply", "correct": false}, {"label": "B", "text": "In the first half of the cycle, it has no steroidogenic function", "correct": true}, {"label": "C", "text": "Granulosa cells produce activin and inhibin", "correct": false}, {"label": "D", "text": "Estrogen stimulates the proliferation of granulose cells", "correct": false}], "correct_answer": "B. In the first half of the cycle, it has no steroidogenic function", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/63057681700113710/63057681700113710.m3u8"}, {"text": "The following are related to corpus luteum except:", "options": [{"label": "A", "text": "Luteinised granulose cells produce progesterone", "correct": false}, {"label": "B", "text": "Estrogen continues to be produced by the luteinized theca cells", "correct": false}, {"label": "C", "text": "Luteolysis is due to estrogen, PGF2a and apoptosis", "correct": false}, {"label": "D", "text": "The peak steroid production is between 23 and 25th day", "correct": true}], "correct_answer": "D. The peak steroid production is between 23 and 25th day", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34563681700113729/34563681700113729.m3u8"}, {"text": "Granulosa cells produces estrogen with the help of the enzyme.", "options": [{"label": "A", "text": "Alkaline phosphatase", "correct": false}, {"label": "B", "text": "Aromatase", "correct": true}, {"label": "C", "text": "Acid phosphatase", "correct": false}, {"label": "D", "text": "Glucuronidase", "correct": false}], "correct_answer": "B. Aromatase", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35920961700113743/35920961700113743.m3u8"}, {"text": "Peak level of plasma progesterone in the luteal phase:", "options": [{"label": "A", "text": "5 ng/ml", "correct": false}, {"label": "B", "text": "10 ng/ml", "correct": false}, {"label": "C", "text": "15ng/ml", "correct": true}, {"label": "D", "text": "30 ng/ml", "correct": false}], "correct_answer": "C. 15ng/ml", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/46935011700113758/46935011700113758.m3u8"}, {"text": "The earliest morphological evidence of ovulation on endometrial biopsy is:", "options": [{"label": "A", "text": "Pseudostratification", "correct": false}, {"label": "B", "text": "Basal vacuolation", "correct": true}, {"label": "C", "text": "Decrease in glycogen content", "correct": false}, {"label": "D", "text": "Predecidual reaction", "correct": false}], "correct_answer": "B. Basal vacuolation", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/121821700113785/121821700113785.m3u8"}, {"text": "Rise in body temperature after ovulation is due to :", "options": [{"label": "A", "text": "Estrogen", "correct": false}, {"label": "B", "text": "Progesterone", "correct": true}, {"label": "C", "text": "LH", "correct": false}, {"label": "D", "text": "FSH", "correct": false}], "correct_answer": "B. Progesterone", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/47480551700113803/47480551700113803.m3u8"}, {"text": "All of the following statements are correct except:", "options": [{"label": "A", "text": "LH surge is initiated due to sustained levels of 200 pg of estrogen for 48 hours", "correct": false}, {"label": "B", "text": "LH surge is maintained by esterogen and progestrone both", "correct": false}, {"label": "C", "text": "Meiosis I is hormone dependant", "correct": false}, {"label": "D", "text": "Meiosis II is hormone dependant", "correct": true}], "correct_answer": "D. Meiosis II is hormone dependant", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/37595081700113849/37595081700113849.m3u8"}, {"text": "All of the following statements are correct except:", "options": [{"label": "A", "text": "Menstrual blood is mainly arterial", "correct": false}, {"label": "B", "text": "Prostaglandin released at the time of menstruation is PGE2", "correct": true}, {"label": "C", "text": "Zona basalis regenerates the endometrium during next cycle", "correct": false}, {"label": "D", "text": "Anovulatory cycles are painless", "correct": false}], "correct_answer": "B. Prostaglandin released at the time of menstruation is PGE2", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/72993061700113948/72993061700113948.m3u8"}, {"text": "On examination of endometrial tissues obtained from a biopsy reveals simple columnar epithelium with no subnuclear vacuoles. The stroma is edematous and a tortous gland contains secretions. Thus findings are consistent with which stage of menstrual cycle?", "options": [{"label": "A", "text": "Non ovulatory cycle", "correct": false}, {"label": "B", "text": "Mid secretory", "correct": true}, {"label": "C", "text": "Early secretory", "correct": false}, {"label": "D", "text": "Late proliferative phase", "correct": false}], "correct_answer": "B. Mid secretory", "question_images": [], "explanation_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/WhatsApp%20Image%202023-05-30%20at%2012_05_30%20PM.png"], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/42119911700114017/42119911700114017.m3u8"}, {"text": "Pulsatile GnRH is used for managing :", "options": [{"label": "A", "text": "Precocious puberty", "correct": false}, {"label": "B", "text": "Fibroid", "correct": false}, {"label": "C", "text": "DUB", "correct": false}, {"label": "D", "text": "Anovulatory infertility", "correct": true}], "correct_answer": "D. Anovulatory infertility", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/36723681700114053/36723681700114053.m3u8"}, {"text": "All of the following statements are true regarding estrogen except:", "options": [{"label": "A", "text": "Responsible for pre-ovulatory LH surge", "correct": false}, {"label": "B", "text": "Causes negative feedback on FSH", "correct": false}, {"label": "C", "text": "Produces proliferative endometrium", "correct": false}, {"label": "D", "text": "Secreted by theca cells", "correct": true}], "correct_answer": "D. Secreted by theca cells", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60085411700114071/60085411700114071.m3u8"}, {"text": "Sensitivity of uterine musculature is:", "options": [{"label": "A", "text": "Enhanced by Estrogen", "correct": false}, {"label": "B", "text": "Enhanced by Progesterone", "correct": false}, {"label": "C", "text": "Enhanced by E and inhibited by P", "correct": true}, {"label": "D", "text": "Enhanced by P and inhibited by E", "correct": false}], "correct_answer": "C. Enhanced by E and inhibited by P", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/62182801700114148/62182801700114148.m3u8"}, {"text": "All of the following incrrease puberty except:", "options": [{"label": "A", "text": "Leptin", "correct": false}, {"label": "B", "text": "Kisspeptin", "correct": false}, {"label": "C", "text": "Glutamate", "correct": false}, {"label": "D", "text": "Neuropeptide Y", "correct": true}], "correct_answer": "D. Neuropeptide Y", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41330861700114163/41330861700114163.m3u8"}, {"text": "The decreasing order of potency of estrogen is:", "options": [{"label": "A", "text": "E3-E2-E1", "correct": false}, {"label": "B", "text": "E2-E1-E3", "correct": true}, {"label": "C", "text": "E1-E2-E3", "correct": false}, {"label": "D", "text": "E2-E3-E1", "correct": false}], "correct_answer": "B. E2-E1-E3", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/4571951700114189/4571951700114189.m3u8"}, {"text": "A sample of cervical mucus is taken on Day 12 of the menstrual cycle: The mucus is thin, clear, elastic. It it placed on a slide and allowed to air dry. When placed under microscope, what would you expect:", "options": [{"label": "A", "text": "Clear field devoid of bacteria", "correct": false}, {"label": "B", "text": "Thick mucus with back ground bacteria", "correct": false}, {"label": "C", "text": "A fern pattern characteristic of estrogen", "correct": true}, {"label": "D", "text": "Clearly defined parabasal cells", "correct": false}], "correct_answer": "C. A fern pattern characteristic of estrogen", "question_images": [], "explanation_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/WhatsApp%20Image%202023-05-31%20at%203_22_05%20PM1.png"], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/4961191700114201/4961191700114201.m3u8"}, {"text": "Major sources of androgen in females are all except:", "options": [{"label": "A", "text": "Adrenals", "correct": false}, {"label": "B", "text": "Ovaries", "correct": false}, {"label": "C", "text": "Peripheral conversion to androgen precursors in the liver, gastro-intestinal tract and adipose tissue", "correct": false}, {"label": "D", "text": "Corpus luteum", "correct": true}], "correct_answer": "D. Corpus luteum", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/6288211700114212/6288211700114212.m3u8"}, {"text": "The maturation index on vaginal cytology is a diagnostic method for evaluating the:", "options": [{"label": "A", "text": "Adequacy of cytotoxic drug therapy", "correct": false}, {"label": "B", "text": "Gender of an anatomically abnormal child", "correct": false}, {"label": "C", "text": "Malignant change at squamo columnar junction of cervix", "correct": false}, {"label": "D", "text": "Endocrine status", "correct": true}], "correct_answer": "D. Endocrine status", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/1705031700114225/1705031700114225.m3u8"}, {"text": "Cornification index or eosinophilic index indicates:", "options": [{"label": "A", "text": "Progesterone effect", "correct": false}, {"label": "B", "text": "Estrogenic effect", "correct": true}, {"label": "C", "text": "Effect of LH", "correct": false}, {"label": "D", "text": "All of the above", "correct": false}], "correct_answer": "B. Estrogenic effect", "question_images": [], "explanation_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/WhatsApp%20Image%202023-05-31%20at%203_33_30%20PM1.png"], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/54421731700114236/54421731700114236.m3u8"}, {"text": "Main source of testosterone in females is:", "options": [{"label": "A", "text": "Adrenal gland", "correct": false}, {"label": "B", "text": "Ovary", "correct": false}, {"label": "C", "text": "Both a and b", "correct": false}, {"label": "D", "text": "Peripheral conversion of androstenediane", "correct": true}], "correct_answer": "D. Peripheral conversion of androstenediane", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/19467421700114249/19467421700114249.m3u8"}, {"text": "False statement regarding spasmodic dysmenorrhea is:", "options": [{"label": "A", "text": "Often cured by delivery of a child", "correct": false}, {"label": "B", "text": "Pain usually appears on the first day of menstruation", "correct": false}, {"label": "C", "text": "Pain persists for 3-5 days", "correct": true}, {"label": "D", "text": "Rare above age of 35 years", "correct": false}], "correct_answer": "C. Pain persists for 3-5 days", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/30374341700114262/30374341700114262.m3u8"}, {"text": "A 20-year-old woman gives a history of sharp pain in the lower abdomen for 2-3 days every month approximately 2 weeks before the menses. The most probable etiology for her pain is:", "options": [{"label": "A", "text": "Endometriosis", "correct": false}, {"label": "B", "text": "Dysmenorrhea", "correct": false}, {"label": "C", "text": "Pelvic tuberculosis", "correct": false}, {"label": "D", "text": "Mittelschmerz syndrome", "correct": true}], "correct_answer": "D. Mittelschmerz syndrome", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/54338781700114297/54338781700114297.m3u8"}, {"text": "Precocious puberty may be seen in all of the following conditions except:", "options": [{"label": "A", "text": "Granulosa - cell tumour", "correct": false}, {"label": "B", "text": "Head - injury", "correct": false}, {"label": "C", "text": "Corticosteroid intake", "correct": false}, {"label": "D", "text": "Hyperthyroidism", "correct": true}], "correct_answer": "D. Hyperthyroidism", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Precocious puberty associated with bony dysplasia and cafe au lait spots in skin is seen in:", "options": [{"label": "A", "text": "Frohlichs syndrome", "correct": false}, {"label": "B", "text": "Alports syndrome", "correct": false}, {"label": "C", "text": "McCune-Albright syndrome", "correct": true}, {"label": "D", "text": "Laurence-Moon-Biedl syndrome", "correct": false}], "correct_answer": "C. McCune-Albright syndrome", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the first sign of puberty in a girl?", "options": [{"label": "A", "text": "Thelarche", "correct": true}, {"label": "B", "text": "Menarche", "correct": false}, {"label": "C", "text": "Adrenarche", "correct": false}, {"label": "D", "text": "Pubarche", "correct": false}], "correct_answer": "A. Thelarche", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The secretion of FSH in a male is inhibited by negative feedback effect of:", "options": [{"label": "A", "text": "Inhibin secreted by Sertoli cells", "correct": true}, {"label": "B", "text": "Inhibin secreted by Leydig cells", "correct": false}, {"label": "C", "text": "Testosterone secreted by Sertoli cells .", "correct": false}, {"label": "D", "text": "Testosterone secreted by Leydig cells", "correct": false}], "correct_answer": "A. Inhibin secreted by Sertoli cells", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/45392641700114356/45392641700114356.m3u8"}, {"text": "A 15-year-old girl, complains of heavy periods since 2 months. O/E: wt 40 kg and BP 120/80 mm Hg. All of the following investigations are indicated, except:", "options": [{"label": "A", "text": "S. TSH", "correct": false}, {"label": "B", "text": "Platelet count", "correct": false}, {"label": "C", "text": "Bleeding and clotting time", "correct": false}, {"label": "D", "text": "Estradiol levels", "correct": true}], "correct_answer": "D. Estradiol levels", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 33-year-old woman who has not started her menses since a vaginal delivery 1 year previously complicated by postpartum hemorrhage. She was unable to breast-feed her baby Which of the following single best direct mechanisms for amenorrhea", "options": [{"label": "A", "text": "Gonadotropin receptor insensitivity", "correct": false}, {"label": "B", "text": "Pituitary dysfunction", "correct": true}, {"label": "C", "text": "Ovarian failure", "correct": false}, {"label": "D", "text": "Ovarian cortical atrophy syndrome", "correct": false}], "correct_answer": "B. Pituitary dysfunction", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Match the letters A,B,C,D with the hormones they represent in the menstrual cycle", "options": [{"label": "A", "text": "A-LH B-FSH C-ESTROGEN D-PROGESTERONE", "correct": false}, {"label": "B", "text": "A-FSH B-LH C- ESTROGEN D-PROGESTERONE", "correct": false}, {"label": "C", "text": "A-ESTROGEN B-PROGESTREONE C-FSH D-LH", "correct": false}, {"label": "D", "text": "A- PROGESTERONE B-ESTROGEN C-LH D-FSH", "correct": true}], "correct_answer": "D. A- PROGESTERONE B-ESTROGEN C-LH D-FSH", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/4(265).jpg"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35646931700114703/35646931700114703.m3u8"}, {"text": "Which of the following is NOT a classic symptom of menopause?", "options": [{"label": "A", "text": "Hot flashes", "correct": false}, {"label": "B", "text": "Insomnia", "correct": false}, {"label": "C", "text": "Visual changes", "correct": true}, {"label": "D", "text": "Vaginal atrophy", "correct": false}], "correct_answer": "C. Visual changes", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of these structures does NOT produce progesterone?", "options": [{"label": "A", "text": "Placenta", "correct": false}, {"label": "B", "text": "Endometrium", "correct": true}, {"label": "C", "text": "Corpus luteum", "correct": false}, {"label": "D", "text": "Follicle", "correct": false}], "correct_answer": "B. Endometrium", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/43818601700114825/43818601700114825.m3u8"}, {"text": "Premenopausal peripheral conversion of estrogen precursors in the obese patient results in the formation of", "options": [{"label": "A", "text": "Estriol", "correct": false}, {"label": "B", "text": "Estradiol", "correct": false}, {"label": "C", "text": "Estrone", "correct": true}, {"label": "D", "text": "Androstenedione", "correct": false}], "correct_answer": "C. Estrone", "question_images": [], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/54923021700114952/54923021700114952.m3u8"}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(