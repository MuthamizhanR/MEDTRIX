<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>ECG VT,V fib &amp; Heart Blocks</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">ECG VT,V fib &amp; Heart Blocks</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                12 Questions | 12 Total Marks | 22 min Duration | ~110.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 12 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 22 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 12</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">ECG VT,V fib &amp; Heart Blocks - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 12</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 12 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "In the ICU, a patient suddenly becomes unresponsive, pulseless, and hypotensive, with cardiac monitor indicating ventricular tachycardia. The first therapeutic step among the following should be:", "options": [{"label": "A", "text": "Amiodarone 300 mg IV push", "correct": false}, {"label": "B", "text": "Lidocaine 1.5 mg /kg IV push", "correct": false}, {"label": "C", "text": "Defibrillation at 200 joules biphasic", "correct": true}, {"label": "D", "text": "Defibrillation at 360 joules biphasic", "correct": false}], "correct_answer": "C. Defibrillation at 200 joules biphasic", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Defibrillation at 200 joules biphasic The standard approach to ventricular fibrillation or pulseless ventricular tachycardia involves defibrillation with 200 joules, followed if needed by epinephrine (1 mg IV push every 3 to 5 min) and/or vasopressin for maintaining brain perfusion.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - So , Option A, B, and D are not the initial management in this case.</p>\n<p><strong>Extraedge:</strong></p><p>Persistent ventricular fibrillation or pulseless ventricular tachycardia leads to consideration of amiodarone 300 mg IV push or lidocaine 1.0 to 1.5 mg/kg IV push (Option B ) . In addition, magnesium Sulphate (1-2 g IV) may be given in Torsade de Points or when arrhythmia due to hypomagnesemia is suspected.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient presents with left-sided weakness of the upper and lower limbs. He is admitted for the same. CT, MRI brain, 2D echo, Holter ECG are done. In the ECG, ventricular tachycardia is seen. Which of the following is true regarding the arrhythmia?", "options": [{"label": "A", "text": "Non-sustained VT terminates spontaneously within 1 minute", "correct": false}, {"label": "B", "text": "Three or more consecutive beats at a rate faster than 100 beats per minute", "correct": true}, {"label": "C", "text": "Three or more consecutive beats at rate slower than 100 beat per minute is called ventricular flutter", "correct": false}, {"label": "D", "text": "Monomorphic VT has a waxing and waning QRS amplitude", "correct": false}], "correct_answer": "B. Three or more consecutive beats at a rate faster than 100 beats per minute", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Three or more consecutive beats at a rate faster than 100 beats per minute. Ventricular tachycardia (VT) is three or more consecutive beats at a rate faster than 100 beats per minute.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. VT that terminates spontaneously within 30 s is designated non-sustained, whereas sustained VT persists >30 s or is terminated by an active intervention, such as administration of an intravenous medication, external cardioversion, erosion, pacing,  or a shock from an implanted cardioverter defibrillator. Option: C. Three or more consecutive beats at slower rates are designated an idioventricular rhythm (VT). Option: D. Polymorphic VT that occurs in the context of prolongation of the QT interval has a waxing and waning QRS amplitude, creating Torsade de Pointes.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 56 year old male patient presents with palpitations and dizziness for a few hours. His vitals are: pulse: 99 bpm, BP: 100/62 mm Hg; spo2: 96% in room air. Ecg shows the following finding: What is the diagnosis?", "options": [{"label": "A", "text": "Atrial fibrillation", "correct": false}, {"label": "B", "text": "Atrial flutter;", "correct": false}, {"label": "C", "text": "Ventricular fibrillation;", "correct": false}, {"label": "D", "text": "Ventricular tachycardia", "correct": true}], "correct_answer": "D. Ventricular tachycardia", "question_images": ["https://dbmi-data.s3.ap-south-1.amazonaws.com/photos-1686807090803-QTDM018003IMG1.JPG"], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Ventricular tachycardia Ventricular tachycardia is defined on ECG by three or more consecutive ventricular beats at a rate faster than 100 beats per minute.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Findings seen in atrial fibrillation are irregularly irregular rhythm, the absence of P waves, and the absence of an isoelectric baseline. Option: B. Positive P waves in lead V1 and a negative sawtooth pattern in leads II, III, and aVF is seen in atrial flutter . Option: C. Ventricular fibrillation (VF) has continuous irregular activation with no discrete QRS complexes.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 66 year old male patient presents with palpitations and dizziness. He has a known case of diabetes and hypertension. He also has a past history of right MCA territory ischemic stroke. His vitals are pulse (92 bpm), BP (100/72mm Hg), and spo2 (97% on room air). The ECG shows ventricular tachycardia. Which statement is incorrect among the following?", "options": [{"label": "A", "text": "Ventricular flutter is a very rapid, monomorphic VT", "correct": false}, {"label": "B", "text": "Hyperkalemia causes slow sinusoidal VTs", "correct": false}, {"label": "C", "text": "Monomorphic or polymorphic VT may transition to ventricular fibrillation.", "correct": false}, {"label": "D", "text": "Non-sustained VT terminates after 30 s only by an active intervention", "correct": true}], "correct_answer": "D. Non-sustained VT terminates after 30 s only by an active intervention", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Non-sustained VT terminates after 30 s only by an active intervention. VT that terminates spontaneously within 30 s is designated non-sustained, whereas sustained VT persists >30 s or is terminated by an active intervention, such as administration of an intravenous medication, external cardioversion, or pacing or a shock from an implanted cardioverter defibrillator.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Very rapid monomorphic VT has a sinusoidal appearance and is known as ventricular flutter, because it is not possible to distinguish the QRS complex from the T wave. Option: B. Hyperkalemia, toxicity from drugs that block sodium channels (e.g., flecainide, propafenone, or tricyclic antidepressants), and severe global myocardial ischemia cause relatively slow sinusoidal VTs with a wide QRS indicative of slowed ventricular conduction . Option: C. Monomorphic or polymorphic VT may transition to ventricular fibrillation in susceptible patients.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is not seen in an ECG showing ventricular tachycardia?", "options": [{"label": "A", "text": "Prominent S-wave in V1 when it originates from the right ventricle;", "correct": false}, {"label": "B", "text": "Dominant R waves in lead II, III, and AVF due to activation of the cranial portion of ventricle first", "correct": false}, {"label": "C", "text": "Dominant S waves in II, III, and AVF when the inferior ventricular wall is activated first", "correct": false}, {"label": "D", "text": "Left bundle branch block like morphology in V1 in arrhythmias originating from the left ventricular free wall", "correct": true}], "correct_answer": "D. Left bundle branch block like morphology in V1 in arrhythmias originating from the left ventricular free wall", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Left bundle branch block like morphology in V1 in arrhythmias originating from the left ventricular free wall. Arrhythmias that originate from the free wall of the left ventricle have a prominent positive deflection in V1 and produce a right bundle branch block-like morphology in V1.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Arrhythmias that originate from the right ventricle or septum result in late activation of much of the left ventricle, thereby producing a prominent S-wave in V1, referred to as a left bundle branch-block like configuration. Option: B & C. The frontal plane axis of the QRS is also useful in an axis directed inferiorly, as indicated by dominant R waves in lead II, III, and AVF, which suggests initial activation of the cranial portion of the ventricle. An axis that is directed superiorly with dominant S waves in II, III, and AVF suggests initial activation at the inferior wall.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 65 year old male patient presents with breathlessness and chest pain. He has a known case of diabetes mellitus, hypertension, and obstructive sleep apnea. His vitals are: Pulse: 99 bpm, BP: 100/62 mm Hg, spo2: 96% in room air and BMI: is 30 kg/m2. He is diagnosed as myocardial infarction based on ECG findings and elevated troponin. Two days following admission, ecg shows following finding. What is the diagnosis?", "options": [{"label": "A", "text": "Atrial fibrillation", "correct": false}, {"label": "B", "text": "Atrial flutter", "correct": false}, {"label": "C", "text": "Ventricular fibrillation", "correct": true}, {"label": "D", "text": "Ventricular tachycardia", "correct": false}], "correct_answer": "C. Ventricular fibrillation", "question_images": ["https://dbmi-data.s3.ap-south-1.amazonaws.com/photos-1686807090814-QTDM018006IMG1.JPG"], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Ventricular fibrillation Following Ecg, there is continuous irregular activation with no discrete QRS complexes seen in ventricular fibrillation.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Findings seen in atrial fibrillation are an irregularly irregular rhythm, the absence of P waves, absence of an isoelectric baseline. Option: B . Positive P waves in lead V1 and negative sawtooth pattern in leads II, III, and aVF are seen in atrial flutter. Option: D. Ventricular tachycardia is defined on ECG by three or more consecutive ventricular beats at a rate faster than 100 beats per minute.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient diagnosed with ventricular tachycardia has been fitted with an implantable cardioverter defibrillator. He wants to know more about the device. Which of the following is incorrect regarding the same?", "options": [{"label": "A", "text": "VF is terminated by a shock, whereas monomorphic VT is terminated by a burst of rapid pacing faster than the VT", "correct": false}, {"label": "B", "text": "Shocks are painful if the patient is conscious", "correct": false}, {"label": "C", "text": "Delivery of unnecessary therapy is the most common complication", "correct": false}, {"label": "D", "text": "ICDs are recommended if there is atleast two-years expectation for survival with the acceptable functional capacity", "correct": true}], "correct_answer": "D. ICDs are recommended if there is atleast two-years expectation for survival with the acceptable functional capacity", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>ICDs are recommended if there is atleast two-years expectation for survival with the acceptable functional capacity.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A :VF is terminated by a shock applied between a lead in the RV and the ICD pulse generator. Monomorphic VT can often be terminated by a burst of rapid pacing faster than the VT , known as anti-tachycardia pacing (ATP). If ATP fails or is not a programmed treatment, as is often the case for rapid VT or VF, a shock is delivered. Option B: Shocks are painful if the patient is conscious. Option C : The most common ICD complication is the delivery of unnecessary therapy (either ATP or shocks) in response to a rapid supraventricular tachycardia or electrical noise as a result of an ICD lead fracture.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is not a cause of torsades de pointes?", "options": [{"label": "A", "text": "Hypercalcaemia", "correct": true}, {"label": "B", "text": "Hypokalemia", "correct": false}, {"label": "C", "text": "Hypomagnesemia", "correct": false}, {"label": "D", "text": "None of the above", "correct": false}], "correct_answer": "A. Hypercalcaemia", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Hypercalcaemia Hypocalcemia is the cause of torsades de pointes , not hypercalcaemia. Hypokalemia and hypomagnesemia are also causes of torsades de pointes. Below are some other causes: Congenital long QT syndromes Acquired Prolongation of QT Interval Electrolyte abnormalities: hypokalemia, hypomagnesemia, hypocalcemia</p>\n<p><strong>Highyeild:</strong></p><p>A ntiarrhythmic drugs (Class IA): quinidine, disopyramide, and procainamide Class III: sotalol, amiodarone, ibutilide, dofetilide, almokalant Antibiotics Macrolides, Fluroquinolones, Trimethoprim-sulfamethoxazole, Clindamycin Antifungals : Ketoconazole, itraconazole Antivirals : Amantadine Antipsychotics Haloperidol phenothiazines, thioridazine, trifluoperazine, ziprasidone Tricyclic antidepressants Antihistamines Terfenadine, astemizole, diphenhydramine, hydroxyzine Endocrine disorders Hypothyroidism, Hyperparathyroidism Pheochromocytoma, Hyperaldosteronism Intracranial disorders Subarachnoid hemorrhage Cerebrovascular accident, Encephalitis, Head injury</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient is diagnosed with first degree AV block. Which of the following is correct regarding the ECG changes in this case ?", "options": [{"label": "A", "text": "Delay in the distal conduction system causes a wide QRS complex", "correct": false}, {"label": "B", "text": "Delay in the AV node proper causes a narrow QRS complex", "correct": false}, {"label": "C", "text": "Intermittent failure of conduction of the P wave with constant PR or RR intervals", "correct": false}, {"label": "D", "text": "Both A and B", "correct": true}], "correct_answer": "D. Both A and B", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Both A and B First-degree AV block (PR interval >200 ms) is a slowing of conduction through the AV junction. The site of delay is typically in the AV node but may be in the atria, bundle of His, or His-Purkinje system. A wide QRS is suggestive of delay in the distal conduction system, whereas a narrow QRS suggests delay in the AV node proper or, less commonly, in the bundle of His.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: C. Intermittent failure of conduction of the P wave without changes in the preceding PR or RR intervals is characteristic of Type II second-degree AV block.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 48 year-old male patient presents to the emergency department with a history of collapse. There is no history of trauma to the head. On examination, vitals are: pulse, 50 beats per minute; BP,98/60 mm Hg. An ECG is taken, which shows following finding: What is the diagnosis?", "options": [{"label": "A", "text": "First degree heart block", "correct": false}, {"label": "B", "text": "Mobitz, type 1 heart block", "correct": true}, {"label": "C", "text": "Mobitz, type 2 heart block", "correct": false}, {"label": "D", "text": "Paroxysmal AV block", "correct": false}], "correct_answer": "B. Mobitz, type 1 heart block", "question_images": ["https://dbmi-data.s3.ap-south-1.amazonaws.com/photos-1686807090830-QTDM018010IMG1.JPG"], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Mobitz, type 1 heart block Mobitz type I block is characterised by a progressively lengthening PR interval, a shortening of the RR interval, and a pause that is less than two times the immediately preceding RR interval .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. In first-degree AV heart block, the PR interval is prolonged,e., >200 ms. Option: C. Mobitz type II second-degree AV block is characterised by intermittent failure of conduction of the P wave without changes in the preceding PR or RR intervals . Option: D. Second-degree AV block, particularly type II, may be associated with a series of nonconducted P waves and is referred to as paroxysmal AV block.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is an incorrect pair regarding AV conduction blocks?", "options": [{"label": "A", "text": "Intermittent failure of conduction of the P wave without change in preceding PR or RR intervals ( Mobitz type II)", "correct": false}, {"label": "B", "text": "Progressively lengthening PR interval (Mobitz type I)", "correct": false}, {"label": "C", "text": "Shortening of the RR interval (Mobitz type II)", "correct": true}, {"label": "D", "text": "Complete failure of conduction from atrium to ventricle - third degree block", "correct": false}], "correct_answer": "C. Shortening of the RR interval (Mobitz type II)", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Shortening of the RR interval (Mobitz type II) A Progressively shortening of the RR interval, lengthening of the PR interval, and a pause that is less than two times the immediately preceding RR interval is seen in Mobitz type I blocks.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. Mobitz type II second-degree AV block is characterised by intermittent failure of conduction of the P wave without changes in the preceding PR or RR intervals. Option: B. Mobitz type I block is characterised by a progressively lengthening PR interval. Option: D. Complete failure of conduction from the atrium to the ventricle is referred to as â€˜â€™complete or third-degreeâ€™â€™ AV block.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient is diagnosed with second degree AV heart block based on ecg findings. Which of the following is incorrect regarding treatment modalities?", "options": [{"label": "A", "text": "Artificial pacing is the most reliable treatment for symptomatic disease", "correct": false}, {"label": "B", "text": "Isoproterenol can be used in AV nodal blocks", "correct": false}, {"label": "C", "text": "Asymptomatic second-degree heart block with a wide QRS complex requires pacing", "correct": false}, {"label": "D", "text": "Pacing is the treatment of choice for fascicular blocks developing in acute MI", "correct": true}], "correct_answer": "D. Pacing is the treatment of choice for fascicular blocks developing in acute MI", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Pacing is the treatment of choice for fascicular blocks developing in acute MI. Fascicular blocks that develop in acute MI in the absence of other forms of AV block do not require pacing.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option: A. T emporary or permanent artificial pacing is the most reliable treatment for patients with symptomatic AV conduction system disease. Option: B. Pharmacotherapy with isoproterenol or atropine may be useful if the block is in the AV node. Option: C. Patients who have asymptomatic second-degree AV block of either type should be considered for pacing if the block is demonstrated to be intra- or infra-His or is associated with a wide QRS complex.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(