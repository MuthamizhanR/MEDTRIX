<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Anesthesia Ibq</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Anesthesia Ibq</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                20 Questions | 80 Total Marks | 30 min Duration | ~90.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 20 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 30 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 20</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Anesthesia Ibq - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 20</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 20 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 45-year-old woman presented to the ER with dizziness. Her blood pressure is 80/60 mmHg, pulse rate is 45/minute. She was subsequently put in the below position. What was the reason for using this position?", "options": [{"label": "A", "text": "She was conscious and pulse present", "correct": false}, {"label": "B", "text": "She was unconscious and pulse present", "correct": true}, {"label": "C", "text": "She was conscious and no pulse", "correct": false}, {"label": "D", "text": "She was having seizures", "correct": false}], "correct_answer": "B. She was unconscious and pulse present", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/1(862).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient is undergoing preanesthetic evaluation. He is seated upright with the head neutral, mouth open, tongue protruded, and no phomation. The image of the mouth is given below. Which class does he belong to according to the modified Mallampati score?", "options": [{"label": "A", "text": "Class IV", "correct": false}, {"label": "B", "text": "Class III", "correct": false}, {"label": "C", "text": "Class II", "correct": false}, {"label": "D", "text": "Class I", "correct": true}], "correct_answer": "D. Class I", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/2(753).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 25-year-old football player is brought to the emergency room after falling on the field during a match. His X-ray shows the findings-below. Which of the following peripheral blocks is indicated to restore the normal anatomy?", "options": [{"label": "A", "text": "Supraclavicular block", "correct": false}, {"label": "B", "text": "Interscalene block", "correct": true}, {"label": "C", "text": "Infraclavicular block", "correct": false}, {"label": "D", "text": "Axillary block", "correct": false}], "correct_answer": "B. Interscalene block", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/3(673).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the advantage of the following device?", "options": [{"label": "A", "text": "Has a port for orogastric tube", "correct": false}, {"label": "B", "text": "Can facilitate endotracheal intubation", "correct": true}, {"label": "C", "text": "Ideal for infants alone", "correct": false}, {"label": "D", "text": "Suction tube to remove secretions", "correct": false}], "correct_answer": "B. Can facilitate endotracheal intubation", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/4(621).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In the following condition as shown in the radiograph, which of the following procedures would be difficult to perform?", "options": [{"label": "A", "text": "Nasogastric tube insertion", "correct": false}, {"label": "B", "text": "Laryngeal mask airway", "correct": false}, {"label": "C", "text": "Tracheostomy", "correct": true}, {"label": "D", "text": "Indirect laryngoscopy", "correct": false}], "correct_answer": "C. Tracheostomy", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/5(595).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "As an intern posted in the OT, you see the Anesthesia Senior Resident holding the needle shown in the image. What is the likely procedure that he is about to perform?", "options": [{"label": "A", "text": "Spinal anesthesia", "correct": false}, {"label": "B", "text": "Epidural anesthesia", "correct": true}, {"label": "C", "text": "Combined spinal epidural anesthesia", "correct": false}, {"label": "D", "text": "IV cannulation", "correct": false}], "correct_answer": "B. Epidural anesthesia", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/6(484).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 58-year-old man presented to the casualty with complaints of increasing shortness of breath, lightheadedness, and palpitations. He had an irregularly irregular pulse and blood pressure was 70\\30 mm Hg. Soon the patient becomes unresponsive and with following ECG is obtained. What is the treatment of choice?", "options": [{"label": "A", "text": "Immediate defibrillation", "correct": true}, {"label": "B", "text": "Synchronized cardioversion", "correct": false}, {"label": "C", "text": "IV adenosine", "correct": false}, {"label": "D", "text": "IV ibutilide", "correct": false}], "correct_answer": "A. Immediate defibrillation", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/7(433).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The type of laryngoscope blade shown in the given image is", "options": [{"label": "A", "text": "McCoy", "correct": false}, {"label": "B", "text": "Macintosh", "correct": true}, {"label": "C", "text": "Miller", "correct": false}, {"label": "D", "text": "Magill", "correct": false}], "correct_answer": "B. Macintosh", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/8(412).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 45-year-old male patient with COVID-19 infection develops shortness of breath and is brought to the hospital. His SpO2 increases from 81% to 83% on administering oxygen via facemask at 10 L/min. The decision to deliver oxygen using the device shown below is made. What is its oxygen delivery rate?", "options": [{"label": "A", "text": "1-6 L/min", "correct": false}, {"label": "B", "text": "2-15 L/min", "correct": false}, {"label": "C", "text": "10-15 L/min", "correct": false}, {"label": "D", "text": "40-60 L/min", "correct": true}], "correct_answer": "D. 40-60 L/min", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/9(367).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the type of circuit shown in the image?", "options": [{"label": "A", "text": "Mapleson circuit", "correct": false}, {"label": "B", "text": "Scavenging system", "correct": false}, {"label": "C", "text": "Closed circuit", "correct": true}, {"label": "D", "text": "Back pressure valve", "correct": false}], "correct_answer": "C. Closed circuit", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/10(340).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the mask in the image used for patients with COVID-19 infection.", "options": [{"label": "A", "text": "Venturi mask", "correct": false}, {"label": "B", "text": "Hudson mask", "correct": false}, {"label": "C", "text": "Nebuliser", "correct": false}, {"label": "D", "text": "Non-rebreathing mask", "correct": true}], "correct_answer": "D. Non-rebreathing mask", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/11(292).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following statements is incorrect concerning the drug in the image below?", "options": [{"label": "A", "text": "Associated with bacterial contamination", "correct": false}, {"label": "B", "text": "Associated with multiorgan dysfunction", "correct": false}, {"label": "C", "text": "Reduces postoperative nausea and vomiting", "correct": false}, {"label": "D", "text": "Contraindicated in egg allergic patients", "correct": true}], "correct_answer": "D. Contraindicated in egg allergic patients", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/12(280).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "During your evening rounds in the ICU, you notice that the capnograph of a patient on controlled ventilation is as shown below. Which of the following is a likely cause that you would suspect ?", "options": [{"label": "A", "text": "Esophageal intubation", "correct": false}, {"label": "B", "text": "Expiratory valve malfunction", "correct": false}, {"label": "C", "text": "Bronchospasm", "correct": false}, {"label": "D", "text": "Spontaneous respiratory effort", "correct": true}], "correct_answer": "D. Spontaneous respiratory effort", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/13(247).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the safety feature in the image below and its correct use?", "options": [{"label": "A", "text": "Pressure relief valve which prevents leak of gases", "correct": false}, {"label": "B", "text": "Diameter index safety system that prevents wrong attachment of pipeline to machine", "correct": false}, {"label": "C", "text": "Pin index safety system that prevents wrong attachment of cylinder to machine", "correct": true}, {"label": "D", "text": "Pin index safety system that prevents wrong attachment of pipeline to machine", "correct": false}], "correct_answer": "C. Pin index safety system that prevents wrong attachment of cylinder to machine", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/14(225).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Identify the device shown below:", "options": [{"label": "A", "text": "Mapleson type of circuit", "correct": true}, {"label": "B", "text": "Closed circuit", "correct": false}, {"label": "C", "text": "Scavenging system", "correct": false}, {"label": "D", "text": "Sodalime", "correct": false}], "correct_answer": "A. Mapleson type of circuit", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/15(236).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 47-year-old woman was brought to the casualty in an unconscious state after having suddenly collapsed. As there was no pulse, cardiopulmonary resuscitation was started and the monitor showed the following rhythm. What is the next step?", "options": [{"label": "A", "text": "1 mg epinephrine IV", "correct": true}, {"label": "B", "text": "Synchronized cardioversion", "correct": false}, {"label": "C", "text": "Defibrillation", "correct": false}, {"label": "D", "text": "0.5 mg atropine IV", "correct": false}], "correct_answer": "A. 1 mg epinephrine IV", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/16(211).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What procedure is the following device most suitable for?", "options": [{"label": "A", "text": "laparoscopic surgery", "correct": false}, {"label": "B", "text": "Cleft palate surgery", "correct": true}, {"label": "C", "text": "Laryngeal surgery", "correct": false}, {"label": "D", "text": "Thoracic surgery", "correct": false}], "correct_answer": "B. Cleft palate surgery", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/17(175).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What gas is the following cylinder used to carry?", "options": [{"label": "A", "text": "Entonox", "correct": false}, {"label": "B", "text": "Air", "correct": false}, {"label": "C", "text": "Oxygen", "correct": false}, {"label": "D", "text": "Nitrous oxide", "correct": true}], "correct_answer": "D. Nitrous oxide", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/18(172).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A mixture of gas X and oxygen is sometimes used in anesthetic practice to provide relief from upper airway edema until more definitive care can be delivered. Gas X is stored in the cylinder shown below. According to the Pin Index Safety System (PISS), what is the pin index of the given cylinder containing only gas X?", "options": [{"label": "A", "text": "1,4", "correct": false}, {"label": "B", "text": "1,6", "correct": false}, {"label": "C", "text": "No Pin", "correct": true}, {"label": "D", "text": "7", "correct": false}], "correct_answer": "C. No Pin", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/19(163).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "What is the procedure being done in the image?", "options": [{"label": "A", "text": "Bier Block", "correct": true}, {"label": "B", "text": "Axillary nerve block", "correct": false}, {"label": "C", "text": "Median nerve block", "correct": false}, {"label": "D", "text": "Wrist block", "correct": false}], "correct_answer": "A. Bier Block", "question_images": ["https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/20(169).png"], "explanation_images": [], "explanation": "<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(