<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Adenotonsillectomy</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`üß† Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Adenotonsillectomy</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                8 Questions | 8 Total Marks | 18 min Duration | ~135.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 8 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 18 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 8</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Adenotonsillectomy - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 8</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 8 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "A 6-year-old child presented with recurrent URTI with mouth breathing and failure to grow high arched palate and impaired hearing: Most appropriate management of this case:", "options": [{"label": "A", "text": "Tonsillectomy", "correct": false}, {"label": "B", "text": "Grommet Insertion", "correct": false}, {"label": "C", "text": "Myringotomy with grommet insertion", "correct": false}, {"label": "D", "text": "Adenoidectomy with grommet insertion", "correct": true}], "correct_answer": "D. Adenoidectomy with grommet insertion", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Adenoidectomy with grommet insertion The child has recurrent URTI with a high-arched palate and failure to grow, which indicates the child has adenoids . Since there is impaired hearing, it means the child has developed otitis media as a complication. Hence logically, the child should be treated with adenoidectomy with grommet insertion. The following lines from Scott Brown further support this. ‚ÄúCurrent practice is to perform adenoidectomy as an adjunct to insert ventilation tubes.‚Äù</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Indications for Adenoidectomy in children include:", "options": [{"label": "A", "text": "Recurrent sinusitis", "correct": false}, {"label": "B", "text": "Middle ear infection with deafness", "correct": false}, {"label": "C", "text": "Obstructive sleep apnea", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>All of the above All the above options are indications of adenoidectomy.</p>\n<p><strong>Highyeild:</strong></p><p>Indications for Adenoidectomy Adenoid hypertrophy causes snoring, mouth breathing, sleep apnoea syndrome or speech abnormalities, i.e. (rhinolalia clausa). Recurrent rhinosinusitis. Chronic otitis media with effusion associated with adenoiditis/adenoid hyperplasia. Recurrent ear discharge in benign CSOM associated with adenoiditis/adenoid hyperplasia. Dental malocclusion. Adenoidectomy does not correct dental abnormalities but will prevent their recurrence after orthodontic treatment.</p>\n<p><strong>Extraedge:</strong></p><p>CONTRAINDICATIONS OF ADENOIDECTOMY Cleft palate or submucous palate. Removal of adenoids causes velopharyngeal insufficiency in such cases. Haemorrhagic diathesis. Acute infection of upper respiratory tract.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 5-year-old patient is scheduled for a tonsillectomy. On the day of surgery, he had a runny nose, a temperature of 37.5¬∞C and a dry cough. Which of the following should be the most appropriate decision for surgery?", "options": [{"label": "A", "text": "Surgery should be cancelled", "correct": false}, {"label": "B", "text": "Can proceed for surgery if chest is clear and there is no history of asthma", "correct": false}, {"label": "C", "text": "Should get an X-ray chest before proceeding with surgery", "correct": false}, {"label": "D", "text": "Cancel surgery for three weeks, and the patient to be on antibiotic", "correct": true}], "correct_answer": "D. Cancel surgery for three weeks, and the patient to be on antibiotic", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Cancel surgery for three weeks, and the patient to be on antibiotic ‚ÄúThere are no absolute contraindications to tonsillectomy . As such, tonsillectomy is an elective operation and should not be undertaken in the presence of respiratory tract infections or during incubation after contact with one of the infectious diseases if there are tonsillar inflammations. It is much safer to wait some three weeks after an acute inflammatory illness before operating because of the greatly increased risk of postoperative haemorrhage.‚Äù ‚Äì Turner 10/e, p 365,366</p>\n<p><strong>Highyeild:</strong></p><p>CONTRAINDICATIONS OF TONSILLECTOMY Haemoglobin level less than ten g%. Presence of acute infection in the upper respiratory tract, even acute tonsillitis. Bleeding is more in the presence of acute infection. Children under three years of age. They are poor surgical risks. Overt or submucous cleft palate. Von Willebrand disease. Bleeding disorders, e.g. leukaemia, purpura, aplastic anaemia, haemophilia or sickle cell disease. At the time of the epidemic of polio. Uncontrolled systemic disease, e.g. diabetes, cardiac disease, hypertension or asthma. Tonsillectomy is avoided during the period of menses.</p>\n<p><strong>Extraedge:</strong></p><p>Usually done under general anaesthesia with endotracheal intubation. In adults, it may be done under local anaesthesia. Done in Rose‚Äôs position, i.e. patient lies supine with head extended by placing a pillow under the shoulders. A rubber ring is placed under the head to stabilize it . Hyperextension should always be avoided.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Secondary haemorrhage after tonsillectomy develops:", "options": [{"label": "A", "text": "Within 12 hrs", "correct": false}, {"label": "B", "text": "Within 24 hrs", "correct": false}, {"label": "C", "text": "Within six days", "correct": true}, {"label": "D", "text": "Within one month", "correct": false}], "correct_answer": "C. Within six days", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Within six days Secondary haemorrhage is usually seen between the fifth to tenth postoperative day . It is the result of sepsis and premature separation of the membrane . Usually, it is heralded by bloodstained sputum but may be profuse.</p>\n<p><strong>Highyeild:</strong></p><p>Primary haemorrhage - Occurs at the time of operation. It can be controlled by pressure, ligation or electrocoagulation of the bleeding vessels. Reactionary haemorrhage - Occurs within 24 h and can be controlled by simple measures such as removing the clot, applying pressure or vasoconstrictor. The presence of a clot prevents the clipping action of the superior constrictor muscle on the vessels which pass through it. Secondary haemorrhage - Usually seen between the fifth to tenth postoperative day. It is the result of sepsis and premature separation of the membrane. Usually, it is heralded by bloodstained sputum but may be profuse.</p>\n<p><strong>Extraedge:</strong></p><p>TECHNIQUES OF TONSILLECTOMY/ TONSILLOTOMY Cold methods Dissection and snare (most common) Guillotine method Intracapsular (capsule preserving) tonsillectomy with debrider Harmonic scalpel (ultrasound) Plasma-mediated ablation or dissection technique (coblation) Cryosurgical technique Hot methods Electrocautery Laser tonsillectomy or tonsillotomy (CO2 or KTP) Radiofrequency</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 15 year of age presents with haemorrhage 5 hours after tonsillectomy. Treatment of choice is?", "options": [{"label": "A", "text": "External Gauze Packing", "correct": false}, {"label": "B", "text": "Antibiotics and mouthwash", "correct": false}, {"label": "C", "text": "Irrigation With Saline", "correct": false}, {"label": "D", "text": "Reopen Immediately", "correct": true}], "correct_answer": "D. Reopen Immediately", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Reopen Immediately Primary Haemorrhage occurs within 1st 24hrs postoperatively . It requires surgical intervention. So, the above question says that haemorrhage has occurred after 5hrs of tonsillectomy, i.e. it is primary and should be surgically intervened and reopened immediately.</p>\n<p><strong>Highyeild:</strong></p><p>Primary haemorrhage - Occurs at the time of operation. It can be controlled by pressure, ligation or electrocoagulation of the bleeding vessels. Reactionary haemorrhage - Occurs within 24 h and can be controlled by simple measures such as removing the clot, applying pressure or vasoconstrictor. The presence of a clot prevents the clipping action of the superior constrictor muscle on the vessels which pass through it. Secondary haemorrhage - Usually seen between the fifth to tenth postoperative day. It is the result of sepsis and premature separation of the membrane. Usually, it is heralded by bloodstained sputum but may be profuse.</p>\n<p><strong>Extraedge:</strong></p><p>TECHNIQUES OF TONSILLECTOMY/ TONSILLOTOMY Cold methods Dissection and snare (most common) Guillotine method Intracapsular (capsule preserving) tonsillectomy with debrider Harmonic scalpel (ultrasound) Plasma-mediated ablation or dissection technique (coblation) Cryosurgical technique Hot methods Electrocautery Laser tonsillectomy or tonsillotomy (CO2 or KTP) Radiofrequency</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 14-year-old girl presented with slow progressive difficulty in respiration and deglutition and five episodes of a sore throat for the past two years. A pharyngeal examination showed that the right tonsil was about three times larger than the left. Tonsillectomy was suggested for this patient. Which among the following is not an indication of tonsillectomy?", "options": [{"label": "A", "text": "Hypertrophy of Tonsil", "correct": false}, {"label": "B", "text": "Peritonsillar Abscess", "correct": false}, {"label": "C", "text": "Chronic tonsillitis unresponsive to treatment.", "correct": false}, {"label": "D", "text": "Acute tonsillitis with upper respiratory tract infection.", "correct": true}], "correct_answer": "D. Acute tonsillitis with upper respiratory tract infection.", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Acute tonsillitis with upper respiratory tract infection. Acute infection in the upper respiratory tract, even acute tonsillitis, is a contraindication for tonsillectomy . Bleeding is more in the presence of acute infection.</p>\n<p><strong>Highyeild:</strong></p><p>Indications of tonsillectomy A. ABSOLUTE Recurrent infections of the throat . This is the most common Recurrent infections are further defined as: (a) Seven or more episodes in 1 year, or (b) Five episodes per year for two years, or (c) Three episodes per year for three years, or (d) Two Weeks Or more of lost school or work in 1 year. Peritonsillar abscess . In children, tonsillectomy is done 4‚Äì6 weeks after the abscess has been treated. In adults, a second attack of peritonsillar abscess forms the absolute indication. Tonsillitis which causes febrile seizures. Hypertrophy of the tonsils causing. (a) airway obstruction (sleep apnoea), (b) difficulty in deglutition and (c) interference with speech. Suspicion of malignancy . A unilaterally enlarged tonsil may be lymphoma in children and an epidermoid carcinoma in adults. An excisional biopsy is done. B. RELATIVE Diphtheria carriers, who do not respond to antibiotics. Streptococcal carriers, which may be the source of infection to others. Chronic tonsillitis with bad taste or halitosis is unresponsive to medical treatment. Recurrent streptococcal tonsillitis in a patient with valvular heart disease.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options:- OPTION A- Hypertrophy of the Tonsil is an indication of tonsillectomy. OPTION B- Peritonsillar Abscess is also an indication of tonsillectomy. OPTION C- chronic tonsillitis unresponsive to treatment is also an indication of tonsillectomy.</p>\n<p><strong>Extraedge:</strong></p><p>CONTRAINDICATIONS Haemoglobin level less than 10 g%. Presence of acute infection in upper respiratory tract, even acute tonsillitis. Bleeding is more in the presence of acute infection. Children under 3 years of age. They are poor surgical risks. Overt or submucous cleft palate. Von Willebrand disease. Bleeding disorders, e.g. leukaemia, purpura, aplastic anaemia, haemophilia or sickle cell disease. At the time of epidemic of polio. Uncontrolled systemic disease, e.g. diabetes, cardiac disease, hypertension or asthma. Tonsillectomy is avoided during the period of menses.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 10-year-old boy complained of neck pain and limited range of neck movement after adenoidectomy. What would be the complication of adenoidectomy in this case?", "options": [{"label": "A", "text": "Grisel‚Äô S Syndrome", "correct": true}, {"label": "B", "text": "Velopharyngeal Insufficiency", "correct": false}, {"label": "C", "text": "Hemorrhage", "correct": false}, {"label": "D", "text": "Injury to the eustachian tube opening", "correct": false}], "correct_answer": "A. Grisel‚Äô S Syndrome", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Grisel‚Äô S Syndrome In Grisel‚Äôs syndrome, the patient complains of neck pain and develops torticollis . Mostly it is due to spasms of paraspinal muscles , but it can be due to atlantoaxial dislocation requiring a cervical collar and even traction.</p>\n<p><strong>Highyeild:</strong></p><p>GRISEL SYNDROME It is a complication of adenoidectomy. The patient complains of neck pain and develops torticollis. Mostly it is due to spasms of paraspinal muscles, but it can be due to atlantoaxial dislocation requiring a cervical collar and even traction.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - OPTION B- Velopharyngeal insufficiency is characterised by hypernasal speech, nasal emission and turbulence, and in some cases, nasal regurgitation of fluids. OPTION C- Haemorrhage is usually seen during the immediate postoperative period. The nose and mouth may be full of blood, or the only indication may be vomitus of dark-coloured blood, which the patient had been swallowing gradually in the postoperative period. A rising pulse rate is another indicator. OPTION D- Adenoidectomy is a common obstructive sleep apnoea and nasal obstruction procedure. Curettage is the most common technique but is associated with complications (mucosal trauma, bleeding) that may cause eustachian tube dysfunction (ETD).</p>\n<p><strong>Extraedge:</strong></p><p>It is a nontraumatic atlantoaxial subluxation, usually secondary to an infection or an inflammation at the head and neck region. It can be observed after surgery of the head and neck region.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A 13-year-old boy had bleeding 12 hrs after tonsillectomy. Immediately vasoconstrictors were given by the concerned doctors. What is the type of haemorrhage in this situation?", "options": [{"label": "A", "text": "Primary Haemorrhage", "correct": false}, {"label": "B", "text": "Secondary Haemorrhage", "correct": false}, {"label": "C", "text": "Reactionary Haemorrhage", "correct": true}, {"label": "D", "text": "None of the above", "correct": false}], "correct_answer": "C. Reactionary Haemorrhage", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Reactionary Haemorrhage Reactionary haemorrhage occurs within 24 h and can be controlled by simple measures such as removing the clot, applying pressure or vasoconstrictor . The presence of a clot prevents the clipping action of the superior constrictor muscle on the vessels which pass through it (compare postpartum uterine bleeding). If the above measures fail, ligation or electrocoagulation of the bleeding vessels can be done under general anaesthesia.</p>\n<p><strong>Highyeild:</strong></p><p>1. Primary haemorrhage - Occurs at the time of operation. It can be controlled by pressure, ligation or electrocoagulation of the bleeding vessels. Reactionary haemorrhage - Occurs within 24 h and can be controlled by simple measures such as removing the clot, applying pressure or vasoconstrictor. The presence of a clot prevents the clipping action of the superior constrictor muscle on the vessels which pass through it. Secondary haemorrhage - Usually seen between the fifth to tenth postoperative day. It is the result of sepsis and premature separation of the membrane. Usually, it is heralded by bloodstained sputum but may be profuse.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - OPTION A- Primary Haemorrhage occurs at the time of operation. OPTION B- Secondary Haemorrhage is usually seen between the fifth to tenth postoperative day. It is the result of sepsis and premature separation of the membrane.</p>\n<p><strong>Extraedge:</strong></p><p>TECHNIQUES OF TONSILLECTOMY/ TONSILLOTOMY Cold methods Dissection and snare (most common) Guillotine method Intracapsular (capsule preserving) tonsillectomy with debrider Harmonic scalpel (ultrasound) Plasma-mediated ablation or dissection technique (coblation) Cryosurgical technique Hot methods Electrocautery Laser tonsillectomy or tonsillotomy (CO2 or KTP) Radiofrequency</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(