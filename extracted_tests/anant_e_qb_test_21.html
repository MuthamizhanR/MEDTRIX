<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>CVS Development - Heart Tube &amp; Derivates</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`ðŸ§  Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">CVS Development - Heart Tube &amp; Derivates</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                12 Questions | 12 Total Marks | 22 min Duration | ~110.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 12 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 22 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 12</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">CVS Development - Heart Tube &amp; Derivates - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 12</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 12 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "Fibrous pericardium develops from:", "options": [{"label": "A", "text": "Septum transversum", "correct": true}, {"label": "B", "text": "Somatopleuric lateral plate mesoderm", "correct": false}, {"label": "C", "text": "Splanchnopleuric lateral plate mesoder", "correct": false}, {"label": "D", "text": "Cardiac jelly", "correct": false}], "correct_answer": "A. Septum transversum", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Septum transversum Fibrous pericardium develops from septum transversum. Septum transversum also forms a part of the diaphragm.</p>\n<p><strong>Highyeild:</strong></p><p>The cranial part of the septum transversum gives rise to the central tendon of the diaphragm. It is the origin of the myoblasts that invade the pleuroperitoneal folds resulting in the formation of the muscular diaphragm. The caudal part of the septum transversum is invaded by the hepatic diverticulum, which divides within it to form the liver and thus gives rise to the ventral mesentery of the foregut , which in turn is the precursor of the lesser omentum, the visceral peritoneum of the liver and the falciform ligament .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option B. somatopleuric lateral plate mesoderm Somatopleuric lateral plate mesoderm forms a parietal layer of the serous pericardium. Option C. splanchnopleuric lateral plate mesoderm Splanchnopleuric lateral plate mesoderm forms cardiac jelly and myoepithelial mantle. Option D. Cardiac jelly Cardiac jelly forms an endocardial cushion, whereas myoepithelial mantle forms cardiac muscles and epicardium (visceral layer of the serous pericardium) cardiac jelly forms endocardial cushion .</p>\n<p><strong>Extraedge:</strong></p><p>After successful craniocaudal folding, the septum transversum picks up innervation from the adjacent ventral rami of spinal nerves C3, C4 and C5 , thus forming the precursor of the phrenic nerve. During the descent of the septum, the phrenic nerve is carried along and assumes its descending pathway.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The parietal layer of the serous pericardium arises from which of the following structures?", "options": [{"label": "A", "text": "Septum Transversum", "correct": false}, {"label": "B", "text": "Somatopleuric lateral plate mesoderm", "correct": true}, {"label": "C", "text": "Splanchnopleuric lateral plate mesoderm", "correct": false}, {"label": "D", "text": "Cardiac jelly", "correct": false}], "correct_answer": "B. Somatopleuric lateral plate mesoderm", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Somatopleuric lateral plate mesoderm The parietal layer of the serous pericardium arises from the Somatopleuric lateral plate mesoderm.</p>\n<p><strong>Highyeild:</strong></p><p>The lateral plate mesoderm will split into two layers, the somatopleuric mesenchyme and the splanchnopleuric mesenchyme . The somatopleuric layer forms the future body wall. The splanchnopleuric layer forms the circulatory system. Spaces within the lateral plate are enclosed and form the intraembryonic coelom. It is formed by the secretion of BMP-4 by the ectoderm.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A. Septum Transversum Fibrous pericardium develops from the septum transversum. Option C. Splanchnopleuric lateral plate mesoderm The endothelial heart tube is derived from the splanchnopleuric mesoderm related to the pericardial cavity. The tube invaginates into the pericardial sac on its dorsal side. As it does so, the splanchnopleuric mesoderm lining the dorsal side of the pericardial cavity proliferates to form a thick layer called the myoepicardial mantle (or epimyocardial mantle). Option D. Cardiac jelly Cardiac jelly forms an endocardial cushion, whereas myoepithelial mantle forms cardiac muscles and epicardium (visceral layer of the serous pericardium) cardiac jelly forms endocardial cushion.</p>\n<p><strong>Extraedge:</strong></p><p>Cardiac progenitor cells appear at the caudal epiblast, lateral to primitive streak during the 16thâ€“18th days of development. They migrate cranially in an orderly sequence through the primitive streak into the splanchnopleuric layer of intraembryonic mesoderm, where they form a horseshoe-shaped primary heart field along the cranial end of embryonic disc rostral to buccopharyngeal membrane and neural folds.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Endocardial cushion develops from:", "options": [{"label": "A", "text": "Septum Transversum", "correct": false}, {"label": "B", "text": "Somatopleuric lateral plate mesoderm", "correct": false}, {"label": "C", "text": "Splanchnopleuric lateral plate mesoderm", "correct": true}, {"label": "D", "text": "None of the above", "correct": false}], "correct_answer": "C. Splanchnopleuric lateral plate mesoderm", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Splanchnopleuric lateral plate mesoderm Endocardial cushion, formed from cardiac jelly, is a derivative of splanchnopleuric lateral plate mesoderm.</p>\n<p><strong>Highyeild:</strong></p><p>The endocardial cushions are thought to arise from a subset of endothelial cells that undergo epithelial-mesenchymal transition. These cells break cell-to-cell contacts and migrate into the cardiac jelly (towards the interior of the heart tube). These migrated cells form the \"swellings\" called the endocardial cushions seen in the heart tube.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A. Septum Transversum Fibrous pericardium develops from the septum transversum. Option B. somatopleuric lateral plate mesoderm The parietal layer of the serous pericardium arises from the somatopleuric lateral plate mesoderm. Option D. None of the above Endocardial cushion, formed from cardiac jelly, is a derivative of splanchnopleuric lateral plate mesoderm. Hence d) none of the above is incorrect.</p>\n<p><strong>Extraedge:</strong></p><p>Upon sectioning of the heart the atrioventricular endocardial cushions can be observed in the lumen of the atrial canal as two thickenings, one on its dorsal and another on its ventral wall. These thickenings will go on to fuse and remodel to eventually form the valves and septa of the mature adult heart.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Myoepicardial mantles form which of the following structures?", "options": [{"label": "A", "text": "Cardiac Muscles", "correct": true}, {"label": "B", "text": "Endocardial cushion", "correct": false}, {"label": "C", "text": "Fibrous pericardium", "correct": false}, {"label": "D", "text": "Serous pericardium", "correct": false}], "correct_answer": "A. Cardiac Muscles", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Cardiac Muscles Myoepicardial mantles form cardiac muscles. The Heart tube invaginates into the pericardial sac on its dorsal side. As it does so, the splanchnopleuric mesoderm lining the dorsal side of the pericardial cavity proliferates to form a thick layer called the myoepicardial mantle (or epimyocardial mantle). When the invagination is complete, the myoepicardial mantle completely surrounds the heart tube. It gives rise to the cardiac muscle (myocardium) and also to the visceral layer of pericardium (epicardium). The parietal layer of pericardium is derived from somatopleuric mesoderm.</p>\n<p><strong>Highyeild:</strong></p><p>The heart tubes fuse, and the mesenchyme around them thickens to form the myoepicardial mantle, which at first is separated from the endothelial wall of the tube by the cardiac jelly (gelatinous connective tissue substance). The jelly is later invaded by mesenchymal cells. The inner endocardial tube will become the internal endothelial lining of the heart, the endocardium; the myoepicardial mantle gives rise to the myocardium (heart muscle) and epicardium or visceral pericardium.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option B. endocardial cushion The endocardial cushion is formed by cardiac jelly. Option C. fibrous pericardium Fibrous pericardium develops from septum transversum. Option D. serous pericardium Serous pericardium- Parietal layer of the serous pericardium arises from somatopleuric lateral plate mesoderm, whereas Visceral layer of serous pericardium arise from the epicardium.</p>\n<p><strong>Extraedge:</strong></p><p>Endocardial cushions, or atrioventricular cushions, refer to a subset of cells in the development of the heart that play a vital role in the proper formation of the heart septa. They develop on the atrioventricular canal and conotruncal region of the bulbus cordis.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Smooth part of the right atrium is derived from which of the following structures?", "options": [{"label": "A", "text": "Sinus Venosus", "correct": true}, {"label": "B", "text": "Primitive atrium", "correct": false}, {"label": "C", "text": "Primitive ventricle", "correct": false}, {"label": "D", "text": "Bulbus cordis", "correct": false}], "correct_answer": "A. Sinus Venosus", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Sinus Venosus The smooth part of the right atrium is derived from the sinus venosus. Absorption of right horn of sinus venosus into the right half of primitive atrium: This forms the smooth part (sinus venarum) behind crista terminalis develops from absorption of the right horn of sinus venosus into the right atrium by great enlargement of the sinoatrial orifice.</p>\n<p><strong>Highyeild:</strong></p><p>The main right atrium is derived from three sources. They are: Right half of the primitive atrium: It forms the rough trabeculated part (atrium proper) in front of crista terminalis including the right auricle. Absorption of right horn of sinus venosus into the right half of primitive atrium: This forms the smooth part (sinus venarum) behind crista terminalis develops from absorption of the right horn of sinus venosus into the right atrium by great enlargement of the sinoatrial orifice. Absorption of the right half of the AV canal: Most ventral smooth part.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option B. primitive atrium The primitive atrium forms a rough part of both atria. Option C. primitive ventricle The primitive ventricle or embryonic ventricle of the developing heart, together with the bulbus cordis that lies in front of it, gives rise to the left and right ventricles. The primitive ventricle provides the trabeculated parts of the walls, and the bulbus cordis the smooth parts. Option D. bulbus cordis The bulbus cordis is the cranial most part (arterial end) of the developing heart tube. It is divisible into three parts, i.e. (1) proximal, (2) middle and (3) distal. The proximal one-third of the bulbus cordis merges with the cavity of the primitive ventricle and forms the bulboventricular chamber. It takes part in forming the trabeculated part of the right ventricle. The middle part (conus cordis) forms the outflow part of both the ventricles. The distal part (truncus arteriosus) undergoes division by spiral aortopulmonary septum into ascending aorta and plumonary trunk. The spiral septum is formed by a union of right superior and left inferior truncus swellings or cushions.</p>\n<p><strong>Extraedge:</strong></p><p>In the embryo, the thin walls of the sinus venosus are connected below with the right ventricle, and medially with the left atrium, but are free in the rest of their extent. It receives blood from the vitelline vein, umbilical vein and common cardinal vein. The sinus venosus originally starts as a paired structure but shifts towards associating only with the right atrium as the embryonic heart develops. The left portion shrinks in size and eventually forms the coronary sinus (right atrium) and oblique vein of the left atrium, whereas the right part becomes incorporated into the right atrium to form the sinus venarum. Division of Primitive Heart tube</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Genes involved in cardiac development include :", "options": [{"label": "A", "text": "Nkx-2.5", "correct": false}, {"label": "B", "text": "TBX-5", "correct": false}, {"label": "C", "text": "HAND-1", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>All of the above Option A. Nkx-2 NKX -2 (Nirenberg and Kim-2) gene is a master gene regulating heart development. Option B. TBX-5 TBX-5 gene is responsible for septations. Option C. HAND-1 HAND-1 is involved in the formation of ventricles Some Cardiac muscles also develop from neural crest cells.</p>\n<p><strong>Highyeild:</strong></p><p>NKX2.5 contains a homeodomain and is a homologue of the gene tinman that regulates heart development in Drosophila. TBX5 is another transcription factor that contains a DNA-binding motif known as the T-box. Expressed later than NKX2.5, it plays an important role in septation. HAND 1 and HAND 2, under the regulation of NKX2.5, also contribute to expan- sion and differentiation of the ventricles.</p>\n<p><strong>Extraedge:</strong></p><p>Cardiac looping is dependent upon several factors, including the laterality pathway and expression of the transcription factor PITX2 in lateral plate mesoderm on the left side. PITX2 may play a role in the deposition and function of ex- tracellular matrix molecules that assist in looping.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "True about the Pentalogy of Cantrell.", "options": [{"label": "A", "text": "Congenital abnormality consisting of the absence of the diaphragmatic portion of the pericardium", "correct": false}, {"label": "B", "text": "Midline closure defects, including sternal and abdominal wall defects;", "correct": false}, {"label": "C", "text": "Anterior diaphragmatic defect; and congenital heart defects", "correct": false}, {"label": "D", "text": "All of the above", "correct": true}], "correct_answer": "D. All of the above", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>All of the above Abdominal wall defects in the pentalogy of Cantrell occur above the umbilicus (supraumbilical) and in the midline and have a wide range of presentations. Diastasis recti, hernias, and omphalocele have all been described in conjunction with the pentalogy. Sternal defects, too, have a range of presentations, from an absence of the xiphoid process to shortened or cleft sternum. If the sternal defect is large enough, the neonate may have ectopia cordis, in which the heart is located outside the thorax.</p>\n<p><strong>Highyeild:</strong></p><p>Abdominal wall defects in the pentalogy of Cantrell occur above the umbilicus (supraumbilical) and in the midline and have a wide range of presentations. Diastasis recti, hernias, and omphalocele have all been described in conjunction with the pentalogy. Sternal defects, too, have a range of presentations, from an absence of the xiphoid process to shortened or cleft sternum. If the sternal defect is large enough, the neonate may have ectopia cordis, in which the heart is located outside the thorax.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A. congenital abnormality consisting of absence of the diaphragmatic portion of the pericardium Option B. midline closure defects, including sternal and abdominal wall defects; Option C. anterior diaphragmatic defect; and congenital heart defects. Pentalogy of Cantrell (or thoracoabdominal syndrome ) is a rare congenital syndrome that causes defects involving the diaphragm, abdominal wall, pericardium, heart and lower sternum. There are five characteristic findings in the pentalogy of Cantrell: an abdominal wall defect, lower sternal defect, congenital heart malformations, absence of the diaphragmatic pericardium, and an anterior diaphragmatic defect So, Option D: All of the above is the correct answer.</p>\n<p><strong>Extraedge:</strong></p><p>Many congenital heart malformations have been described in conjunction with the pentalogy of Cantrell. The most common is ventricular septal defect, found in 72% of cases. Others include atrial septal defect, cardiac diverticulum, pulmonic stenosis, double outlet right ventricle, tetralogy of Fallot, dextrocardia, and transposition of the great vessels.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Premature closure of foramen ovale results in:", "options": [{"label": "A", "text": "Underdeveloped right atrium", "correct": false}, {"label": "B", "text": "Right ventricular hypertrophy", "correct": true}, {"label": "C", "text": "Left ventricular hypertrophy", "correct": false}, {"label": "D", "text": "Pulmonary stenosis", "correct": false}], "correct_answer": "B. Right ventricular hypertrophy", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Right ventricular hypertrophy Occasionally, the oval foramen closes during prenatal life . This abnormality, premature closure of the oval foramen, leads to massive hypertrophy of the right atrium and ventricle and underdevelopment of the left side of the heart. Due to premature closure of the foramen ovale, most of the blood starts accumulating on the Right side of the heart, causing hypertrophy of the right side and underdevelopment of the left side. Death usually occurs shortly after birth.</p>\n<p><strong>Highyeild:</strong></p><p>The foramen ovale acts like a one-way valve from right to left. Septum primum is the thin and mobile-like flap, while septum secundum (crista dividens) is thick, firm, and immobile. When blood accumulates in the right atrium, it pushes the septum primum towards the left, foramen ovale opens, and blood flows from the right to the left atrium. When the blood flows from the right to the left atrium, the thin flap of septum primum moves away, and there is no obstruction to the blood flow. But after birth, the left atrium receives blood from the lungs, and pressure within it becomes greater than that in the right atrium. As blood pressure in the left atrium increases, it pushes the septum primum to the right. It comes in opposition with the septum secundum, and the foramen ovale is closed (physiological closure); thus, the blood is prevented from flowing from the left atrium to the right atrium.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A . Underdeveloped right atrium Due to premature closure of the foramen ovale, most of the blood starts accumulating in the right side of the heart, causing hypertrophy of the right side leading to massive hypertrophy of the right atrium and right ventricle and underdevelopment of the left side of the heart. Option C . Left ventricular hypertrophy Due to premature closure of foramen ovale, most of the blood starts accumulating in the Right side of the heart, causing hypertrophy of the right side leading to massive hypertrophy of the right atrium and right ventricle and underdevelopment of the left atrium and left ventricle of the heart. While ventricular hypertrophy occurs naturally as a reaction to aerobic exercise and strength training, it is most frequently referred to as a pathological reaction to cardiovascular disease or high blood pressure. Option D . Pulmonary stenosis Fallotâ€™s tetralogy consists of the following: Interventricular septal defect Aorta overriding the free upper edge of the ventricular septum Pulmonary stenosis Hypertrophy of the right ventricle.</p>\n<p><strong>Extraedge:</strong></p><p>Tetralogy of Fallot occurs in 9.6/10,000 births but occurs as a common feature in individuals with Alagille syndrome. In addition to the heart defect, these people have abnormalities in other organs, including the liver, and a characteristic face with a broad prominent forehead, deep-set eyes, and a small pointed chin.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Interventricular septum develops from all except.", "options": [{"label": "A", "text": "Floor of the ventricle", "correct": false}, {"label": "B", "text": "Right and left bul- bar ridges", "correct": false}, {"label": "C", "text": "Right horn of sinus venosus", "correct": true}, {"label": "D", "text": "AV cushions", "correct": false}], "correct_answer": "C. Right horn of sinus venosus", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Right horn of sinus venosus The sinus venosus exists distinctly only in the embryonic heart where it is found between the two venae cavae; in the adult, the sinus venosus becomes incorporated into the wall of the right atrium to form a smooth part of the right atrium called the sinus venarum which is separated from the rest of the atrium by a ridge called the crista terminalis.</p>\n<p><strong>Highyeild:</strong></p><p>Ventricular septal defects involving the membranous or muscular portion of the septum are the most common congenital cardiac malformation, occurring as an isolated condition in 12/10,000 births. Most [80%] occur in the muscular region of the septum and resolve as the child grows. Membranous VSDs usually represent a more serious defect and are often associated with abnormalities in the partitioning of the conotruncal region.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A. Floor of the ventricle A median muscular ridge grows upward from the floor of the primitive ventricle (near its apex) and reaches almost up to the AV cushions. It forms the muscular part of the IV septum. Option B. Right and left bulbar ridges From the conical part of the common ventricular chamber the two ridges (i.e., right and left bulbar ridges) develop in the distal part of the bulbus cordis. They grow and approach each other to fuse together to form the bulbar part of the IV septum. Option D. AV cushions The gap between the upper edge of the muscular part of the IV septum and the lower end of the bulbar part of IV septum is filled by proliferation of tissue from the right side of the AV cushions and from the right and left bulbar ridges. Thus, the membranous part of IV septum is derived from three sources: right bulbar ridge, left bulbar ridge, and AV cushions.</p>\n<p><strong>Extraedge:</strong></p><p>Membranous ventricular septal defects are more common than muscular ventricular septal defects, and are the most common congenital cardiac anomaly.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Unequal division of conus cordis resulting from the anterior displacement of conotruncal septum gives rise to", "options": [{"label": "A", "text": "Persistent Truncus Arteriosus", "correct": false}, {"label": "B", "text": "Coarctation of aorta", "correct": false}, {"label": "C", "text": "Tetralogy of Fallot", "correct": true}, {"label": "D", "text": "Transposition of great vessels", "correct": false}], "correct_answer": "C. Tetralogy of Fallot", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Tetralogy of Fallot Tetralogy of Fallot, the most frequently occurring abnormality of the conotruncal region, is due to an unequal division of the conus resulting from anterior displacement of the conotruncal septum.</p>\n<p><strong>Highyeild:</strong></p><p>Displacement of the Conotruncal septum produces four cardiovascular alterations: a narrow right ventricular outflow region, pulmonary infundibular stenosis; a large defect of the interventricular septum; an overriding aorta that arises directly above the septal defect; and hypertrophy of the right ventricular wall because of higher pressure on the right side. Tetralogy of Fallot</p>\n<p><strong>Random:</strong></p><p>\" Explanation for incorrect options: - Option A. Persistent Truncus Arteriosus Persistent truncus arteriosus: In this anomaly spiral septum (aorticopulmonary septum) fails to develop. Pulmonary arteries and aorta arise from a common vessel. Option B. Coarctation of aorta The coarctation means narrowing of the aorta. It occurs due to extension of the process of obliteration of ductus arteriosus (DA) into the aorta. The coarctation of aorta is of two types: preductal and postductal. Preductal type of coarctation of aorta: In this type, a narrow segment of arch of aorta is proximal to the entrance of the DA. The DA persists in this type. Postductal type of coarctation of aorta: In this type, a narrow segment of the arch of aorta is distal to the entrance of the DA. The DA usually obliterates this type. Option D. Transposition of great vessel Transposition of the great vessels occurs when the conotruncal septum fails to follow its normal spiral course and runs straight down. Transposition of great vessels: The aorta arises from the right ventricle, and the pulmonary trunk from the left ventricle. \"</p>\n<p><strong>Extraedge:</strong></p><p>If Tetralogy of Fallot is associated with ASD (Atrial septal defect), it is known as Pentalogy of Fallot. Functional closure of the ductus arteriosus (DA) occurs at birth by contraction of smooth muscles of the DA. Anatomical closure occurs by the proliferation of tunica intima of DA 1â€“3 months after birth. It is mediated by bradykininâ€”a substance released from lungs during their initial inflation.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The structure is derived from the left 4th aortic arch.", "options": [{"label": "A", "text": "Right common carotid artery", "correct": false}, {"label": "B", "text": "Right subclavian artery", "correct": false}, {"label": "C", "text": "Arch of aorta", "correct": true}, {"label": "D", "text": "None of the above", "correct": false}], "correct_answer": "C. Arch of aorta", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Arch of aorta The fourth right arch forms the most proximal segment of the right subclavian artery , as far as the origin of its internal thoracic branch. The f ourth left arch forms a part of the arch of the aorta, between the origin of the left common carotid and the left subclavian arteries.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A. Right common carotid artery Right common carotid artery - arises from the right third aortic arch. Option B. Right subclavian artery Right subclavian artery - arises from the right fourth aortic arch proximally, the right seventh intersegmental artery distally. Option D. None of the above The fourth left arch forms a part of the arch of the aorta, between the origin of the left common carotid and the left subclavian arteries, so Option D is not the correct answer.</p>\n<p><strong>Extraedge:</strong></p><p>Left Subclavian Artery - arises entirely from the left seventh intersegmental artery.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Photograph shown below represents the stage of development of aortic arches. Aberrant subclavian artery results due to.", "options": [{"label": "A", "text": "Persistence of A and obliteration of B", "correct": false}, {"label": "B", "text": "Persistence of A only", "correct": false}, {"label": "C", "text": "Persistence of B and obliteration of A", "correct": true}, {"label": "D", "text": "Persistence of B only", "correct": false}], "correct_answer": "C. Persistence of B and obliteration of A", "question_images": ["https://dbmi-data.s3.ap-south-1.amazonaws.com/photos-1683682476439-QTDA076012IMG1.JPG"], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Persistence of B and obliteration of A Aberrant subclavian artery occurs due to the disappearance of the Right fourth aortic arch and the proximal portion of the right dorsal aorta. Here ( A) is the proximal portion of the right dorsal aorta and (B) is the distal portion of the right dorsal aorta. In this case, the right subclavian artery is formed by the distal portion of the right dorsal aorta (â€˜Bâ€™) and the right seventh intersegmental artery. That means (â€˜Aâ€™) disappears and the distal portion of the right dorsal aorta (â€˜Bâ€™) persists. So, Option C is the correct answer and Option A,B and D are incorrect answers.</p>\n<p><strong>Highyeild:</strong></p><p>Normally, the right subclavian artery is contributed by (proximal to distal): Right fourth arch artery, right dorsal aorta and right seventh cervical intersegmental artery.</p>\n<p><strong>Extraedge:</strong></p><p>In case of an abnormal subclavian artery a vascular ring is formed around the trachea and esophagus (right subclavian being posterior to the trachea and esophagus, and arch of aorta being anterior to them). Compression of the trachea and esophagus usually does not occur as the ring is too wide. Sometimes such an abnormal right subclavian artery may compress the esophagus, causing difficulty in swallowing. Clinically this condition is termed â€˜ dysphagia lusoria . Dysphagia lusoria</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(