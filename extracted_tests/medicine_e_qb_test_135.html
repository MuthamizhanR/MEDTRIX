<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" nameag="viewport"/>
<title>Stroke - Hemorrhagic Stroke (Part 5)</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
        /* Custom styles for enhanced aesthetics and responsiveness */
        .option-btn {
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .option-btn:hover, .option-btn:active {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .option-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        .marked {
            background-color: #fef08a;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
            background: linear-gradient(to right, #3b82f6, #22c55e);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        .question-nav-btn, .result-nav-btn-grid {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 16px;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        .question-nav-btn:hover, .question-nav-btn:active, .result-nav-btn-grid:hover, .result-nav-btn-grid:active {
            transform: scale(1.05);
        }
        .answered {
            background-color: #22c55e;
            color: white;
        }
        .unanswered {
            background-color: #e5e7eb;
        }
        .marked-nav {
            border: 2px solid #fef08a;
        }
        .video-container, .audio-container {
            display: none;
            position: relative;
        }
        .video-container.active, .audio-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .section-transition {
            transition: opacity 0.3s ease;
        }
        .section-transition.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .result-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .result-nav-btn {
            background-color: #4b5563;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .result-nav-btn:hover, .result-nav-btn:active {
            background-color: #374151;
            transform: scale(1.05);
        }
        .result-nav-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .error-message {
            color: #dc2626;
            font-weight: bold;
            margin-top: 1rem;
        }
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .question-nav-btn, .result-nav-btn-grid {
                width: 38px;
                height: 38px;
                font-size: 14px;
            }
            .nav-panel, .results-nav-panel {
                width: 100%;
                max-width: 100%;
                overscroll-behavior: contain;
            }
            .option-btn {
                padding: 12px;
                font-size: 14px;
            }
            .header-text {
                font-size: 1.5rem;
            }
            .subheader-text {
                font-size: 0.875rem;
            }
            .button-group, .result-nav {
                flex-direction: column;
                gap: 0.5rem;
            }
            .result-nav-btn {
                width: 100%;
                text-align: center;
            }
        }
        /* Dark mode styles */
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-700 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .bg-gray-200 {
            background-color: #4b5563;
        }
        .dark .border {
            border-color: #4b5563;
        }
        .dark .bg-blue-500 {
            background-color: #2563eb;
        }
        .dark .hover\:bg-blue-600:hover {
            background-color: #1d4ed8;
        }
        .dark .bg-yellow-300 {
            background-color: #b45309;
            color: white;
        }
        .dark .hover\:bg-yellow-400:hover {
            background-color: #92400e;
        }
        .dark .bg-green-500 {
            background-color: #15803d;
        }
        .dark .hover\:bg-green-600:hover {
            background-color: #166534;
        }
        .dark .bg-gray-500 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #374151;
        }
        .dark .result-nav-btn, .dark .result-nav-btn-grid {
            background-color: #2563eb;
        }
        .dark .result-nav-btn:hover, .dark .result-nav-btn:active, .dark .result-nav-btn-grid:hover, .dark .result-nav-btn-grid:active {
            background-color: #1d4ed8;
        }
        .dark .result-nav-btn:disabled, .dark .result-nav-btn-grid:disabled {
            background-color: #4b5563;
        }
        .video-placeholder {
            width: 400px;
            height: 300px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        .play-icon {
            font-size: 40px;
            color: #007bff;
        }
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>

<script>
    // --- GEMINI AUTO-CAPTURE LISTENER ---
    // This function runs immediately after the quiz determines an answer is INCORRECT.
    function captureMistake(questionIndex, questionsData) {
        try {
            const item = questionsData[questionIndex];
            // Use the question text as a unique, stable identifier
            const uniqueId = 'srs_quiz_' + btoa(item.text.substring(0, 50)).replace(/=/g, ''); 

            // 1. Clean and simplify the explanation for storage
            let explanationText = item.explanation || item.correct_answer || "No explanation provided.";
            
            // Strip complex HTML (images, lists) and boilerplate text
            explanationText = explanationText.replace(/<img[^>]*>/g, "[IMAGE]").trim(); // Replace images with placeholder
            explanationText = explanationText.replace(/<p><strong>Ans\. [A-Z]\).*/i, "").trim(); // Remove the repeated Answer line
            explanationText = explanationText.replace(/<p><strong>Educational Objective:<\/strong>.*?<\/p>/gs, "").trim(); // Remove EO block
            explanationText = explanationText.replace(/@dams_new_robot/g, "");
            explanationText = explanationText.replace(/<\/?[^>]+(>|$)/g, " ").trim(); // Final strip of remaining tags

            // 2. Prepare card data
            const cardData = {
                text: item.text,
                answer: item.correct_answer,
                explanation: explanationText.substring(0, 500), // Keep explanations short
                nextReview: 0, // Due immediately
                reviews: 0,
                source: document.title.split('-')[0].trim() || 'Quiz'
            };

            // 3. Save to Local Storage (SRS Bank)
            localStorage.setItem(uniqueId, JSON.stringify(cardData));
            
            console.log(`üß† Captured Mistake #${questionIndex + 1} from ${document.title}`);

        } catch (e) {
            console.error("SRS Capture Failed:", e);
        }
    }
    // --- END GEMINI AUTO-CAPTURE LISTENER ---
</script>

</head>
<body class="bg-gray-100 font-sans transition-colors duration-300 min-h-screen overflow-y-auto">
<!-- Header Section -->
<header class="bg-blue-600 text-white p-4 shadow-lg">
<div class="container mx-auto">
<h1 class="text-2xl md:text-3xl font-bold header-text">Stroke - Hemorrhagic Stroke (Part 5)</h1>
<p class="mt-2 text-sm md:text-base subheader-text">
                10 Questions | 10 Total Marks | 20 min Duration | ~120.0 sec/question
            </p>
<button class="mt-2 bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white" id="theme-toggle">
                Toggle Dark Mode
            </button>
</div>
</header>
<!-- Instructions Section -->
<section class="container mx-auto p-4 md:p-6 section-transition" id="instructions">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-xl font-semibold mb-4">Instructions</h2>
<ul class="list-disc list-inside space-y-2 text-gray-700">
<li>This test contains 10 multiple choice questions.</li>
<li>Each question has only one correct answer.</li>
<li>You will have 20 minutes to complete the test.</li>
<li>Click or tap on an option to select your answer.</li>
<li>Use the "Mark for Review" button to revisit questions.</li>
<li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
<li>Click "Submit" to finish and view results.</li>
<li>The test will auto-submit when time runs out.</li>
</ul>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="start-test">Start Test</button>


</div>
<div class="error-message hidden" id="error-message"></div>
</div>
</section>
<!-- Quiz Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="quiz">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<!-- Progress Bar -->
<div class="w-full bg-gray-200 rounded-full h-3 mb-4">
<div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
<!-- Question Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-4">
<h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 10</h2>
<p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
</div>
<!-- Question Content -->
<div class="mb-6" id="question-content">
<p class="text-gray-800 mb-4" id="question-text"></p>
<div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
<div class="space-y-3" id="options"></div>
</div>
<!-- Navigation Buttons -->
<div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition w-full md:w-auto" disabled="" id="previous-btn">Previous</button>
<button class="bg-yellow-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-yellow-400 transition w-full md:w-auto" id="mark-review">Mark for Review</button>
<button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="next-btn">Next</button>
<button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full md:w-auto" id="nav-toggle">Questions Navigation</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
</div>
</div>
</section>
<!-- Results Section -->
<section class="container mx-auto p-4 md:p-6 hidden section-transition" id="results">
<div class="bg-white rounded-lg shadow-md p-5 md:p-8 md:p-5 md:p-8 min-h-screen md:min-h-0 md:rounded-lg md:shadow-md rounded-none shadow-none flex flex-col justify-between">
<h2 class="text-2xl font-semibold mb-4">Stroke - Hemorrhagic Stroke (Part 5) - Results</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<p><strong>Correct:</strong> <span id="correct-count">0</span></p>
<p><strong>Wrong:</strong> <span id="wrong-count">0</span></p>
<p><strong>Unanswered:</strong> <span id="unanswered-count">0</span></p>
<p><strong>Marked for Review:</strong> <span id="marked-count">0</span></p>
</div>
<h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 10</h3>
<div class="space-y-6" id="results-content"></div>
<div class="result-nav">
<button aria-label="Previous question result" class="result-nav-btn" disabled="" id="prev-result">Previous</button>
<button aria-label="Toggle results navigation panel" class="result-nav-btn" id="results-nav-toggle">Results Navigation</button>
<button aria-label="Next question result" class="result-nav-btn" id="next-result">Next</button>
</div>
<div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
<button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition" id="take-again">Take Again</button>
<button class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition" id="review-test">Review Test</button>
</div>
</div>
</section>
<!-- Exit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="exit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
<p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
<button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
</div>
</div>
</div>
<!-- Submit Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="submit-modal">
<div class="bg-white rounded-lg p-6 max-w-sm w-full">
<h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
<p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 10 questions.</p>
<p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
<div class="flex justify-end space-x-4">
<button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
<button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition" id="confirm-submit">Submit Test</button>
</div>
</div>
</div>
<!-- Quiz Navigation Panel -->
<div class="fixed inset-y-0 right-0 nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="nav-panel">
<h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
</div>
<!-- Results Navigation Panel -->
<div class="fixed inset-y-0 right-0 results-nav-panel bg-white shadow-lg p-4 hidden overflow-y-auto" id="results-nav-panel">
<h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
<div class="mb-4">
<select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
<option value="all">All Questions</option>
<option value="answered">Answered</option>
<option value="unanswered">Unanswered</option>
<option value="marked">Marked for Review</option>
</select>
</div>
<div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
<button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
</div>
<!-- JavaScript Logic -->
<script>
        // Enable debug mode for detailed logging
        const DEBUG_MODE = true;

        // Log debug messages
        function debugLog(message) {
            if (DEBUG_MODE) {
                console.log(`[DEBUG] ${message}`);
            }
        }

        // Initialize questions with error handling
        let questions = [];
        let currentResultQuestion = 0; // State for current question in results
        try {
            debugLog("Attempting to parse questions_json");
            questions = [{"text": "The most common cause of subarachnoid haemorrhage is", "options": [{"label": "A", "text": "Arterio-venous malformation", "correct": false}, {"label": "B", "text": "Cavernous angioma", "correct": false}, {"label": "C", "text": "Aneurysm", "correct": true}, {"label": "D", "text": "Hypertension", "correct": false}], "correct_answer": "C. Aneurysm", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Aneurysm The most common cause of Subarachnoid haemorrhage (SAH) among the given options is Aneurysm.</p>\n<p><strong>Highyeild:</strong></p><p>Subarachnoid haemorrhage (SAH) - Causes- Head trauma (the most common cause of SAH) Rupture of a saccular aneurysm (Most common non-traumatic cause) Approximately 85% of aneurysms occur in the anterior circulation , mostly on the circle of Willis. Other causes Bleeding from a vascular malformation Arteriovenous malformation Dural arteriovenous fistula Extension into the subarachnoid space from a primary intracerebral haemorrhage. Idiopathic SAHs Localized to the perimesencephalic cisterns Benign have a venous or capillary source Angiography is unrevealing. Pathology of Saccular (Berry) aneurysms:- Saccular (Berry) aneurysms occur at the bifurcations of the large to medium-sized intracranial arteries ‚Üí rupture is into the subarachnoid space in the basal cisterns and often into the parenchyma of the adjacent brain. As an aneurysm develops, it typically forms a neck with a dome. The length of the neck and the size of the dome vary greatly and are factors that are important in planning neurosurgical obliteration or endovascular embolization. The arterial internal elastic lamina disappears at the base of the The media thins and connective tissue replaces smooth-muscle cells. At the site of rupture (most often the dome) the wall thins , and the tear that allows bleeding is often < 0.5 mm long. Aneurysm size and site are important in predicting the risk of rupture- Greater risk of rupture Diameter >7 mm at the top of the basilar artery at the origin of the posterior communicating artery .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Explanation for incorrect options:- Option A. Arterio-venous malformation- Bleeding from a vascular malformation ( arteriovenous malformation or dural arteriovenous fistula ) may extend into the subarachnoid space from a primary intracerebral hemorrhage. But,is not the most common cause of SAH. Option B. Cavernous angioma- Can cause Idiopathic SAHs localized to the perimesencephalic cisterns which are benign and seen on angiography . Option D. Hypertension - is associated with higher incidence of SAH. But,is not the most common cause of SAH.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Triple H therapy is done for?", "options": [{"label": "A", "text": "SDH", "correct": false}, {"label": "B", "text": "SAH", "correct": true}, {"label": "C", "text": "EDH", "correct": false}, {"label": "D", "text": "Intraparenchymal bleed.", "correct": false}], "correct_answer": "B. SAH", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>SAH</p>\n<p><strong>Highyeild:</strong></p><p>Treatment of Subarachnoid haemorrhage- Medical support Airway protection BP management Prevent vasospasm- Nimodipine volume expansion Triple H method of treatment Hypertension Hemodilution Hypervolemia If vasospasm persists Phenytoin was given as prophylactic therapy Surgery Clipping of aneurysm Endovascular coiling(Embolization) uses a catheter to clog up the site of bleeding Superior to surgical clipping.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Options A, C, and D are incorrect.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following features of stroke need not be treated:", "options": [{"label": "A", "text": "Dysphagia", "correct": false}, {"label": "B", "text": "Neglect", "correct": false}, {"label": "C", "text": "Spasticity", "correct": true}, {"label": "D", "text": "Fever", "correct": false}], "correct_answer": "C. Spasticity", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Spasticity As some patients depend on spasticity as an aid to stand, transfer, or walk. Treating spasticity affects the normal ambulation of patients . Hence treating spasticity, as a rule, is not always preferred due to its beneficiary compensatory aspect.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A. Dysphagia- It is serious and it poses a significant risk for aspiration and hence it has to be treated. Option B. Neglect- . It has a negative impact on daily activities and functional recovery , hence it should be treated. Option D . Fever - is deleterious in stroke So it has to be treated.</p>\n<p><strong>Extraedge:</strong></p><p>Medical management of stroke and TIA. Rounded boxes are diagnoses; rectangles are interventions. Numbers are percentages of strokes overall. ABCs, airway, breathing, circulation; BP, blood pressure; CEA, carotid endarterectomy; ICH, intracerebral hemorrhage; SAH, subarachnoid hemorrhage; TIA, transient ischemic attack</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "In a patient with a ruptured cerebral aneurysm, the causes of delayed neurological symptoms are, all except:", "options": [{"label": "A", "text": "Enlargement of aneurysm", "correct": true}, {"label": "B", "text": "Rebleed", "correct": false}, {"label": "C", "text": "Spasm", "correct": false}, {"label": "D", "text": "Hydrocephalus", "correct": false}], "correct_answer": "A. Enlargement of aneurysm", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Enlargement of aneurysm Enlargement of an aneurysm occurs before the aneurysm ruptures. Hence, it is not a cause of delayed neurologic deficits in Subarachnoid Hemorrhage.</p>\n<p><strong>Highyeild:</strong></p><p>There are four major causes of delayed neurologic deficits in SubArachnoid haemorrhage- Rerupture Hydrocephalus Delayed cerebral ischemia (DCI) due to vasospasm Hyponatremia</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Options B, C, and D can cause delayed symptoms in SAH.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The most common cause of intraparenchymal bleeding is:", "options": [{"label": "A", "text": "Thrombocytopenia", "correct": false}, {"label": "B", "text": "Diabetes", "correct": false}, {"label": "C", "text": "Hypertension", "correct": true}, {"label": "D", "text": "Berry aneurysm", "correct": false}], "correct_answer": "C. Hypertension", "question_images": ["https://dbmi-data.s3.ap-south-1.amazonaws.com/photos-1683855420483-QTDM137006IMG1.JPG"], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Hypertension Flair MRI Brain shows hyperintensity in the Intraparenchymal area i.e. Intraparenchymal hemorrhage.</p>\n<p><strong>Highyeild:</strong></p><p>Intraparenchymal haemorrhage- Non-Traumatic causes- Hypertension (Most common) Ruptured Arteriovenous malformation Cavernous hemangioma Bleeding d/t underlying tumours Cerebral Amyloid angiopathy Bleeding disorder Drugs Anticoagulants Antiplatelets Cocaine Amphetamine abuser. Hypertension Chronic Hypertension Fragmentation Fibrinoid necrosis Lipohyalinosis Result in false/pseudoaneurysm (Charcoat Bouchard aneurysm)</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Options A, B and D are incorrect.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "The investigation to be performed in patient of SAH with normal NCCT scan:", "options": [{"label": "A", "text": "Contrast-enhanced CT", "correct": false}, {"label": "B", "text": "CSF examination", "correct": true}, {"label": "C", "text": "MRI", "correct": false}, {"label": "D", "text": "Gadolinium-enhanced MRI", "correct": false}], "correct_answer": "B. CSF examination", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>CSF examination In this patient as NCCT has failed to demonstrate Subarachnoid Hemorrhage , the next step should be L umbar Puncture and examination of CSF .</p>\n<p><strong>Highyeild:</strong></p><p>The hallmark of aneurysmal rupture is blood in the CSF. More than 95% of cases have enough blood to be visualized on a high-quality non-contrast CT scan obtained within 72 h. If the scan fails to establish the diagnosis of SubArachnoid Hemorrhage and no mass lesion or obstructive hydrocephalus is found, a lumbar puncture should be performed to establish the presence of subarachnoid blood. Lysis of the red blood cells and subsequent conversion of haemoglobin to bilirubin stains the spinal fluid yellow within 6‚Äì12 h. This xanthochromic spinal fluid peaks in intensity at 48 h and lasts for 1‚Äì4 weeks, depending on the amount of subarachnoid blood.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Options A and D - contrast is not used in a patient with a head injury. Option C - MRI will not be preferred in the given clinical scenario. MR angiography can be used to localize unruptured aneurysms.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "20-year, male falls on the ground after striking his temple to the concrete while taking a head in a football game. However, after a few minutes, he regained consciousness and resumed playing thereafter until he lapsed into unconsciousness and was taken to the hospital. In the Emergency room, he is unresponsive, with a dilated right pupil. The most important next step is:", "options": [{"label": "A", "text": "NCCT", "correct": true}, {"label": "B", "text": "CECT", "correct": false}, {"label": "C", "text": "Burr Hole Incision", "correct": false}, {"label": "D", "text": "X-Ray of the skull and cervical spine", "correct": false}], "correct_answer": "A. NCCT", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>NCCT After getting a head injury, the patient was conscious between 2 episodes of unconsciousness (Lucid interval ) which point towards a diagnosis of Extradural haemorrhage . The most important next step is to confirm the diagnosis and that is by NCCT.</p>\n<p><strong>Highyeild:</strong></p><p>Extradural haemorrhage- Cause- An injury to a meningeal arterial vessel They are often accompanied by a ‚Äúlucid interval‚Äù of several minutes to hours prior to neurologic deterioration. They occur in up to 10% of cases of severe head injury but are less often associated with underlying cortical damage compared to subdural hematomas. Rapid surgical evacuation and ligation or cautery of the damaged vessel, usually the middle meningeal artery that has been lacerated by an overlying skull fracture, is indicated. If recognized and treated rapidly, patients often have favourable outcome.</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option B. CECT- contrast studies are not done in head injuries. Option C. Burr Hole Incision- Burr hole is a difficult procedure - done when facilities for investigations are not available. Option D. X-Ray skull and cervical spine- X ray are not the preferred modalities in this case.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "A patient presents to the emergency with a thunderclap, headache and vomiting. On examination, there is altered loc, nuchal rigidity and pupillary dilation. You suspect subarachnoid haemorrhage. What is the most likely cause?", "options": [{"label": "A", "text": "Rupture of berry aneurysm in the anterior circulation", "correct": false}, {"label": "B", "text": "Cerebrovascular malformation, the lobar surface of the brain", "correct": false}, {"label": "C", "text": "Lenticulostriate vessels, putamen", "correct": false}, {"label": "D", "text": "Posterior communicating artery rupture", "correct": true}], "correct_answer": "D. Posterior communicating artery rupture", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Posterior communicating artery rupture Although the common non-traumatic cause of Subarachnoid haemorrhage (SAH) is rupture of a berry aneurysm and the most common location of Berry aneurysm is in Anterior circulation , in this case, Option D is correct because posterior communicating artery aneurysm causes pupillary dilation due to compression of CN III , due to their close proximity.</p>\n<p><strong>Highyeild:</strong></p><p>Subarachnoid haemorrhage (SAH) - Causes- Head trauma (the most common cause of SAH) Rupture of a saccular aneurysm (Most common non-traumatic cause) Approximately 85% of aneurysms occur in the anterior circulation , mostly on the circle of Willis. Other causes Bleeding from a vascular malformation Arteriovenous malformation Dural arteriovenous fistula Extension into the subarachnoid space from a primary intracerebral haemorrhage. Idiopathic SAHs Localized to the perimesencephalic cisterns Benign have a venous or capillary source Angiography is unrevealing. Pathology of Saccular (Berry) aneurysms:- Saccular (Berry) aneurysms occur at the bifurcations of the large to medium-sized intracranial arteries ‚Üí Rupture is into the subarachnoid space in the basal cisterns and often into the parenchyma of the adjacent brain. As an aneurysm develops, it typically forms a neck with a dome. The length of the neck and the size of the dome varies greatly and are factors that are important in planning neurosurgical obliteration or endovascular embolization. The arterial internal elastic lamina disappears at the base of the The media thins and connective tissue replaces smooth-muscle cells. At the site of rupture (most often the dome) the wall thins , and the tear that allows bleeding is often < 0.5 mm long. Aneurysm size and site are important in predicting the risk of rupture- Greater risk of rupture Diameter >7 mm at the top of the basilar artery at the origin of the posterior communicating artery .</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Option A. Rupture of berry aneurysm in the anterior circulation will not compress 3rd cranial nerve. Option B. Cerebrovascular malformation, the lobar surface of the brain- It is a rare cause of intracranial haemorrhage. Option C. Lenticulostriate vessels, putamen -Commonly involved in poorly controlled chronic hypertension .</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is an early complication following SAH, and what is its management?", "options": [{"label": "A", "text": "Risk of rebleed, keep BP < 140/80", "correct": true}, {"label": "B", "text": "Cerebral vasospasm, Labetalol for 21 days", "correct": false}, {"label": "C", "text": "Cerebral salt wasting syndrome, hypotonic saline", "correct": false}, {"label": "D", "text": "Cerebral vasospasm, Amlodipine for 14 days", "correct": false}], "correct_answer": "A. Risk of rebleed, keep BP < 140/80", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Risk of rebleed, keep BP < 140/80 Haemorrhage , and prevented by keeping BP < 140/80</p>\n<p><strong>Highyeild:</strong></p><p>The early complication in Subarachnoid Hemorrhage- Rebleeding Risk in 48 hr Ruptured aneurysm ‚ÜíRebleed Risk is 3-4% in the first 24 hr Then the risk of rebleeding is 1-2% /day in the first 1 month. To prevent keeping BP <140/80 Treatment in a patient having Rebleed- Coiling (Interventional procedure) Clipping (Surgery)</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Options B, C, and D are delayed complications of Subarachnoid Hemorrhage.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}, {"text": "Which of the following is not used in the management of vasospasm occurring after SAH?", "options": [{"label": "A", "text": "Nimodipine", "correct": false}, {"label": "B", "text": "Phenylephrine", "correct": false}, {"label": "C", "text": "Hemodilution", "correct": false}, {"label": "D", "text": "Labetalol", "correct": true}], "correct_answer": "D. Labetalol", "question_images": [], "explanation_images": [], "explanation": "<p><strong>Solution:</strong></p><p>Labetalol Labetalol is not used in the management of vasospasm occurring after Subarachnoid Hemorrhage.</p>\n<p><strong>Highyeild:</strong></p><p>Treatment with the calcium channel antagonist nimodipine (60 mg PO q4h) improves outcomes , perhaps by preventing ischemic injury rather than reducing the risk of  vasospasm. Cerebral perfusion can be improved in symptomatic vasospasm by increasing mean arterial pressure with vasopressor agents such as phenylephrine or norepinephrine Intravascular volume can be expanded with crystalloid, augmenting cardiac output and reducing blood viscosity by reducing the hematocrit ; this so-called ‚Äútriple-H‚Äù (hypertension, hemodilution, and hypervolemic)</p>\n<p><strong>Random:</strong></p><p>Explanation for incorrect options: - Options A, B, and C are used in the management of vasospasm occurring after Subarachnoid Hemorrhage.</p>\n<p>@dams_new_robot</p>", "bot": "@dams_new_robot", "video": ""}];
            if (!Array.isArray(questions) || questions.length === 0) {
                throw new Error("Questions data is empty or invalid");
            }
            debugLog(`Successfully parsed ${questions.length} questions`);
        } catch (e) {
            console.error("Failed to parse questions_json:", e);
            document.getElementById(